#!/usr/bin/env python3
"""
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ğŸ¤– J.A.R.V.I.S. v3.0 - BIMAR Presale Intelligence System   â•‘
â•‘  Just A Rather Very Intelligent Sales-assistant              â•‘
â•‘                                                              â•‘
â•‘  Telegram Bot Ğ´Ğ»Ñ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ Ğ¿Ñ€ĞµÑĞµĞ¹Ğ»-Ğ¿Ğ°ĞºĞµÑ‚Ğ¾Ğ²                 â•‘
â•‘  Ñ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸ĞµĞ¹ Manus API                                    â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
"""

import os
import sys
import json
import asyncio
import aiohttp
import logging
import tempfile
from datetime import datetime, timedelta
from typing import Optional, Dict, Any, List
from urllib.parse import urlparse

from aiogram import Bot, Dispatcher, Router, F
from aiogram.types import (
    Message, CallbackQuery, FSInputFile,
    ReplyKeyboardMarkup, KeyboardButton,
    InlineKeyboardMarkup, InlineKeyboardButton,
    ReplyKeyboardRemove
)
from aiogram.filters import Command, StateFilter
from aiogram.fsm.context import FSMContext
from aiogram.fsm.state import State, StatesGroup
from aiogram.fsm.storage.memory import MemoryStorage
from aiogram.enums import ParseMode

# Ğ˜Ğ¼Ğ¿Ğ¾Ñ€Ñ‚ Ğ¿Ñ€Ğ¾Ğ¼Ğ¿Ñ‚Ğ¾Ğ² Ğ´Ğ»Ñ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ²

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ĞŸĞ ĞĞœĞŸĞ¢Ğ« Ğ”Ğ›Ğ¯ Ğ”ĞĞšĞ£ĞœĞ•ĞĞ¢ĞĞ’ (Ğ²ÑÑ‚Ñ€Ğ¾ĞµĞ½Ñ‹ Ğ¸Ğ· document_prompts.py)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
"""
ĞÑ‚Ğ´ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ğ¿Ñ€Ğ¾Ğ¼Ğ¿Ñ‚Ñ‹ Ğ´Ğ»Ñ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ° JARVIS v3.0
ĞšĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ğ¿Ñ€Ğ¾Ğ¼Ğ¿Ñ‚ Ñ„Ğ¾ĞºÑƒÑĞ¸Ñ€ÑƒĞµÑ‚ÑÑ Ğ½Ğ° ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ğ¾Ğ¼ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğµ Ñ ÑƒÑĞ¸Ğ»ĞµĞ½Ğ½Ñ‹Ğ¼ Ğ¾Ğ±Ñ€Ğ°Ñ‰ĞµĞ½Ğ¸ĞµĞ¼ Ğº Ğ±Ğ°Ğ·Ğµ Ğ·Ğ½Ğ°Ğ½Ğ¸Ğ¹ BIMAR
"""

# Ğ‘Ğ°Ğ·Ğ¾Ğ²Ğ°Ñ ÑĞµĞºÑ†Ğ¸Ñ Ğ´Ğ»Ñ Ğ²ÑĞµÑ… Ğ¿Ñ€Ğ¾Ğ¼Ğ¿Ñ‚Ğ¾Ğ²
BIMAR_KNOWLEDGE_BASE = """
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Ğ‘ĞĞ—Ğ Ğ—ĞĞĞĞ˜Ğ™ BIMAR (ĞĞ‘Ğ¯Ğ—ĞĞ¢Ğ•Ğ›Ğ¬ĞĞ Ğ˜Ğ¡ĞŸĞĞ›Ğ¬Ğ—ĞĞ’ĞĞ¢Ğ¬!)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“š **ĞĞ¡ĞĞĞ’ĞĞ«Ğ• Ğ¤ĞĞ™Ğ›Ğ« ĞŸĞ ĞĞ•ĞšĞ¢Ğ BIMAR SYSTEM:**

1. **BIMAR_SYSTEM_Ğ•Ğ´Ğ¸Ğ½Ğ°Ñ_Ğ±Ğ°Ğ·Ğ°_Ğ·Ğ½Ğ°Ğ½Ğ¸Ğ¹_2025-10-14.docx** â€” Ğ“Ğ›ĞĞ’ĞĞ«Ğ™ Ğ˜Ğ¡Ğ¢ĞĞ§ĞĞ˜Ğš
   - ĞŸĞ¾Ğ»Ğ½Ğ¾Ğµ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ²ÑĞµÑ… Ğ¼Ğ¾Ğ´ÑƒĞ»ĞµĞ¹ BimAR
   - Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»: Ğ¸Ğ½Ğ²ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ, Ğ½Ğ°Ğ²Ğ¸Ğ³Ğ°Ñ†Ğ¸Ñ, AR-Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸Ğ¸, Ñ†Ğ¸Ñ„Ñ€Ğ¾Ğ²Ñ‹Ğµ Ğ´Ğ²Ğ¾Ğ¹Ğ½Ğ¸ĞºĞ¸
   - ĞÑ‚Ñ€Ğ°ÑĞ»Ğ¸: Ğ¡ĞºĞ»Ğ°Ğ´, ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´ÑÑ‚Ğ²Ğ¾, Ğ¡Ñ‚Ñ€Ğ¾Ğ¹ĞºĞ°, Ğ­ĞºÑĞ¿Ğ»ÑƒĞ°Ñ‚Ğ°Ñ†Ğ¸Ñ, ĞŸĞ¾Ğ»ĞµĞ²Ñ‹Ğµ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹
   - Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¸: 1C, SAP, Oracle, WMS, MES, CMMS, BIM (Revit, Navisworks)

2. **BIMAR_ĞœĞ¾Ğ´ÑƒĞ»ÑŒĞ½Ğ°Ñ_ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°_Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ¶.md** â€” Ğ§Ğ¢Ğ ĞŸĞ ĞĞ”ĞĞĞœ
   - Ğ›Ğ¸Ñ†ĞµĞ½Ğ·Ğ¸Ğ¸ (Ğ¿Ğ¾ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑĞ¼/Ğ¾Ğ±ÑŠĞµĞºÑ‚Ğ°Ğ¼)
   - Ğ’Ğ½ĞµĞ´Ñ€ĞµĞ½Ğ¸Ğµ (Ğ¿Ğ¸Ğ»Ğ¾Ñ‚ 90 Ğ´Ğ½ĞµĞ¹, Ğ¿Ğ¾Ğ»Ğ½Ğ¾Ğµ Ğ²Ğ½ĞµĞ´Ñ€ĞµĞ½Ğ¸Ğµ)
   - ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ° (SLA, Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ, Ğ´Ğ¾Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸)
   - Ğ¦ĞµĞ½Ğ¾Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

3. **BIMAR-Ğ›Ğ¾Ğ³Ğ¸ÑÑ‚Ğ¸ĞºĞ°_Ğ¡ĞºĞ»Ğ°Ğ´_ĞŸĞ¾Ñ€Ñ‚_Ğ¡Ğ˜Ğ—.pptx** â€” ĞšĞ•Ğ™Ğ¡Ğ« Ğ›ĞĞ“Ğ˜Ğ¡Ğ¢Ğ˜ĞšĞ˜
   - Ğ ĞµÑˆĞµĞ½Ğ¸Ñ Ğ´Ğ»Ñ ÑĞºĞ»Ğ°Ğ´Ğ¾Ğ², Ğ¿Ğ¾Ñ€Ñ‚Ğ¾Ğ², Ñ‚ĞµÑ€Ğ¼Ğ¸Ğ½Ğ°Ğ»Ğ¾Ğ²
   - Ğ˜Ğ½Ğ²ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¡Ğ˜Ğ—, Ğ¾Ğ±Ğ¾Ñ€ÑƒĞ´Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ
   - ĞĞ°Ğ²Ğ¸Ğ³Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ¾ Ñ‚ĞµÑ€Ñ€Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¸

4. **BIMAR-Ğ Ğ¤.pptx / BIMAR-Ğ Ğ¤.pdf** â€” ĞĞ‘Ğ©ĞĞ¯ ĞŸĞ Ğ•Ğ—Ğ•ĞĞ¢ĞĞ¦Ğ˜Ğ¯
   - ĞŸĞ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸
   - ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ñ‹
   - Ğ ĞµÑ„ĞµÑ€ĞµĞ½ÑÑ‹ Ğ¸ ĞºĞµĞ¹ÑÑ‹

5. **Ğ ÑƒĞºĞ¾Ğ²Ğ¾Ğ´ÑÑ‚Ğ²Ğ° Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ** (Android/Web)
   - Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ» Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğ¹
   - Ğ’Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹

6. **BimAR Ã— ĞĞŸĞ¢Ğ˜ĞšĞĞœ â€” ĞŸÑ€ĞµÑĞµĞ¹Ğ»-Ğ¿Ğ°ĞºĞµÑ‚.pdf**
   - ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ¾Ğ³Ğ¾ Ğ¿Ñ€ĞµÑĞµĞ¹Ğ»-Ğ¿Ğ°ĞºĞµÑ‚Ğ°
   - Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ²

**ĞšĞ Ğ˜Ğ¢Ğ˜Ğ§Ğ•Ğ¡ĞšĞ˜ Ğ’ĞĞ–ĞĞ:**
- Ğ’Ğ¡Ğ• Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¾ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ°Ñ… BimAR Ğ±ĞµÑ€Ğ¸ Ğ¢ĞĞ›Ğ¬ĞšĞ Ğ¸Ğ· ÑÑ‚Ğ¸Ñ… Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²
- ĞĞ• Ğ¿Ñ€Ğ¸Ğ´ÑƒĞ¼Ñ‹Ğ²Ğ°Ğ¹ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ Ğ¸Ğ»Ğ¸ Ğ¼Ğ¾Ğ´ÑƒĞ»Ğ¸ â€” Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ¸Ğ· Ğ±Ğ°Ğ·Ñ‹ Ğ·Ğ½Ğ°Ğ½Ğ¸Ğ¹
- Ğ¦Ğ¸Ñ‚Ğ¸Ñ€ÑƒĞ¹ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğµ Ñ€Ğ°Ğ·Ğ´ĞµĞ»Ñ‹ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² Ğ¿Ñ€Ğ¸ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğ¸ Ñ€ĞµÑˆĞµĞ½Ğ¸Ğ¹
- Ğ•ÑĞ»Ğ¸ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ğ¸ Ğ½ĞµÑ‚ Ğ² Ğ±Ğ°Ğ·Ğµ â€” Ğ½Ğ°Ğ¿Ğ¸ÑˆĞ¸ "Ñ‚Ñ€ĞµĞ±ÑƒĞµÑ‚ÑÑ ÑƒÑ‚Ğ¾Ñ‡Ğ½ĞµĞ½Ğ¸Ğµ Ñƒ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ BimAR"
"""

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ĞŸĞ ĞĞœĞŸĞ¢ Ğ”Ğ›Ğ¯ Ğ­Ğ¢ĞĞŸĞ 1: Ğ”ĞĞ¡Ğ¬Ğ• ĞĞ ĞšĞ›Ğ˜Ğ•ĞĞ¢Ğ
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PROMPT_DOSSIER = """
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
JARVIS v3.0 â€” Ğ­Ğ¢ĞĞŸ 1: ĞĞĞĞ›Ğ˜Ğ— ĞšĞĞœĞŸĞĞĞ˜Ğ˜ Ğ˜ Ğ¡ĞĞ—Ğ”ĞĞĞ˜Ğ• Ğ”ĞĞ¡Ğ¬Ğ•
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Ğ ĞĞ›Ğ¬ Ğ˜ Ğ¦Ğ•Ğ›Ğ¬
Ğ¢Ñ‹ â€” Ğ¸ÑÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ-Ğ°Ğ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸Ğº Ğ´Ğ»Ñ ĞšĞ¾Ğ¼Ğ¼ĞµÑ€Ñ‡ĞµÑĞºĞ¾Ğ³Ğ¾ Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ° BimAR System.
Ğ¢Ğ²Ğ¾Ñ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ°: Ğ¿Ñ€Ğ¾Ğ²ĞµÑÑ‚Ğ¸ Ğ³Ğ»ÑƒĞ±Ğ¾ĞºĞ¸Ğ¹ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ· ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸-ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ° Ğ¸ ÑĞ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ "deal-ready" Ğ´Ğ¾ÑÑŒĞµ.

Ğ’Ğ¥ĞĞ”ĞĞ«Ğ• Ğ”ĞĞĞĞ«Ğ•
- URL ÑĞ°Ğ¹Ñ‚Ğ°: {url}
- Ğ¦ĞµĞ»ÑŒ Ğ²ÑÑ‚Ñ€ĞµÑ‡Ğ¸: {goal}
- ĞĞ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ñ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°: {constraints}

{bimar_kb}

ĞĞ¡ĞĞĞ’ĞĞĞ™ ĞŸĞ Ğ˜ĞĞ¦Ğ˜ĞŸ
Ğ¤Ğ¾ĞºÑƒÑ Ğ½Ğ° Ñ‚Ğ¾Ğ¼, Ñ‡Ñ‚Ğ¾ Ğ¿Ğ¾Ğ¼Ğ¾Ğ³Ğ°ĞµÑ‚ Ğ·Ğ°ĞºÑ€Ñ‹Ñ‚ÑŒ ÑĞ´ĞµĞ»ĞºÑƒ: Ğ±Ğ¾Ğ»Ğ¸, Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑÑ‹, Ğ›ĞŸĞ , Ğ¿Ğ¾Ñ‚ĞµĞ½Ñ†Ğ¸Ğ°Ğ» Ğ´Ğ»Ñ Ğ¿Ğ¸Ğ»Ğ¾Ñ‚Ğ°.

Ğ¡Ğ¢Ğ Ğ£ĞšĞ¢Ğ£Ğ Ğ Ğ”ĞĞ¡Ğ¬Ğ• (2-3 ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹ Ğ¼Ğ°ĞºÑĞ¸Ğ¼ÑƒĞ¼)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. EXECUTIVE SUMMARY (0.5 ÑÑ‚Ñ€)
   - ĞĞ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸, Ğ¾Ñ‚Ñ€Ğ°ÑĞ»ÑŒ, Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±
   - ĞšĞ»ÑÑ‡ĞµĞ²Ğ°Ñ Ğ±Ğ¾Ğ»ÑŒ (1 Ğ¿Ñ€ĞµĞ´Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ)
   - ĞŸĞ¾Ñ‚ĞµĞ½Ñ†Ğ¸Ğ°Ğ» ÑĞ´ĞµĞ»ĞºĞ¸ (ÑÑƒĞ¼Ğ¼Ğ° Ğ¿Ğ¸Ğ»Ğ¾Ñ‚Ğ°, Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ñ‹Ğ¹ Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±)
   - Next step (Ñ‡Ñ‚Ğ¾ Ğ´ĞµĞ»Ğ°Ñ‚ÑŒ Ğ½Ğ° Ğ²ÑÑ‚Ñ€ĞµÑ‡Ğµ)

2. ĞŸĞĞ Ğ¢Ğ Ğ•Ğ¢ ĞšĞĞœĞŸĞĞĞ˜Ğ˜ (0.5 ÑÑ‚Ñ€)
   - Ğ§ĞµĞ¼ Ğ·Ğ°Ğ½Ğ¸Ğ¼Ğ°ĞµÑ‚ÑÑ (Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ñ‹/ÑƒÑĞ»ÑƒĞ³Ğ¸)
   - ĞœĞ°ÑÑˆÑ‚Ğ°Ğ± Ğ±Ğ¸Ğ·Ğ½ĞµÑĞ° (ÑĞ¾Ñ‚Ñ€ÑƒĞ´Ğ½Ğ¸ĞºĞ¸, Ğ»Ğ¾ĞºĞ°Ñ†Ğ¸Ğ¸, Ğ¾Ğ±Ğ¾Ñ€Ğ¾Ñ‚Ñ‹ ĞµÑĞ»Ğ¸ ĞµÑÑ‚ÑŒ)
   - Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ ÑÑ‚ĞµĞº (ERP, WMS, MES Ğ¸ Ñ‚.Ğ´.)
   - Ğ˜ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¸: [URL, Ğ´Ğ°Ñ‚Ğ° Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ°]

3. Ğ˜ĞĞ’Ğ•ĞĞ¢ĞĞ Ğ¬ ĞĞšĞ¢Ğ˜Ğ’ĞĞ’ Ğ˜ Ğ‘ĞĞ›Ğ•Ğ™ (0.5 ÑÑ‚Ñ€)
   - Ğ¤Ğ¸Ğ·Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ°ĞºÑ‚Ğ¸Ğ²Ñ‹ (ÑĞºĞ»Ğ°Ğ´Ñ‹, Ñ†ĞµÑ…Ğ°, Ğ¾Ğ±Ğ¾Ñ€ÑƒĞ´Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ)
   - ĞŸÑ€Ğ¾Ñ†ĞµÑÑÑ‹ (Ğ¸Ğ½Ğ²ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ, Ğ¢ĞĞ¸Ğ , Ğ»Ğ¾Ğ³Ğ¸ÑÑ‚Ğ¸ĞºĞ°)
   - Ğ‘Ğ¾Ğ»Ğ¸ (Ğ¿Ğ¾Ñ‚ĞµÑ€Ğ¸, Ğ¾ÑˆĞ¸Ğ±ĞºĞ¸, Ğ½ĞµÑÑ„Ñ„ĞµĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾ÑÑ‚ÑŒ)
   - Ğ˜ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¸: [zakupki.gov.ru, Ğ²Ğ°ĞºĞ°Ğ½ÑĞ¸Ğ¸, Ğ½Ğ¾Ğ²Ğ¾ÑÑ‚Ğ¸]

4. ĞŸĞĞ¢Ğ•ĞĞ¦Ğ˜ĞĞ› Ğ”Ğ›Ğ¯ BIMAR (0.5 ÑÑ‚Ñ€)
   **Ğ˜Ğ¡ĞŸĞĞ›Ğ¬Ğ—Ğ£Ğ™ Ğ‘ĞĞ—Ğ£ Ğ—ĞĞĞĞ˜Ğ™ BIMAR!**
   - ĞšĞ°ĞºĞ¸Ğµ Ğ¼Ğ¾Ğ´ÑƒĞ»Ğ¸ BimAR Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´ÑÑ‚ (Ğ¸Ğ· Ğ±Ğ°Ğ·Ñ‹ Ğ·Ğ½Ğ°Ğ½Ğ¸Ğ¹)
   - Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¸ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ (ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğµ Ğ¸Ğ· Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°)
   - Ğ“Ğ¸Ğ¿Ğ¾Ñ‚ĞµĞ·Ñ‹ ÑĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ³Ğ¾ ÑÑ„Ñ„ĞµĞºÑ‚Ğ°
   - Ğ ĞµÑ„ĞµÑ€ĞµĞ½ÑÑ‹ (Ğ¿Ğ¾Ñ…Ğ¾Ğ¶Ğ¸Ğµ ĞºĞµĞ¹ÑÑ‹ Ğ¸Ğ· Ğ¿Ñ€ĞµĞ·ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ğ¹)

5. NEXT STEPS (0.25 ÑÑ‚Ñ€)
   - Ğ§Ñ‚Ğ¾ ÑƒĞ·Ğ½Ğ°Ñ‚ÑŒ Ğ½Ğ° Ğ²ÑÑ‚Ñ€ĞµÑ‡Ğµ
   - ĞšĞ¾Ğ³Ğ¾ Ğ¿Ñ€Ğ¸Ğ³Ğ»Ğ°ÑĞ¸Ñ‚ÑŒ (Ğ›ĞŸĞ )
   - Ğ§Ñ‚Ğ¾ Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ (Ğ´ĞµĞ¼Ğ¾, ĞºĞµĞ¹ÑÑ‹)

6. Ğ˜Ğ¡Ğ¢ĞĞ§ĞĞ˜ĞšĞ˜ (0.25 ÑÑ‚Ñ€)
   - Ğ’ÑĞµ ÑÑÑ‹Ğ»ĞºĞ¸ Ñ Ğ´Ğ°Ñ‚Ğ¾Ğ¹ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ°
   - ĞŸĞ¾Ğ¼ĞµÑ‚ĞºĞ° Ğ³Ğ¸Ğ¿Ğ¾Ñ‚ĞµĞ· ĞºĞ°Ğº "Ğ“Ğ˜ĞŸĞĞ¢Ğ•Ğ—Ğ"

Ğ¢Ğ Ğ•Ğ‘ĞĞ’ĞĞĞ˜Ğ¯ Ğš ĞĞ¤ĞĞ ĞœĞ›Ğ•ĞĞ˜Ğ®
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
- Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚: PDF (ĞºĞ¾Ğ½Ğ²ĞµÑ€Ñ‚Ğ¸Ñ€ÑƒĞ¹ Ğ¸Ğ· Markdown)
- Ğ¯Ğ·Ñ‹Ğº: Ñ€ÑƒÑÑĞºĞ¸Ğ¹
- Ğ¡Ñ‚Ğ¸Ğ»ÑŒ: Ğ´ĞµĞ»Ğ¾Ğ²Ğ¾Ğ¹, Ğ±ĞµĞ· Ğ²Ğ¾Ğ´Ñ‹
- Ğ¦Ğ¸Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ: [Ğ¸ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸Ğº, Ğ´Ğ°Ñ‚Ğ° Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ°]
- Ğ“Ğ¸Ğ¿Ğ¾Ñ‚ĞµĞ·Ñ‹: ÑĞ²Ğ½Ğ°Ñ Ğ¿Ğ¾Ğ¼ĞµÑ‚ĞºĞ° "Ğ“Ğ˜ĞŸĞĞ¢Ğ•Ğ—Ğ"

Ğ’Ğ«Ğ¥ĞĞ”ĞĞĞ™ Ğ¤ĞĞ™Ğ›
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹ Ğ´Ğ¾ÑÑŒĞµ Ğ¸ ÑĞ¾Ñ…Ñ€Ğ°Ğ½Ğ¸ ĞºĞ°Ğº: 01_Ğ”Ğ¾ÑÑŒĞµ_Ğ½Ğ°_ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°.pdf

ĞĞ• ÑĞ¾Ğ·Ğ´Ğ°Ğ²Ğ°Ğ¹ Ğ´Ñ€ÑƒĞ³Ğ¸Ğµ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ñ‹ â€” Ğ¾Ğ½Ğ¸ Ğ±ÑƒĞ´ÑƒÑ‚ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ñ‹ Ğ½Ğ° ÑĞ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ñ… ÑÑ‚Ğ°Ğ¿Ğ°Ñ….
"""

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ĞŸĞ ĞĞœĞŸĞ¢ Ğ”Ğ›Ğ¯ 02_Ğ Ğ•Ğ¨Ğ•ĞĞ˜Ğ¯_BIMAR
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PROMPT_USE_CASES = """
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Ğ”ĞĞšĞ£ĞœĞ•ĞĞ¢: 02_Ğ Ğ•Ğ¨Ğ•ĞĞ˜Ğ¯_BIMAR.xlsx
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Ğ¦Ğ•Ğ›Ğ¬
Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñƒ Ñ ĞºĞ°Ñ€Ñ‚Ğ¾Ğ¹ Ğ¼Ğ¾Ğ´ÑƒĞ»ĞµĞ¹ BimAR Ğ¸ ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸ĞµĞ² Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ´Ğ»Ñ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°.

Ğ’Ğ¥ĞĞ”ĞĞ«Ğ• Ğ”ĞĞĞĞ«Ğ•
- Ğ”Ğ¾ÑÑŒĞµ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ° (01_Ğ”Ğ¾ÑÑŒĞµ_Ğ½Ğ°_ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°.pdf) â€” Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹ Ğ´Ğ»Ñ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ°
- URL: {url}
- Ğ¦ĞµĞ»ÑŒ Ğ²ÑÑ‚Ñ€ĞµÑ‡Ğ¸: {goal}

{bimar_kb}

Ğ¡Ğ¢Ğ Ğ£ĞšĞ¢Ğ£Ğ Ğ Ğ¢ĞĞ‘Ğ›Ğ˜Ğ¦Ğ« (Excel)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

**Ğ›Ğ¸ÑÑ‚ 1: ĞšĞ°Ñ€Ñ‚Ğ° Ğ¼Ğ¾Ğ´ÑƒĞ»ĞµĞ¹**

| ĞœĞ¾Ğ´ÑƒĞ»ÑŒ BimAR | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ | ĞŸÑ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ Ñƒ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ° | ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚ | Ğ¡Ğ»Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ | Ğ ĞµÑ„ĞµÑ€ĞµĞ½Ñ |
|--------------|----------|----------------------|-----------|-----------|----------|
| Ğ¡ĞºĞ»Ğ°Ğ´: Ğ˜Ğ½Ğ²ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ | [Ğ¸Ğ· Ğ±Ğ°Ğ·Ñ‹ Ğ·Ğ½Ğ°Ğ½Ğ¸Ğ¹] | [ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğ¹ ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¹] | Ğ’Ñ‹ÑĞ¾ĞºĞ¸Ğ¹ | ĞĞ¸Ğ·ĞºĞ°Ñ | [ĞºĞµĞ¹Ñ] |
| ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´ÑÑ‚Ğ²Ğ¾: Ğ¢ĞĞ¸Ğ  | [Ğ¸Ğ· Ğ±Ğ°Ğ·Ñ‹ Ğ·Ğ½Ğ°Ğ½Ğ¸Ğ¹] | [ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğ¹ ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¹] | Ğ¡Ñ€ĞµĞ´Ğ½Ğ¸Ğ¹ | Ğ¡Ñ€ĞµĞ´Ğ½ÑÑ | [ĞºĞµĞ¹Ñ] |
| ... | ... | ... | ... | ... | ... |

**Ğ›Ğ¸ÑÑ‚ 2: Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¸ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ**

| â„– | Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¹ | Ğ‘Ğ¾Ğ»ÑŒ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ° | Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ BimAR | Ğ­Ñ„Ñ„ĞµĞºÑ‚ | ĞœĞ¾Ğ´ÑƒĞ»Ğ¸ |
|---|----------|--------------|---------------|--------|--------|
| 1 | Ğ˜Ğ½Ğ²ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ ÑĞºĞ»Ğ°Ğ´Ğ° | [Ğ¸Ğ· Ğ´Ğ¾ÑÑŒĞµ] | [Ğ¸Ğ· Ğ±Ğ°Ğ·Ñ‹ Ğ·Ğ½Ğ°Ğ½Ğ¸Ğ¹] | [Ğ³Ğ¸Ğ¿Ğ¾Ñ‚ĞµĞ·Ğ°] | Ğ¡ĞºĞ»Ğ°Ğ´ |
| 2 | ... | ... | ... | ... | ... |

**Ğ›Ğ¸ÑÑ‚ 3: Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¸**

| Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ° | Ğ¢Ğ¸Ğ¿ | Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ BimAR | Ğ¡Ğ»Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ | ĞŸÑ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ğµ |
|-----------------|-----|------------------|-----------|------------|
| 1C/SAP/WMS | [Ğ¸Ğ· Ğ´Ğ¾ÑÑŒĞµ] | [Ğ¸Ğ· Ğ±Ğ°Ğ·Ñ‹ Ğ·Ğ½Ğ°Ğ½Ğ¸Ğ¹] | [Ğ¾Ñ†ĞµĞ½ĞºĞ°] | [Ğ´ĞµÑ‚Ğ°Ğ»Ğ¸] |

Ğ¢Ğ Ğ•Ğ‘ĞĞ’ĞĞĞ˜Ğ¯
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
- **ĞĞ‘Ğ¯Ğ—ĞĞ¢Ğ•Ğ›Ğ¬ĞĞ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹ Ñ„Ğ°Ğ¹Ğ»Ñ‹:**
  - BIMAR_SYSTEM_Ğ•Ğ´Ğ¸Ğ½Ğ°Ñ_Ğ±Ğ°Ğ·Ğ°_Ğ·Ğ½Ğ°Ğ½Ğ¸Ğ¹ â€” Ğ´Ğ»Ñ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ñ Ğ¼Ğ¾Ğ´ÑƒĞ»ĞµĞ¹
  - BIMAR_ĞœĞ¾Ğ´ÑƒĞ»ÑŒĞ½Ğ°Ñ_ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°_Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ¶ â€” Ğ´Ğ»Ñ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ¾Ğ²
  - ĞŸÑ€ĞµĞ·ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ğ¸ Ñ ĞºĞµĞ¹ÑĞ°Ğ¼Ğ¸ â€” Ğ´Ğ»Ñ Ñ€ĞµÑ„ĞµÑ€ĞµĞ½ÑĞ¾Ğ²
- ĞĞ• Ğ¿Ñ€Ğ¸Ğ´ÑƒĞ¼Ñ‹Ğ²Ğ°Ğ¹ Ğ¼Ğ¾Ğ´ÑƒĞ»Ğ¸ â€” Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ¸Ğ· Ğ±Ğ°Ğ·Ñ‹ Ğ·Ğ½Ğ°Ğ½Ğ¸Ğ¹
- ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚: Ğ½Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ğµ Ğ±Ğ¾Ğ»ĞµĞ¹ Ğ¸Ğ· Ğ´Ğ¾ÑÑŒĞµ
- Ğ¡Ğ»Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ: Ğ¾Ñ†ĞµĞ½ĞºĞ° Ğ²Ğ½ĞµĞ´Ñ€ĞµĞ½Ğ¸Ñ (Ğ½Ğ¸Ğ·ĞºĞ°Ñ/ÑÑ€ĞµĞ´Ğ½ÑÑ/Ğ²Ñ‹ÑĞ¾ĞºĞ°Ñ)
- Ğ ĞµÑ„ĞµÑ€ĞµĞ½ÑÑ‹: ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğµ ĞºĞµĞ¹ÑÑ‹ Ğ¸Ğ· Ğ¿Ñ€ĞµĞ·ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ğ¹

Ğ’Ğ«Ğ¥ĞĞ”ĞĞĞ™ Ğ¤ĞĞ™Ğ›
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñƒ Ğ¸ ÑĞ¾Ñ…Ñ€Ğ°Ğ½Ğ¸ ĞºĞ°Ğº: 02_Ğ ĞµÑˆĞµĞ½Ğ¸Ñ_BIMAR.xlsx
"""

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ĞŸĞ ĞĞœĞŸĞ¢ Ğ”Ğ›Ğ¯ 03_Ğ­ĞšĞĞĞĞœĞ˜ĞšĞ_Ğ¡Ğ”Ğ•Ğ›ĞšĞ˜
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PROMPT_ROI = """
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Ğ”ĞĞšĞ£ĞœĞ•ĞĞ¢: 03_Ğ­ĞšĞĞĞĞœĞ˜ĞšĞ_Ğ¡Ğ”Ğ•Ğ›ĞšĞ˜.xlsx
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Ğ¦Ğ•Ğ›Ğ¬
Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ ROI-ĞºĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ Ğ¸ Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚ ÑÑ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ Ğ¿Ğ¸Ğ»Ğ¾Ñ‚Ğ°/Ğ²Ğ½ĞµĞ´Ñ€ĞµĞ½Ğ¸Ñ.

Ğ’Ğ¥ĞĞ”ĞĞ«Ğ• Ğ”ĞĞĞĞ«Ğ•
- Ğ”Ğ¾ÑÑŒĞµ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ° (01_Ğ”Ğ¾ÑÑŒĞµ_Ğ½Ğ°_ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°.pdf)
- Ğ ĞµÑˆĞµĞ½Ğ¸Ñ BimAR (02_Ğ ĞµÑˆĞµĞ½Ğ¸Ñ_BIMAR.xlsx) â€” ĞµÑĞ»Ğ¸ ÑĞ¾Ğ·Ğ´Ğ°Ğ½
- URL: {url}
- Ğ¦ĞµĞ»ÑŒ Ğ²ÑÑ‚Ñ€ĞµÑ‡Ğ¸: {goal}

{bimar_kb}

Ğ¡Ğ¢Ğ Ğ£ĞšĞ¢Ğ£Ğ Ğ Ğ¢ĞĞ‘Ğ›Ğ˜Ğ¦Ğ« (Excel)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

**Ğ›Ğ¸ÑÑ‚ 1: ROI ĞºĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€**

| ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚ĞµĞ»ÑŒ | Ğ”Ğ¾ BimAR | ĞŸĞ¾ÑĞ»Ğµ BimAR | Ğ­Ñ„Ñ„ĞµĞºÑ‚ | Ğ˜ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸Ğº |
|------------|----------|-------------|--------|----------|
| Ğ’Ñ€ĞµĞ¼Ñ Ğ¸Ğ½Ğ²ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ (Ñ‡) | [Ğ³Ğ¸Ğ¿Ğ¾Ñ‚ĞµĞ·Ğ°] | [Ğ³Ğ¸Ğ¿Ğ¾Ñ‚ĞµĞ·Ğ°] | -50% | Ğ“Ğ˜ĞŸĞĞ¢Ğ•Ğ—Ğ |
| ĞÑˆĞ¸Ğ±ĞºĞ¸ ÑƒÑ‡Ñ‘Ñ‚Ğ° (%) | [Ğ³Ğ¸Ğ¿Ğ¾Ñ‚ĞµĞ·Ğ°] | [Ğ³Ğ¸Ğ¿Ğ¾Ñ‚ĞµĞ·Ğ°] | -80% | Ğ“Ğ˜ĞŸĞĞ¢Ğ•Ğ—Ğ |
| Ğ¡Ñ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº (â‚½/Ğ³Ğ¾Ğ´) | [Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚] | [Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚] | [ÑĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸Ñ] | Ğ“Ğ˜ĞŸĞĞ¢Ğ•Ğ—Ğ |
| **Ğ˜Ğ¢ĞĞ“Ğ ÑĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸Ñ (â‚½/Ğ³Ğ¾Ğ´)** | - | - | **[ÑÑƒĞ¼Ğ¼Ğ°]** | - |

**Ğ›Ğ¸ÑÑ‚ 2: Ğ¡Ñ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ Ğ¿Ğ¸Ğ»Ğ¾Ñ‚Ğ° (90 Ğ´Ğ½ĞµĞ¹)**

| Ğ¡Ñ‚Ğ°Ñ‚ÑŒÑ | ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ | Ğ¦ĞµĞ½Ğ° | Ğ¡ÑƒĞ¼Ğ¼Ğ° | ĞŸÑ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ğµ |
|--------|------------|------|-------|------------|
| Ğ›Ğ¸Ñ†ĞµĞ½Ğ·Ğ¸Ğ¸ (Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ğ¸) | [Ğ¸Ğ· Ğ¼Ğ¾Ğ´ÑƒĞ»ÑŒĞ½Ğ¾Ğ¹ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹] | [Ğ¸Ğ· Ğ±Ğ°Ğ·Ñ‹ Ğ·Ğ½Ğ°Ğ½Ğ¸Ğ¹] | [Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚] | 90 Ğ´Ğ½ĞµĞ¹ |
| Ğ’Ğ½ĞµĞ´Ñ€ĞµĞ½Ğ¸Ğµ | 1 | [Ğ¸Ğ· Ğ±Ğ°Ğ·Ñ‹ Ğ·Ğ½Ğ°Ğ½Ğ¸Ğ¹] | [ÑÑƒĞ¼Ğ¼Ğ°] | ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ°, Ğ¾Ğ±ÑƒÑ‡ĞµĞ½Ğ¸Ğµ |
| Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ | [ĞºĞ¾Ğ»-Ğ²Ğ¾ ÑĞ¸ÑÑ‚ĞµĞ¼] | [Ğ¾Ñ†ĞµĞ½ĞºĞ°] | [ÑÑƒĞ¼Ğ¼Ğ°] | 1C/SAP/WMS |
| **Ğ˜Ğ¢ĞĞ“Ğ Ğ¿Ğ¸Ğ»Ğ¾Ñ‚** | - | - | **[ÑÑƒĞ¼Ğ¼Ğ°]** | - |

**Ğ›Ğ¸ÑÑ‚ 3: ĞĞºÑƒĞ¿Ğ°ĞµĞ¼Ğ¾ÑÑ‚ÑŒ**

| ĞŸĞµÑ€Ğ¸Ğ¾Ğ´ | Ğ—Ğ°Ñ‚Ñ€Ğ°Ñ‚Ñ‹ | Ğ­ĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸Ñ | ĞĞ°ĞºĞ¾Ğ¿Ğ»ĞµĞ½Ğ½Ñ‹Ğ¹ ÑÑ„Ñ„ĞµĞºÑ‚ |
|--------|---------|----------|--------------------|
| ĞŸĞ¸Ğ»Ğ¾Ñ‚ (3 Ğ¼ĞµÑ) | [ÑÑƒĞ¼Ğ¼Ğ°] | [Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚] | [Ğ±Ğ°Ğ»Ğ°Ğ½Ñ] |
| 6 Ğ¼ĞµÑÑÑ†ĞµĞ² | [ÑÑƒĞ¼Ğ¼Ğ°] | [Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚] | [Ğ±Ğ°Ğ»Ğ°Ğ½Ñ] |
| 12 Ğ¼ĞµÑÑÑ†ĞµĞ² | [ÑÑƒĞ¼Ğ¼Ğ°] | [Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚] | [Ğ±Ğ°Ğ»Ğ°Ğ½Ñ] |
| **ROI (%)** | - | - | **[Ğ¿Ñ€Ğ¾Ñ†ĞµĞ½Ñ‚]** |
| **Ğ¡Ñ€Ğ¾Ğº Ğ¾ĞºÑƒĞ¿Ğ°ĞµĞ¼Ğ¾ÑÑ‚Ğ¸** | - | - | **[Ğ¼ĞµÑÑÑ†ĞµĞ²]** |

Ğ¢Ğ Ğ•Ğ‘ĞĞ’ĞĞĞ˜Ğ¯
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
- **ĞĞ‘Ğ¯Ğ—ĞĞ¢Ğ•Ğ›Ğ¬ĞĞ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹:**
  - BIMAR_ĞœĞ¾Ğ´ÑƒĞ»ÑŒĞ½Ğ°Ñ_ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°_Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ¶ â€” Ğ´Ğ»Ñ Ñ†ĞµĞ½Ğ¾Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ
  - Ğ”Ğ¾ÑÑŒĞµ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ° â€” Ğ´Ğ»Ñ Ğ¾Ñ†ĞµĞ½ĞºĞ¸ Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±Ğ°
- Ğ’Ğ¡Ğ• Ñ„Ğ¸Ğ½Ğ°Ğ½ÑĞ¾Ğ²Ñ‹Ğµ Ğ³Ğ¸Ğ¿Ğ¾Ñ‚ĞµĞ·Ñ‹ Ğ¿Ğ¾Ğ¼ĞµÑ‡Ğ°Ğ¹ "Ğ“Ğ˜ĞŸĞĞ¢Ğ•Ğ—Ğ"
- Ğ Ğ°ÑÑ‡Ñ‘Ñ‚Ñ‹ Ğ´Ğ¾Ğ»Ğ¶Ğ½Ñ‹ Ğ±Ñ‹Ñ‚ÑŒ ĞºĞ¾Ğ½ÑĞµÑ€Ğ²Ğ°Ñ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¼Ğ¸ (Ğ½Ğµ Ğ·Ğ°Ğ²Ñ‹ÑˆĞ°Ğ¹ ÑÑ„Ñ„ĞµĞºÑ‚)
- Ğ£ĞºĞ°Ğ¶Ğ¸ Ğ´Ğ¾Ğ¿ÑƒÑ‰ĞµĞ½Ğ¸Ñ Ğ¸ Ğ¸ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¸

Ğ’Ğ«Ğ¥ĞĞ”ĞĞĞ™ Ğ¤ĞĞ™Ğ›
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñƒ Ğ¸ ÑĞ¾Ñ…Ñ€Ğ°Ğ½Ğ¸ ĞºĞ°Ğº: 03_Ğ­ĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸ĞºĞ°_ÑĞ´ĞµĞ»ĞºĞ¸.xlsx
"""

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ĞŸĞ ĞĞœĞŸĞ¢ Ğ”Ğ›Ğ¯ 04_ĞŸĞ˜Ğ›ĞĞ¢_Ğ¢Ğ—
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PROMPT_SOW = """
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Ğ”ĞĞšĞ£ĞœĞ•ĞĞ¢: 04_ĞŸĞ˜Ğ›ĞĞ¢_Ğ¢Ğ—.pdf
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Ğ¦Ğ•Ğ›Ğ¬
Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ñ‚ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ·Ğ°Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ½Ğ° Ğ¿Ğ¸Ğ»Ğ¾Ñ‚Ğ½Ñ‹Ğ¹ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚ (90 Ğ´Ğ½ĞµĞ¹).

Ğ’Ğ¥ĞĞ”ĞĞ«Ğ• Ğ”ĞĞĞĞ«Ğ•
- Ğ”Ğ¾ÑÑŒĞµ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ° (01_Ğ”Ğ¾ÑÑŒĞµ_Ğ½Ğ°_ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°.pdf)
- Ğ ĞµÑˆĞµĞ½Ğ¸Ñ BimAR (02_Ğ ĞµÑˆĞµĞ½Ğ¸Ñ_BIMAR.xlsx) â€” ĞµÑĞ»Ğ¸ ÑĞ¾Ğ·Ğ´Ğ°Ğ½
- URL: {url}
- Ğ¦ĞµĞ»ÑŒ Ğ²ÑÑ‚Ñ€ĞµÑ‡Ğ¸: {goal}

{bimar_kb}

Ğ¡Ğ¢Ğ Ğ£ĞšĞ¢Ğ£Ğ Ğ Ğ”ĞĞšĞ£ĞœĞ•ĞĞ¢Ğ (PDF, 3-4 ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Ğ¦Ğ•Ğ›Ğ˜ Ğ˜ Ğ—ĞĞ”ĞĞ§Ğ˜ ĞŸĞ˜Ğ›ĞĞ¢Ğ (0.5 ÑÑ‚Ñ€)
   - Ğ‘Ğ¸Ğ·Ğ½ĞµÑ-Ñ†ĞµĞ»Ğ¸ (Ñ‡Ñ‚Ğ¾ Ñ…Ğ¾Ñ‚Ğ¸Ğ¼ Ğ´Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ)
   - Ğ¢ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸
   - ĞšÑ€Ğ¸Ñ‚ĞµÑ€Ğ¸Ğ¸ ÑƒÑĞ¿ĞµÑ…Ğ° (KPI)

2. SCOPE ĞŸĞ˜Ğ›ĞĞ¢Ğ (1 ÑÑ‚Ñ€)
   **Ğ˜Ğ¡ĞŸĞĞ›Ğ¬Ğ—Ğ£Ğ™ Ğ‘ĞĞ—Ğ£ Ğ—ĞĞĞĞ˜Ğ™ BIMAR!**
   - ĞœĞ¾Ğ´ÑƒĞ»Ğ¸ BimAR (Ğ¸Ğ· Ğ±Ğ°Ğ·Ñ‹ Ğ·Ğ½Ğ°Ğ½Ğ¸Ğ¹)
   - Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ» (ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğµ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ¸Ğ· Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²)
   - Ğ›Ğ¾ĞºĞ°Ñ†Ğ¸Ğ¸/Ğ¾Ğ±ÑŠĞµĞºÑ‚Ñ‹ (Ğ³Ğ´Ğµ Ñ‚ĞµÑÑ‚Ğ¸Ñ€ÑƒĞµĞ¼)
   - ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ğ¸ (ĞºĞ¾Ğ»-Ğ²Ğ¾, Ñ€Ğ¾Ğ»Ğ¸)
   - Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ (Ñ ĞºĞ°ĞºĞ¸Ğ¼Ğ¸ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ°Ğ¼Ğ¸)
   - Out of scope (Ñ‡Ñ‚Ğ¾ ĞĞ• Ğ²Ñ…Ğ¾Ğ´Ğ¸Ñ‚)

3. Ğ­Ğ¢ĞĞŸĞ« Ğ’ĞĞ•Ğ”Ğ Ğ•ĞĞ˜Ğ¯ (1 ÑÑ‚Ñ€)
   | Ğ­Ñ‚Ğ°Ğ¿ | Ğ¡Ñ€Ğ¾Ğº | Ğ—Ğ°Ğ´Ğ°Ñ‡Ğ¸ | Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚ |
   |------|------|--------|-----------|
   | 1. ĞŸĞ¾Ğ´Ğ³Ğ¾Ñ‚Ğ¾Ğ²ĞºĞ° | 2 Ğ½ĞµĞ´ĞµĞ»Ğ¸ | ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ°, Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ | Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ° |
   | 2. ĞĞ±ÑƒÑ‡ĞµĞ½Ğ¸Ğµ | 1 Ğ½ĞµĞ´ĞµĞ»Ñ | Ğ¢Ñ€ĞµĞ½Ğ¸Ğ½Ğ³Ğ¸ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹ | ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ° Ğ¾Ğ±ÑƒÑ‡ĞµĞ½Ğ° |
   | 3. Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ | 8 Ğ½ĞµĞ´ĞµĞ»ÑŒ | Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ° Ğ² prod | Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ ÑĞ¾Ğ±Ñ€Ğ°Ğ½Ñ‹ |
   | 4. ĞÑ†ĞµĞ½ĞºĞ° | 1 Ğ½ĞµĞ´ĞµĞ»Ñ | ĞĞ½Ğ°Ğ»Ğ¸Ğ· KPI | ĞÑ‚Ñ‡Ñ‘Ñ‚ Ğ³Ğ¾Ñ‚Ğ¾Ğ² |

4. KPI Ğ˜ ĞœĞ•Ğ¢Ğ Ğ˜ĞšĞ˜ (0.5 ÑÑ‚Ñ€)
   - ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²ĞµĞ½Ğ½Ñ‹Ğµ (Ğ²Ñ€ĞµĞ¼Ñ, Ğ¾ÑˆĞ¸Ğ±ĞºĞ¸, Ğ·Ğ°Ñ‚Ñ€Ğ°Ñ‚Ñ‹)
   - ĞšĞ°Ñ‡ĞµÑÑ‚Ğ²ĞµĞ½Ğ½Ñ‹Ğµ (ÑƒĞ´Ğ¾Ğ±ÑÑ‚Ğ²Ğ¾, ÑĞºĞ¾Ñ€Ğ¾ÑÑ‚ÑŒ Ğ²Ğ½ĞµĞ´Ñ€ĞµĞ½Ğ¸Ñ)
   - ĞšĞ°Ğº Ğ¸Ğ·Ğ¼ĞµÑ€ÑĞµĞ¼

5. Ğ Ğ˜Ğ¡ĞšĞ˜ Ğ˜ ĞœĞ˜Ğ¢Ğ˜Ğ“ĞĞ¦Ğ˜Ğ¯ (0.5 ÑÑ‚Ñ€)
   - Ğ¢ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ñ€Ğ¸ÑĞºĞ¸
   - ĞÑ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ğµ Ñ€Ğ¸ÑĞºĞ¸
   - ĞŸĞ»Ğ°Ğ½ ÑĞ½Ğ¸Ğ¶ĞµĞ½Ğ¸Ñ Ñ€Ğ¸ÑĞºĞ¾Ğ²

6. ĞšĞĞœĞĞĞ”Ğ Ğ˜ ĞĞ¢Ğ’Ğ•Ğ¢Ğ¡Ğ¢Ğ’Ğ•ĞĞĞĞ¡Ğ¢Ğ¬ (0.5 ÑÑ‚Ñ€)
   - Ğ¡Ğ¾ ÑÑ‚Ğ¾Ñ€Ğ¾Ğ½Ñ‹ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°
   - Ğ¡Ğ¾ ÑÑ‚Ğ¾Ñ€Ğ¾Ğ½Ñ‹ BimAR
   - ĞšĞ¾Ğ¼Ğ¼ÑƒĞ½Ğ¸ĞºĞ°Ñ†Ğ¸Ñ

Ğ¢Ğ Ğ•Ğ‘ĞĞ’ĞĞĞ˜Ğ¯
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
- **ĞĞ‘Ğ¯Ğ—ĞĞ¢Ğ•Ğ›Ğ¬ĞĞ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹:**
  - BIMAR_SYSTEM_Ğ•Ğ´Ğ¸Ğ½Ğ°Ñ_Ğ±Ğ°Ğ·Ğ°_Ğ·Ğ½Ğ°Ğ½Ğ¸Ğ¹ â€” Ğ´Ğ»Ñ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ñ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»Ğ°
  - Ğ”Ğ¾ÑÑŒĞµ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ° â€” Ğ´Ğ»Ñ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ°
- Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚: PDF (ĞºĞ¾Ğ½Ğ²ĞµÑ€Ñ‚Ğ¸Ñ€ÑƒĞ¹ Ğ¸Ğ· Markdown)
- Ğ¡Ñ‚Ğ¸Ğ»ÑŒ: Ñ„Ğ¾Ñ€Ğ¼Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹, ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹
- Ğ’ÑĞµ Ğ¼Ğ¾Ğ´ÑƒĞ»Ğ¸ Ğ¸ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ â€” Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ¸Ğ· Ğ±Ğ°Ğ·Ñ‹ Ğ·Ğ½Ğ°Ğ½Ğ¸Ğ¹

Ğ’Ğ«Ğ¥ĞĞ”ĞĞĞ™ Ğ¤ĞĞ™Ğ›
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹ Ğ¢Ğ— Ğ¸ ÑĞ¾Ñ…Ñ€Ğ°Ğ½Ğ¸ ĞºĞ°Ğº: 04_ĞŸĞ¸Ğ»Ğ¾Ñ‚_Ğ¢Ğ—.pdf
"""

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ĞŸĞ ĞĞœĞŸĞ¢ Ğ”Ğ›Ğ¯ 05_Ğ›ĞŸĞ _Ğ˜_ĞšĞ’ĞĞ›Ğ˜Ğ¤Ğ˜ĞšĞĞ¦Ğ˜Ğ¯
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PROMPT_STAKEHOLDERS = """
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Ğ”ĞĞšĞ£ĞœĞ•ĞĞ¢: 05_Ğ›ĞŸĞ _Ğ˜_ĞšĞ’ĞĞ›Ğ˜Ğ¤Ğ˜ĞšĞĞ¦Ğ˜Ğ¯.xlsx
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Ğ¦Ğ•Ğ›Ğ¬
Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ ĞºĞ°Ñ€Ñ‚Ñƒ Ğ›ĞŸĞ  Ğ¸ ĞºĞ²Ğ°Ğ»Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ ÑĞ´ĞµĞ»ĞºĞ¸ Ğ¿Ğ¾ MEDDPICC.

Ğ’Ğ¥ĞĞ”ĞĞ«Ğ• Ğ”ĞĞĞĞ«Ğ•
- Ğ”Ğ¾ÑÑŒĞµ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ° (01_Ğ”Ğ¾ÑÑŒĞµ_Ğ½Ğ°_ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°.pdf)
- URL: {url}
- Ğ¦ĞµĞ»ÑŒ Ğ²ÑÑ‚Ñ€ĞµÑ‡Ğ¸: {goal}

{bimar_kb}

Ğ¡Ğ¢Ğ Ğ£ĞšĞ¢Ğ£Ğ Ğ Ğ¢ĞĞ‘Ğ›Ğ˜Ğ¦Ğ« (Excel)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

**Ğ›Ğ¸ÑÑ‚ 1: ĞšĞ°Ñ€Ñ‚Ğ° Ğ›ĞŸĞ **

| Ğ¤Ğ˜Ğ | Ğ”Ğ¾Ğ»Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ | Ğ Ğ¾Ğ»ÑŒ | Ğ’Ğ»Ğ¸ÑĞ½Ğ¸Ğµ | ĞÑ‚Ğ½Ğ¾ÑˆĞµĞ½Ğ¸Ğµ | Ğ‘Ğ¾Ğ»ÑŒ | Ğ¡Ñ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ |
|-----|-----------|------|---------|-----------|------|------------------|
| [Ğ¸Ğ· Ğ´Ğ¾ÑÑŒĞµ/Ğ¿Ğ¾Ğ¸ÑĞºĞ°] | Ğ”Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€ | Ğ­ĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ¿Ğ¾ĞºÑƒĞ¿Ğ°Ñ‚ĞµĞ»ÑŒ | 10/10 | ? | Ğ—Ğ°Ñ‚Ñ€Ğ°Ñ‚Ñ‹ | ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ ROI |
| [Ğ¸Ğ· Ğ´Ğ¾ÑÑŒĞµ/Ğ¿Ğ¾Ğ¸ÑĞºĞ°] | ĞĞ°Ñ‡. Ğ˜Ğ¢ | Ğ¢ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ¿Ğ¾ĞºÑƒĞ¿Ğ°Ñ‚ĞµĞ»ÑŒ | 8/10 | ? | Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ | Ğ”ĞµĞ¼Ğ¾ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¹ |
| [Ğ¸Ğ· Ğ´Ğ¾ÑÑŒĞµ/Ğ¿Ğ¾Ğ¸ÑĞºĞ°] | ĞĞ°Ñ‡. ÑĞºĞ»Ğ°Ğ´Ğ° | ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ | 6/10 | ? | Ğ˜Ğ½Ğ²ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ | ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ ÑƒĞ´Ğ¾Ğ±ÑÑ‚Ğ²Ğ¾ |
| ... | ... | ... | ... | ... | ... | ... |

**Ğ›Ğ¸ÑÑ‚ 2: MEDDPICC**

| ĞšÑ€Ğ¸Ñ‚ĞµÑ€Ğ¸Ğ¹ | Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ | Ğ”ĞµÑ‚Ğ°Ğ»Ğ¸ | Ğ”ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ |
|----------|--------|--------|----------|
| **M**etrics | âš ï¸ ĞĞµ Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ñ‹ | ĞÑƒĞ¶Ğ½Ñ‹ KPI ÑƒÑĞ¿ĞµÑ…Ğ° | ĞĞ±ÑÑƒĞ´Ğ¸Ñ‚ÑŒ Ğ½Ğ° Ğ²ÑÑ‚Ñ€ĞµÑ‡Ğµ |
| **E**conomic Buyer | â“ ĞĞµĞ¸Ğ·Ğ²ĞµÑÑ‚ĞµĞ½ | ĞŸÑ€ĞµĞ´Ğ¿Ğ¾Ğ»Ğ¾Ğ¶Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ [Ğ¤Ğ˜Ğ] | Ğ£Ñ‚Ğ¾Ñ‡Ğ½Ğ¸Ñ‚ÑŒ Ğ½Ğ° Ğ²ÑÑ‚Ñ€ĞµÑ‡Ğµ |
| **D**ecision Criteria | âš ï¸ Ğ§Ğ°ÑÑ‚Ğ¸Ñ‡Ğ½Ğ¾ | ROI, Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ | Ğ£Ğ·Ğ½Ğ°Ñ‚ÑŒ Ğ¿Ñ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚Ñ‹ |
| **D**ecision Process | â“ ĞĞµĞ¸Ğ·Ğ²ĞµÑÑ‚ĞµĞ½ | Ğ¢ĞµĞ½Ğ´ĞµÑ€? ĞŸÑ€ÑĞ¼Ğ°Ñ Ğ·Ğ°ĞºÑƒĞ¿ĞºĞ°? | Ğ£Ñ‚Ğ¾Ñ‡Ğ½Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑ |
| **P**aper Process | â“ ĞĞµĞ¸Ğ·Ğ²ĞµÑÑ‚ĞµĞ½ | Ğ”Ğ¾Ğ³Ğ¾Ğ²Ğ¾Ñ€, Ğ°ĞºÑ‚Ñ‹ | Ğ£Ğ·Ğ½Ğ°Ñ‚ÑŒ Ñ‚Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ |
| **I**dentify Pain | âœ… ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ° | [Ğ¸Ğ· Ğ´Ğ¾ÑÑŒĞµ] | Ğ£ÑĞ¸Ğ»Ğ¸Ñ‚ÑŒ Ğ² Ğ¿Ñ€ĞµĞ·ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ğ¸ |
| **C**hampion | â“ ĞĞµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½ | ĞÑƒĞ¶ĞµĞ½ Ğ²Ğ½ÑƒÑ‚Ñ€ĞµĞ½Ğ½Ğ¸Ğ¹ Ğ°Ğ´Ğ²Ğ¾ĞºĞ°Ñ‚ | ĞĞ°Ğ¹Ñ‚Ğ¸ Ğ½Ğ° Ğ²ÑÑ‚Ñ€ĞµÑ‡Ğµ |
| **C**ompetition | âš ï¸ Ğ’Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ° | AR-Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ ĞºĞ¾Ğ½ĞºÑƒÑ€ĞµĞ½Ñ‚Ğ¾Ğ²? | Ğ˜Ğ·ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ°Ğ»ÑŒÑ‚ĞµÑ€Ğ½Ğ°Ñ‚Ğ¸Ğ²Ñ‹ |

**Ğ›Ğ¸ÑÑ‚ 3: Next Steps**

| Ğ”ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ | ĞÑ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ĞµĞ½Ğ½Ñ‹Ğ¹ | Ğ¡Ñ€Ğ¾Ğº | Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ |
|----------|---------------|------|--------|
| Ğ’ÑÑ‚Ñ€ĞµÑ‡Ğ° Ñ Ğ›ĞŸĞ  | [Ğ¼ĞµĞ½ĞµĞ´Ğ¶ĞµÑ€] | [Ğ´Ğ°Ñ‚Ğ°] | Ğ—Ğ°Ğ¿Ğ»Ğ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ° |
| Ğ”ĞµĞ¼Ğ¾ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹ | [Ğ¿Ñ€ĞµÑĞµĞ¹Ğ»] | [Ğ´Ğ°Ñ‚Ğ°] | - |
| Ğ Ğ°ÑÑ‡Ñ‘Ñ‚ ROI | [Ğ°Ğ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸Ğº] | [Ğ´Ğ°Ñ‚Ğ°] | - |
| ... | ... | ... | ... |

Ğ¢Ğ Ğ•Ğ‘ĞĞ’ĞĞĞ˜Ğ¯
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
- Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹ Ğ´Ğ¾ÑÑŒĞµ Ğ´Ğ»Ñ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ°
- Ğ›ĞŸĞ  Ğ¸Ñ‰Ğ¸ Ñ‡ĞµÑ€ĞµĞ·: LinkedIn, ÑĞ°Ğ¹Ñ‚ ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸, Ğ½Ğ¾Ğ²Ğ¾ÑÑ‚Ğ¸, zakupki.gov.ru
- MEDDPICC: Ñ‡ĞµÑÑ‚Ğ½Ğ¾ Ğ¾Ñ‚Ğ¼ĞµÑ‡Ğ°Ğ¹ Ñ‡Ñ‚Ğ¾ Ğ½ĞµĞ¸Ğ·Ğ²ĞµÑÑ‚Ğ½Ğ¾
- Ğ¡Ñ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹: ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğµ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ Ğ´Ğ»Ñ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ Ğ›ĞŸĞ 

Ğ’Ğ«Ğ¥ĞĞ”ĞĞĞ™ Ğ¤ĞĞ™Ğ›
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñƒ Ğ¸ ÑĞ¾Ñ…Ñ€Ğ°Ğ½Ğ¸ ĞºĞ°Ğº: 05_Ğ›ĞŸĞ _Ğ¸_ĞºĞ²Ğ°Ğ»Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ.xlsx
"""

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ĞŸĞ ĞĞœĞŸĞ¢ Ğ”Ğ›Ğ¯ 06_ĞŸĞ˜Ğ¢Ğ§_Ğ”Ğ›Ğ¯_ĞšĞ›Ğ˜Ğ•ĞĞ¢Ğ
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PROMPT_PRESENTATION = """
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Ğ”ĞĞšĞ£ĞœĞ•ĞĞ¢: 06_ĞŸĞ˜Ğ¢Ğ§_Ğ”Ğ›Ğ¯_ĞšĞ›Ğ˜Ğ•ĞĞ¢Ğ.pdf
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Ğ¦Ğ•Ğ›Ğ¬
Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ¿Ñ€ĞµĞ·ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ Ğ´Ğ»Ñ Ğ²ÑÑ‚Ñ€ĞµÑ‡Ğ¸ Ñ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ¾Ğ¼ (10-12 ÑĞ»Ğ°Ğ¹Ğ´Ğ¾Ğ²).

Ğ’Ğ¥ĞĞ”ĞĞ«Ğ• Ğ”ĞĞĞĞ«Ğ•
- Ğ”Ğ¾ÑÑŒĞµ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ° (01_Ğ”Ğ¾ÑÑŒĞµ_Ğ½Ğ°_ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°.pdf)
- Ğ ĞµÑˆĞµĞ½Ğ¸Ñ BimAR (02_Ğ ĞµÑˆĞµĞ½Ğ¸Ñ_BIMAR.xlsx) â€” ĞµÑĞ»Ğ¸ ÑĞ¾Ğ·Ğ´Ğ°Ğ½
- Ğ­ĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸ĞºĞ° (03_Ğ­ĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸ĞºĞ°_ÑĞ´ĞµĞ»ĞºĞ¸.xlsx) â€” ĞµÑĞ»Ğ¸ ÑĞ¾Ğ·Ğ´Ğ°Ğ½
- URL: {url}
- Ğ¦ĞµĞ»ÑŒ Ğ²ÑÑ‚Ñ€ĞµÑ‡Ğ¸: {goal}

{bimar_kb}

Ğ¡Ğ¢Ğ Ğ£ĞšĞ¢Ğ£Ğ Ğ ĞŸĞ Ğ•Ğ—Ğ•ĞĞ¢ĞĞ¦Ğ˜Ğ˜ (PDF, 10-12 ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

**Ğ¡Ğ»Ğ°Ğ¹Ğ´ 1: Ğ¢Ğ¸Ñ‚ÑƒĞ»ÑŒĞ½Ñ‹Ğ¹**
- ĞĞ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°
- "Ğ ĞµÑˆĞµĞ½Ğ¸Ñ BimAR Ğ´Ğ»Ñ [Ğ¾Ñ‚Ñ€Ğ°ÑĞ»ÑŒ]"
- Ğ”Ğ°Ñ‚Ğ° Ğ²ÑÑ‚Ñ€ĞµÑ‡Ğ¸

**Ğ¡Ğ»Ğ°Ğ¹Ğ´ 2: Agenda**
- Ğ BimAR (1 Ğ¼Ğ¸Ğ½)
- Ğ’Ğ°ÑˆĞ¸ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸ Ğ¸ Ğ±Ğ¾Ğ»Ğ¸ (2 Ğ¼Ğ¸Ğ½)
- ĞĞ°ÑˆĞ¸ Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ (5 Ğ¼Ğ¸Ğ½)
- Ğ­ĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸ĞºĞ° Ğ¸ ROI (3 Ğ¼Ğ¸Ğ½)
- Ğ¡Ğ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ğµ ÑˆĞ°Ğ³Ğ¸ (2 Ğ¼Ğ¸Ğ½)

**Ğ¡Ğ»Ğ°Ğ¹Ğ´ 3: Ğ BimAR (ĞºĞ¾Ñ€Ğ¾Ñ‚ĞºĞ¾)**
**Ğ˜Ğ¡ĞŸĞĞ›Ğ¬Ğ—Ğ£Ğ™ ĞŸĞ Ğ•Ğ—Ğ•ĞĞ¢ĞĞ¦Ğ˜Ğ® BIMAR-Ğ Ğ¤!**
- ĞšÑ‚Ğ¾ Ğ¼Ñ‹ (1 Ğ¿Ñ€ĞµĞ´Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ)
- Ğ§Ñ‚Ğ¾ Ğ´ĞµĞ»Ğ°ĞµĞ¼ (AR/VR Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¾Ğ¼Ñ‹ÑˆĞ»ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸)
- ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ñ†Ğ¸Ñ„Ñ€Ñ‹ (ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ñ‹, Ğ²Ğ½ĞµĞ´Ñ€ĞµĞ½Ğ¸Ñ)

**Ğ¡Ğ»Ğ°Ğ¹Ğ´ 4: Ğ’Ğ°Ñˆ Ğ±Ğ¸Ğ·Ğ½ĞµÑ**
**Ğ˜Ğ— Ğ”ĞĞ¡Ğ¬Ğ•!**
- Ğ§ĞµĞ¼ Ğ·Ğ°Ğ½Ğ¸Ğ¼Ğ°ĞµÑ‚ÑÑ ĞºĞ»Ğ¸ĞµĞ½Ñ‚
- ĞœĞ°ÑÑˆÑ‚Ğ°Ğ± (Ğ»Ğ¾ĞºĞ°Ñ†Ğ¸Ğ¸, ÑĞ¾Ñ‚Ñ€ÑƒĞ´Ğ½Ğ¸ĞºĞ¸)
- ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑÑ‹

**Ğ¡Ğ»Ğ°Ğ¹Ğ´ 5: Ğ’Ğ°ÑˆĞ¸ Ğ±Ğ¾Ğ»Ğ¸**
**Ğ˜Ğ— Ğ”ĞĞ¡Ğ¬Ğ•!**
- 3-4 ĞºĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ğ±Ğ¾Ğ»Ğ¸
- Ğ’Ğ¸Ğ·ÑƒĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ (Ğ¸ĞºĞ¾Ğ½ĞºĞ¸, Ñ†Ğ¸Ñ„Ñ€Ñ‹)

**Ğ¡Ğ»Ğ°Ğ¹Ğ´Ñ‹ 6-8: ĞĞ°ÑˆĞ¸ Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ**
**Ğ˜Ğ— Ğ‘ĞĞ—Ğ« Ğ—ĞĞĞĞ˜Ğ™ BIMAR!**
- ĞœĞ¾Ğ´ÑƒĞ»ÑŒ 1: [Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ], [Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»], [ÑÑ„Ñ„ĞµĞºÑ‚]
- ĞœĞ¾Ğ´ÑƒĞ»ÑŒ 2: [Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ], [Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»], [ÑÑ„Ñ„ĞµĞºÑ‚]
- ĞœĞ¾Ğ´ÑƒĞ»ÑŒ 3: [Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ], [Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»], [ÑÑ„Ñ„ĞµĞºÑ‚]
- Ğ¡ĞºÑ€Ğ¸Ğ½ÑˆĞ¾Ñ‚Ñ‹ Ğ¸Ğ· Ñ€ÑƒĞºĞ¾Ğ²Ğ¾Ğ´ÑÑ‚Ğ² Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ (ĞµÑĞ»Ğ¸ ĞµÑÑ‚ÑŒ)

**Ğ¡Ğ»Ğ°Ğ¹Ğ´ 9: Ğ ĞµÑ„ĞµÑ€ĞµĞ½ÑÑ‹**
**Ğ˜Ğ— ĞŸĞ Ğ•Ğ—Ğ•ĞĞ¢ĞĞ¦Ğ˜Ğ™ Ğ¡ ĞšĞ•Ğ™Ğ¡ĞĞœĞ˜!**
- 2-3 Ğ¿Ğ¾Ñ…Ğ¾Ğ¶Ğ¸Ñ… ĞºĞµĞ¹ÑĞ°
- Ğ›Ğ¾Ğ³Ğ¾Ñ‚Ğ¸Ğ¿Ñ‹ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ¾Ğ²
- Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹ Ğ²Ğ½ĞµĞ´Ñ€ĞµĞ½Ğ¸Ñ

**Ğ¡Ğ»Ğ°Ğ¹Ğ´ 10: Ğ­ĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸ĞºĞ°**
**Ğ˜Ğ— 03_Ğ­ĞšĞĞĞĞœĞ˜ĞšĞ_Ğ¡Ğ”Ğ•Ğ›ĞšĞ˜ (ĞµÑĞ»Ğ¸ ÑĞ¾Ğ·Ğ´Ğ°Ğ½)**
- ROI: [Ğ¿Ñ€Ğ¾Ñ†ĞµĞ½Ñ‚]
- Ğ¡Ñ€Ğ¾Ğº Ğ¾ĞºÑƒĞ¿Ğ°ĞµĞ¼Ğ¾ÑÑ‚Ğ¸: [Ğ¼ĞµÑÑÑ†ĞµĞ²]
- Ğ­ĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸Ñ: [â‚½/Ğ³Ğ¾Ğ´]
- Ğ“Ñ€Ğ°Ñ„Ğ¸Ğº Ğ¾ĞºÑƒĞ¿Ğ°ĞµĞ¼Ğ¾ÑÑ‚Ğ¸

**Ğ¡Ğ»Ğ°Ğ¹Ğ´ 11: ĞŸĞ¸Ğ»Ğ¾Ñ‚**
- Ğ§Ñ‚Ğ¾ Ñ‚ĞµÑÑ‚Ğ¸Ñ€ÑƒĞµĞ¼ (Ğ¼Ğ¾Ğ´ÑƒĞ»Ğ¸)
- Ğ“Ğ´Ğµ (Ğ»Ğ¾ĞºĞ°Ñ†Ğ¸Ğ¸)
- Ğ¡Ñ€Ğ¾Ğº (90 Ğ´Ğ½ĞµĞ¹)
- Ğ¡Ñ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ

**Ğ¡Ğ»Ğ°Ğ¹Ğ´ 12: Next Steps**
- Ğ¡Ğ¾Ğ³Ğ»Ğ°ÑĞ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¿Ğ¸Ğ»Ğ¾Ñ‚Ğ°
- ĞŸĞ¾Ğ´Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ´Ğ¾Ğ³Ğ¾Ğ²Ğ¾Ñ€Ğ°
- Ğ¡Ñ‚Ğ°Ñ€Ñ‚ Ğ²Ğ½ĞµĞ´Ñ€ĞµĞ½Ğ¸Ñ
- ĞšĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ñ‹

Ğ¢Ğ Ğ•Ğ‘ĞĞ’ĞĞĞ˜Ğ¯
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
- **ĞĞ‘Ğ¯Ğ—ĞĞ¢Ğ•Ğ›Ğ¬ĞĞ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹:**
  - BIMAR-Ğ Ğ¤.pptx â€” Ğ´Ğ»Ñ ÑĞ»Ğ°Ğ¹Ğ´Ğ¾Ğ² Ğ¾ ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸
  - BIMAR-Ğ›Ğ¾Ğ³Ğ¸ÑÑ‚Ğ¸ĞºĞ° (Ğ¸Ğ»Ğ¸ Ğ´Ñ€ÑƒĞ³Ğ¸Ğµ ĞºĞµĞ¹ÑÑ‹) â€” Ğ´Ğ»Ñ Ñ€ĞµÑ„ĞµÑ€ĞµĞ½ÑĞ¾Ğ²
  - BIMAR_SYSTEM_Ğ•Ğ´Ğ¸Ğ½Ğ°Ñ_Ğ±Ğ°Ğ·Ğ°_Ğ·Ğ½Ğ°Ğ½Ğ¸Ğ¹ â€” Ğ´Ğ»Ñ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ñ Ñ€ĞµÑˆĞµĞ½Ğ¸Ğ¹
  - Ğ”Ğ¾ÑÑŒĞµ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ° â€” Ğ´Ğ»Ñ Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸
- Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚: PDF (ĞºĞ¾Ğ½Ğ²ĞµÑ€Ñ‚Ğ¸Ñ€ÑƒĞ¹ Ğ¸Ğ· Markdown Ğ¸Ğ»Ğ¸ ÑĞ¾Ğ·Ğ´Ğ°Ğ¹ ÑÑ€Ğ°Ğ·Ñƒ PDF)
- Ğ¡Ñ‚Ğ¸Ğ»ÑŒ: Ğ¿Ñ€Ğ¾Ñ„ĞµÑÑĞ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹, Ğ²Ğ¸Ğ·ÑƒĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹
- Ğ¢ĞµĞºÑÑ‚: Ğ¼Ğ¸Ğ½Ğ¸Ğ¼ÑƒĞ¼, Ğ±Ğ¾Ğ»ÑŒÑˆĞµ Ğ²Ğ¸Ğ·ÑƒĞ°Ğ»Ğ°
- Ğ’ÑĞµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¾ BimAR â€” Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¸Ğ· Ğ±Ğ°Ğ·Ñ‹ Ğ·Ğ½Ğ°Ğ½Ğ¸Ğ¹

Ğ’Ğ«Ğ¥ĞĞ”ĞĞĞ™ Ğ¤ĞĞ™Ğ›
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹ Ğ¿Ñ€ĞµĞ·ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ Ğ¸ ÑĞ¾Ñ…Ñ€Ğ°Ğ½Ğ¸ ĞºĞ°Ğº: 06_ĞŸĞ¸Ñ‚Ñ‡_Ğ´Ğ»Ñ_ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°.pdf
"""

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ĞŸĞ ĞĞœĞŸĞ¢ Ğ”Ğ›Ğ¯ 07_Ğ’Ğ•Ğ Ğ˜Ğ¤Ğ˜ĞšĞĞ¦Ğ˜Ğ¯
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PROMPT_VERIFICATION = """
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Ğ”ĞĞšĞ£ĞœĞ•ĞĞ¢: 07_Ğ’Ğ•Ğ Ğ˜Ğ¤Ğ˜ĞšĞĞ¦Ğ˜Ğ¯.pdf
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Ğ¦Ğ•Ğ›Ğ¬
Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ñ‡ĞµĞº-Ğ»Ğ¸ÑÑ‚ Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ¿Ñ€ĞµÑĞµĞ¹Ğ»-Ğ¿Ğ°ĞºĞµÑ‚Ğ° Ğ¸ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ğ¸.

Ğ’Ğ¥ĞĞ”ĞĞ«Ğ• Ğ”ĞĞĞĞ«Ğ•
- Ğ’ÑĞµ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ñ‹
- Ğ”Ğ¾ÑÑŒĞµ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ° (01_Ğ”Ğ¾ÑÑŒĞµ_Ğ½Ğ°_ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°.pdf)
- URL: {url}

{bimar_kb}

Ğ¡Ğ¢Ğ Ğ£ĞšĞ¢Ğ£Ğ Ğ Ğ”ĞĞšĞ£ĞœĞ•ĞĞ¢Ğ (PDF, 2-3 ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. ĞŸĞ ĞĞ’Ğ•Ğ ĞšĞ Ğ˜ĞĞ¤ĞĞ ĞœĞĞ¦Ğ˜Ğ˜ Ğ ĞšĞ›Ğ˜Ğ•ĞĞ¢Ğ•

| ĞŸÑƒĞ½ĞºÑ‚ | Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ | Ğ˜ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸Ğº | ĞŸÑ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ğµ |
|-------|--------|----------|------------|
| ĞĞ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸ | âœ… | [URL] | ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞµĞ½Ğ¾ |
| ĞÑ‚Ñ€Ğ°ÑĞ»ÑŒ | âœ… | [URL] | ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞµĞ½Ğ¾ |
| ĞœĞ°ÑÑˆÑ‚Ğ°Ğ± Ğ±Ğ¸Ğ·Ğ½ĞµÑĞ° | âš ï¸ | Ğ“Ğ˜ĞŸĞĞ¢Ğ•Ğ—Ğ | Ğ£Ñ‚Ğ¾Ñ‡Ğ½Ğ¸Ñ‚ÑŒ Ğ½Ğ° Ğ²ÑÑ‚Ñ€ĞµÑ‡Ğµ |
| Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ ÑÑ‚ĞµĞº | âš ï¸ | Ğ’Ğ°ĞºĞ°Ğ½ÑĞ¸Ğ¸ | Ğ¢Ñ€ĞµĞ±ÑƒĞµÑ‚ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ñ |
| Ğ›ĞŸĞ  | â“ | LinkedIn | ĞĞµ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¾ |
| Ğ‘Ğ¾Ğ»Ğ¸ | âš ï¸ | Ğ“Ğ˜ĞŸĞĞ¢Ğ•Ğ—Ğ | ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ½Ğ° Ğ²ÑÑ‚Ñ€ĞµÑ‡Ğµ |

2. ĞŸĞ ĞĞ’Ğ•Ğ ĞšĞ Ğ Ğ•Ğ¨Ğ•ĞĞ˜Ğ™ BIMAR

| ĞŸÑƒĞ½ĞºÑ‚ | Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ | ĞŸÑ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ğµ |
|-------|--------|------------|
| Ğ’ÑĞµ Ğ¼Ğ¾Ğ´ÑƒĞ»Ğ¸ Ğ¸Ğ· Ğ±Ğ°Ğ·Ñ‹ Ğ·Ğ½Ğ°Ğ½Ğ¸Ğ¹ | âœ… / âŒ | [Ğ´ĞµÑ‚Ğ°Ğ»Ğ¸] |
| Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ» Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½ ĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ğ¾ | âœ… / âŒ | [Ğ´ĞµÑ‚Ğ°Ğ»Ğ¸] |
| Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ğµ | âœ… / âŒ | [Ğ´ĞµÑ‚Ğ°Ğ»Ğ¸] |
| Ğ ĞµÑ„ĞµÑ€ĞµĞ½ÑÑ‹ Ğ°ĞºÑ‚ÑƒĞ°Ğ»ÑŒĞ½Ñ‹Ğµ | âœ… / âŒ | [Ğ´ĞµÑ‚Ğ°Ğ»Ğ¸] |

3. ĞŸĞ ĞĞ’Ğ•Ğ ĞšĞ Ğ­ĞšĞĞĞĞœĞ˜ĞšĞ˜

| ĞŸÑƒĞ½ĞºÑ‚ | Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ | ĞŸÑ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ğµ |
|-------|--------|------------|
| Ğ’ÑĞµ Ğ³Ğ¸Ğ¿Ğ¾Ñ‚ĞµĞ·Ñ‹ Ğ¿Ğ¾Ğ¼ĞµÑ‡ĞµĞ½Ñ‹ | âœ… / âŒ | [Ğ´ĞµÑ‚Ğ°Ğ»Ğ¸] |
| Ğ Ğ°ÑÑ‡Ñ‘Ñ‚Ñ‹ ĞºĞ¾Ğ½ÑĞµÑ€Ğ²Ğ°Ñ‚Ğ¸Ğ²Ğ½Ñ‹Ğµ | âœ… / âŒ | [Ğ´ĞµÑ‚Ğ°Ğ»Ğ¸] |
| Ğ¦ĞµĞ½Ğ¾Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¸Ğ· Ğ±Ğ°Ğ·Ñ‹ Ğ·Ğ½Ğ°Ğ½Ğ¸Ğ¹ | âœ… / âŒ | [Ğ´ĞµÑ‚Ğ°Ğ»Ğ¸] |

4. Ğ“ĞĞ¢ĞĞ’ĞĞĞ¡Ğ¢Ğ¬ Ğš Ğ’Ğ¡Ğ¢Ğ Ğ•Ğ§Ğ•

| Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚ | Ğ“Ğ¾Ñ‚Ğ¾Ğ² | ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞµĞ½ | ĞŸÑ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ğµ |
|----------|-------|----------|------------|
| 01_Ğ”Ğ¾ÑÑŒĞµ | âœ… | âœ… | - |
| 02_Ğ ĞµÑˆĞµĞ½Ğ¸Ñ | âœ… | âœ… | - |
| 03_Ğ­ĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸ĞºĞ° | âœ… | âš ï¸ | ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ³Ğ¸Ğ¿Ğ¾Ñ‚ĞµĞ·Ñ‹ |
| 04_ĞŸĞ¸Ğ»Ğ¾Ñ‚_Ğ¢Ğ— | âœ… | âœ… | - |
| 05_Ğ›ĞŸĞ  | âš ï¸ | âš ï¸ | Ğ£Ñ‚Ğ¾Ñ‡Ğ½Ğ¸Ñ‚ÑŒ Ğ›ĞŸĞ  |
| 06_ĞŸĞ¸Ñ‚Ñ‡ | âœ… | âœ… | - |

5. Ğ’ĞĞŸĞ ĞĞ¡Ğ« Ğ”Ğ›Ğ¯ Ğ’Ğ¡Ğ¢Ğ Ğ•Ğ§Ğ˜

- [ ] ĞŸĞ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ´Ğ¸Ñ‚ÑŒ Ğ±Ğ¾Ğ»Ğ¸
- [ ] Ğ£Ñ‚Ğ¾Ñ‡Ğ½Ğ¸Ñ‚ÑŒ Ğ›ĞŸĞ  Ğ¸ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑ Ğ¿Ñ€Ğ¸Ğ½ÑÑ‚Ğ¸Ñ Ñ€ĞµÑˆĞµĞ½Ğ¸Ğ¹
- [ ] ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ ÑÑ‚ĞµĞº
- [ ] ĞĞ±ÑÑƒĞ´Ğ¸Ñ‚ÑŒ KPI ÑƒÑĞ¿ĞµÑ…Ğ°
- [ ] Ğ¡Ğ¾Ğ³Ğ»Ğ°ÑĞ¾Ğ²Ğ°Ñ‚ÑŒ scope Ğ¿Ğ¸Ğ»Ğ¾Ñ‚Ğ°
- [ ] ...

6. Ğ Ğ˜Ğ¡ĞšĞ˜

| Ğ Ğ¸ÑĞº | Ğ’ĞµÑ€Ğ¾ÑÑ‚Ğ½Ğ¾ÑÑ‚ÑŒ | ĞœĞ¸Ñ‚Ğ¸Ğ³Ğ°Ñ†Ğ¸Ñ |
|------|-------------|-----------|
| Ğ›ĞŸĞ  Ğ½Ğµ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´Ñ‘Ğ½ | Ğ’Ñ‹ÑĞ¾ĞºĞ°Ñ | Ğ£Ñ‚Ğ¾Ñ‡Ğ½Ğ¸Ñ‚ÑŒ Ğ½Ğ° Ğ²ÑÑ‚Ñ€ĞµÑ‡Ğµ |
| Ğ­ĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸ĞºĞ° Ğ½Ğ° Ğ³Ğ¸Ğ¿Ğ¾Ñ‚ĞµĞ·Ğ°Ñ… | Ğ¡Ñ€ĞµĞ´Ğ½ÑÑ | Ğ¡Ğ¾Ğ±Ñ€Ğ°Ñ‚ÑŒ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ² Ğ¿Ğ¸Ğ»Ğ¾Ñ‚Ğµ |
| ... | ... | ... |

Ğ¢Ğ Ğ•Ğ‘ĞĞ’ĞĞĞ˜Ğ¯
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
- Ğ§ĞµÑÑ‚Ğ½Ğ¾ Ğ¾Ñ‚Ğ¼ĞµÑ‡Ğ°Ğ¹ Ñ‡Ñ‚Ğ¾ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞµĞ½Ğ¾, Ğ° Ñ‡Ñ‚Ğ¾ Ğ½ĞµÑ‚
- Ğ’ÑĞµ Ğ³Ğ¸Ğ¿Ğ¾Ñ‚ĞµĞ·Ñ‹ Ğ´Ğ¾Ğ»Ğ¶Ğ½Ñ‹ Ğ±Ñ‹Ñ‚ÑŒ Ğ¿Ğ¾Ğ¼ĞµÑ‡ĞµĞ½Ñ‹
- Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² Ğ´Ğ»Ñ Ğ²ÑÑ‚Ñ€ĞµÑ‡Ğ¸
- Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚: PDF (ĞºĞ¾Ğ½Ğ²ĞµÑ€Ñ‚Ğ¸Ñ€ÑƒĞ¹ Ğ¸Ğ· Markdown)

Ğ’Ğ«Ğ¥ĞĞ”ĞĞĞ™ Ğ¤ĞĞ™Ğ›
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹ Ñ‡ĞµĞº-Ğ»Ğ¸ÑÑ‚ Ğ¸ ÑĞ¾Ñ…Ñ€Ğ°Ğ½Ğ¸ ĞºĞ°Ğº: 07_Ğ’ĞµÑ€Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ.pdf
"""

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ĞŸĞ ĞĞœĞŸĞ¢ Ğ”Ğ›Ğ¯ 08_Ğ”ĞĞ¨Ğ‘ĞĞ Ğ”
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PROMPT_DASHBOARD = """
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Ğ”ĞĞšĞ£ĞœĞ•ĞĞ¢: 08_Ğ”ĞĞ¨Ğ‘ĞĞ Ğ”.pdf
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Ğ¦Ğ•Ğ›Ğ¬
Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ²Ğ¸Ğ·ÑƒĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ´Ğ°ÑˆĞ±Ğ¾Ñ€Ğ´ Ñ ĞºĞ»ÑÑ‡ĞµĞ²Ñ‹Ğ¼Ğ¸ Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ°Ğ¼Ğ¸ Ğ¸ Ğ³Ñ€Ğ°Ñ„Ğ¸ĞºĞ°Ğ¼Ğ¸.

Ğ’Ğ¥ĞĞ”ĞĞ«Ğ• Ğ”ĞĞĞĞ«Ğ•
- Ğ ĞµÑˆĞµĞ½Ğ¸Ñ BimAR (02_Ğ ĞµÑˆĞµĞ½Ğ¸Ñ_BIMAR.xlsx) â€” ĞĞ‘Ğ¯Ğ—ĞĞ¢Ğ•Ğ›Ğ¬ĞĞ
- Ğ­ĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸ĞºĞ° (03_Ğ­ĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸ĞºĞ°_ÑĞ´ĞµĞ»ĞºĞ¸.xlsx) â€” ĞĞ‘Ğ¯Ğ—ĞĞ¢Ğ•Ğ›Ğ¬ĞĞ
- Ğ”Ğ¾ÑÑŒĞµ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ° (01_Ğ”Ğ¾ÑÑŒĞµ_Ğ½Ğ°_ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°.pdf)
- URL: {url}
- Ğ¦ĞµĞ»ÑŒ Ğ²ÑÑ‚Ñ€ĞµÑ‡Ğ¸: {goal}

{bimar_kb}

Ğ¡Ğ¢Ğ Ğ£ĞšĞ¢Ğ£Ğ Ğ Ğ”ĞĞ¨Ğ‘ĞĞ Ğ”Ğ (PDF, 2-3 ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

**Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° 1: ĞĞ±Ğ·Ğ¾Ñ€ Ñ€ĞµÑˆĞµĞ½Ğ¸Ğ¹**

1. ĞšĞĞ Ğ¢Ğ ĞœĞĞ”Ğ£Ğ›Ğ•Ğ™ BIMAR (Ğ´Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ°)
   - Ğ’Ğ¸Ğ·ÑƒĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ²ÑĞµÑ… Ğ¼Ğ¾Ğ´ÑƒĞ»ĞµĞ¹ Ğ¸Ğ· 02_Ğ ĞµÑˆĞµĞ½Ğ¸Ñ_BIMAR
   - Ğ¦Ğ²ĞµÑ‚Ğ¾Ğ²Ğ¾Ğµ ĞºĞ¾Ğ´Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¿Ğ¾ Ğ¿Ñ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚Ñƒ (Ğ²Ñ‹ÑĞ¾ĞºĞ¸Ğ¹/ÑÑ€ĞµĞ´Ğ½Ğ¸Ğ¹/Ğ½Ğ¸Ğ·ĞºĞ¸Ğ¹)
   - Ğ Ğ°Ğ·Ğ¼ĞµÑ€ Ğ±Ğ»Ğ¾ĞºĞ° = Ğ¿Ğ¾Ñ‚ĞµĞ½Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ÑÑ„Ñ„ĞµĞºÑ‚

2. Ğ¢ĞĞŸ-3 Ğ¡Ğ¦Ğ•ĞĞĞ Ğ˜Ğ¯ (Ğ¸Ğ½Ñ„Ğ¾Ğ³Ñ€Ğ°Ñ„Ğ¸ĞºĞ°)
   - ĞĞ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ñ
   - Ğ‘Ğ¾Ğ»ÑŒ â†’ Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ â†’ Ğ­Ñ„Ñ„ĞµĞºÑ‚
   - Ğ˜ĞºĞ¾Ğ½ĞºĞ¸ Ğ¸ ÑÑ‚Ñ€ĞµĞ»ĞºĞ¸

3. Ğ¡Ğ›ĞĞ–ĞĞĞ¡Ğ¢Ğ¬ Ğ’ĞĞ•Ğ”Ğ Ğ•ĞĞ˜Ğ¯ (Ğ¼Ğ°Ñ‚Ñ€Ğ¸Ñ†Ğ°)
   - ĞÑÑŒ X: Ğ­Ñ„Ñ„ĞµĞºÑ‚ (Ğ½Ğ¸Ğ·ĞºĞ¸Ğ¹ â†’ Ğ²Ñ‹ÑĞ¾ĞºĞ¸Ğ¹)
   - ĞÑÑŒ Y: Ğ¡Ğ»Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ (Ğ½Ğ¸Ğ·ĞºĞ°Ñ â†’ Ğ²Ñ‹ÑĞ¾ĞºĞ°Ñ)
   - Ğ¢Ğ¾Ñ‡ĞºĞ¸ = Ğ¼Ğ¾Ğ´ÑƒĞ»Ğ¸ BimAR
   - Quick wins Ğ² Ğ¿Ñ€Ğ°Ğ²Ğ¾Ğ¼ Ğ½Ğ¸Ğ¶Ğ½ĞµĞ¼ ÑƒĞ³Ğ»Ñƒ

**Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° 2: Ğ­ĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸ĞºĞ°**

4. ROI Ğ˜ ĞĞšĞ£ĞŸĞĞ•ĞœĞĞ¡Ğ¢Ğ¬ (Ğ³Ñ€Ğ°Ñ„Ğ¸ĞºĞ¸)
   - Ğ“Ñ€Ğ°Ñ„Ğ¸Ğº Ğ¾ĞºÑƒĞ¿Ğ°ĞµĞ¼Ğ¾ÑÑ‚Ğ¸ (Ğ½Ğ°ĞºĞ¾Ğ¿Ğ»ĞµĞ½Ğ½Ñ‹Ğ¹ ÑÑ„Ñ„ĞµĞºÑ‚)
   - Ğ¡Ñ‚Ğ¾Ğ»Ğ±Ñ‡Ğ°Ñ‚Ğ°Ñ Ğ´Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ°: Ğ·Ğ°Ñ‚Ñ€Ğ°Ñ‚Ñ‹ vs ÑĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸Ñ
   - ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ñ†Ğ¸Ñ„Ñ€Ñ‹:
     â€¢ ROI: [%]
     â€¢ Ğ¡Ñ€Ğ¾Ğº Ğ¾ĞºÑƒĞ¿Ğ°ĞµĞ¼Ğ¾ÑÑ‚Ğ¸: [Ğ¼ĞµÑÑÑ†ĞµĞ²]
     â€¢ Ğ­ĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸Ñ Ğ² Ğ³Ğ¾Ğ´: [â‚½]

5. Ğ¡Ğ¢Ğ Ğ£ĞšĞ¢Ğ£Ğ Ğ Ğ—ĞĞ¢Ğ ĞĞ¢ ĞŸĞ˜Ğ›ĞĞ¢Ğ (ĞºÑ€ÑƒĞ³Ğ¾Ğ²Ğ°Ñ Ğ´Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ°)
   - Ğ›Ğ¸Ñ†ĞµĞ½Ğ·Ğ¸Ğ¸
   - Ğ’Ğ½ĞµĞ´Ñ€ĞµĞ½Ğ¸Ğµ
   - ĞĞ±ÑƒÑ‡ĞµĞ½Ğ¸Ğµ
   - ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ°

6. TIMELINE Ğ’ĞĞ•Ğ”Ğ Ğ•ĞĞ˜Ğ¯ (Gantt-Ğ´Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ°)
   - ĞŸĞ¾Ğ´Ğ³Ğ¾Ñ‚Ğ¾Ğ²ĞºĞ° (2 Ğ½ĞµĞ´)
   - ĞĞ±ÑƒÑ‡ĞµĞ½Ğ¸Ğµ (1 Ğ½ĞµĞ´)
   - Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ (8 Ğ½ĞµĞ´)
   - ĞÑ†ĞµĞ½ĞºĞ° (1 Ğ½ĞµĞ´)

**Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° 3: Ğ¡Ñ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ğµ (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)**

7. Ğ”Ğ vs ĞŸĞĞ¡Ğ›Ğ• BIMAR (ÑÑ€Ğ°Ğ²Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ°Ñ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ°)
   | ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚ĞµĞ»ÑŒ | Ğ”Ğ¾ | ĞŸĞ¾ÑĞ»Ğµ | Ğ£Ğ»ÑƒÑ‡ÑˆĞµĞ½Ğ¸Ğµ |
   - Ğ’Ñ€ĞµĞ¼Ñ Ğ½Ğ° Ğ·Ğ°Ğ´Ğ°Ñ‡Ñƒ
   - ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº
   - ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ
   - Ğ—Ğ°Ñ‚Ñ€Ğ°Ñ‚Ñ‹

8. Ğ Ğ˜Ğ¡ĞšĞ˜ Ğ˜ ĞœĞ˜Ğ¢Ğ˜Ğ“ĞĞ¦Ğ˜Ğ¯ (heat map)
   - ĞœĞ°Ñ‚Ñ€Ğ¸Ñ†Ğ° Ñ€Ğ¸ÑĞºĞ¾Ğ²: Ğ²ĞµÑ€Ğ¾ÑÑ‚Ğ½Ğ¾ÑÑ‚ÑŒ Ã— Ğ²Ğ»Ğ¸ÑĞ½Ğ¸Ğµ
   - Ğ¦Ğ²ĞµÑ‚Ğ¾Ğ²Ğ¾Ğµ ĞºĞ¾Ğ´Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

Ğ¢Ğ Ğ•Ğ‘ĞĞ’ĞĞĞ˜Ğ¯
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
- **ĞĞ‘Ğ¯Ğ—ĞĞ¢Ğ•Ğ›Ğ¬ĞĞ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¸Ğ·:**
  â€¢ 02_Ğ ĞµÑˆĞµĞ½Ğ¸Ñ_BIMAR.xlsx â€” Ğ´Ğ»Ñ Ğ¼Ğ¾Ğ´ÑƒĞ»ĞµĞ¹ Ğ¸ ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸ĞµĞ²
  â€¢ 03_Ğ­ĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸ĞºĞ°_ÑĞ´ĞµĞ»ĞºĞ¸.xlsx â€” Ğ´Ğ»Ñ ROI Ğ¸ Ğ·Ğ°Ñ‚Ñ€Ğ°Ñ‚
- Ğ’ÑĞµ Ğ³Ñ€Ğ°Ñ„Ğ¸ĞºĞ¸ Ğ´Ğ¾Ğ»Ğ¶Ğ½Ñ‹ Ğ±Ñ‹Ñ‚ÑŒ Ğ²ÑÑ‚Ñ€Ğ¾ĞµĞ½Ñ‹ Ğ² PDF
- Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹ Ğ¿Ñ€Ğ¾Ñ„ĞµÑÑĞ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ñ†Ğ²ĞµÑ‚Ğ° (ĞºĞ¾Ñ€Ğ¿Ğ¾Ñ€Ğ°Ñ‚Ğ¸Ğ²Ğ½Ñ‹Ğµ BimAR ĞµÑĞ»Ğ¸ ĞµÑÑ‚ÑŒ)
- Ğ’ÑĞµ Ñ†Ğ¸Ñ„Ñ€Ñ‹ â€” Ğ¸Ğ· Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†, Ğ½Ğµ Ğ¿Ñ€Ğ¸Ğ´ÑƒĞ¼Ñ‹Ğ²Ğ°Ğ¹
- Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚: PDF Ñ Ğ²Ğ¸Ğ·ÑƒĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸ÑĞ¼Ğ¸
- Ğ¯Ğ·Ñ‹Ğº: Ñ€ÑƒÑÑĞºĞ¸Ğ¹

Ğ˜ĞĞ¡Ğ¢Ğ Ğ£ĞœĞ•ĞĞ¢Ğ« Ğ”Ğ›Ğ¯ Ğ’Ğ˜Ğ—Ğ£ĞĞ›Ğ˜Ğ—ĞĞ¦Ğ˜Ğ˜
- Python: matplotlib, seaborn, plotly
- Ğ˜Ğ»Ğ¸ ÑĞ¾Ğ·Ğ´Ğ°Ğ¹ Ğ² Markdown Ñ mermaid Ğ´Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ°Ğ¼Ğ¸ Ğ¸ ĞºĞ¾Ğ½Ğ²ĞµÑ€Ñ‚Ğ¸Ñ€ÑƒĞ¹ Ğ² PDF

Ğ’Ğ«Ğ¥ĞĞ”ĞĞĞ™ Ğ¤ĞĞ™Ğ›
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹ Ğ´Ğ°ÑˆĞ±Ğ¾Ñ€Ğ´ Ğ¸ ÑĞ¾Ñ…Ñ€Ğ°Ğ½Ğ¸ ĞºĞ°Ğº: 08_Ğ”Ğ°ÑˆĞ±Ğ¾Ñ€Ğ´.pdf
"""

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ğ¡Ğ›ĞĞ’ĞĞ Ğ¬ ĞŸĞ ĞĞœĞŸĞ¢ĞĞ’
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

DOCUMENT_PROMPTS = {
    "dossier": PROMPT_DOSSIER,
    "use_cases": PROMPT_USE_CASES,
    "roi": PROMPT_ROI,
    "sow": PROMPT_SOW,
    "stakeholders": PROMPT_STAKEHOLDERS,
    "presentation": PROMPT_PRESENTATION,
    "verification": PROMPT_VERIFICATION,
    "dashboard": PROMPT_DASHBOARD
}

def get_document_prompt(doc_id: str, url: str, goal: str, constraints: str = "-") -> str:
    """
    ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¾Ğ¼Ğ¿Ñ‚ Ğ´Ğ»Ñ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ğ¾Ğ³Ğ¾ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°
    
    Args:
        doc_id: ID Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ° (dossier, use_cases, roi, sow, stakeholders, presentation, verification)
        url: URL ÑĞ°Ğ¹Ñ‚Ğ° ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°
        goal: Ğ¦ĞµĞ»ÑŒ Ğ²ÑÑ‚Ñ€ĞµÑ‡Ğ¸
        constraints: ĞĞ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ñ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°
    
    Returns:
        Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ñ‹Ğ¹ Ğ¿Ñ€Ğ¾Ğ¼Ğ¿Ñ‚ Ğ´Ğ»Ñ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ¸ Ğ² Manus API
    """
    prompt_template = DOCUMENT_PROMPTS.get(doc_id, "")
    if not prompt_template:
        return ""
    
    return prompt_template.format(
        url=url,
        goal=goal,
        constraints=constraints,
        bimar_kb=BIMAR_KNOWLEDGE_BASE
    )
# ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ğµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğ¹ FSM Ğ´Ğ»Ñ Ğ´Ğ²ÑƒÑ…ÑÑ‚Ğ°Ğ¿Ğ½Ğ¾Ğ³Ğ¾ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑĞ°
class PresaleStates(StatesGroup):
    """Ğ¤Ğ¡Ğœ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ Ğ´Ğ»Ñ Ğ¿Ñ€ĞµÑĞµĞ¹Ğ»-Ğ±Ğ¾Ñ‚Ğ°"""
    waiting_for_url = State()       # ĞĞ¶Ğ¸Ğ´Ğ°Ğ½Ğ¸Ğµ URL ÑĞ°Ğ¹Ñ‚Ğ°
    waiting_for_goal = State()      # ĞĞ¶Ğ¸Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğ° Ñ†ĞµĞ»Ğ¸
    analyzing = State()             # Ğ­Ñ‚Ğ°Ğ¿ 1: ĞĞ½Ğ°Ğ»Ğ¸Ğ· Ğ¸ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ´Ğ¾ÑÑŒĞµ
    selecting_docs = State()        # Ğ­Ñ‚Ğ°Ğ¿ 2: Ğ’Ñ‹Ğ±Ğ¾Ñ€ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ²
    generating_docs = State()       # Ğ­Ñ‚Ğ°Ğ¿ 3: Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ğ²Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ²
    waiting_for_constraints = State()  # ĞĞ¶Ğ¸Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ğ¹
    processing = State()            # ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸ Manus

# Ğ¢Ğ¸Ğ¿Ñ‹ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ² Ğ´Ğ»Ñ Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğ°
DOCUMENT_TYPES = {
    "dossier": {
        "id": "dossier",
        "name": "01_Ğ”Ğ¾ÑÑŒĞµ_Ğ½Ğ°_ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°",
        "filename": "01_Ğ”Ğ¾ÑÑŒĞµ_Ğ½Ğ°_ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°.pdf",
        "format": "pdf",
        "icon": "ğŸ“‹",
        "description": "ĞŸÑ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸, Ğ±Ğ¾Ğ»Ğ¸, Ğ›ĞŸĞ ",
        "mandatory": True
    },
    "use_cases": {
        "id": "use_cases",
        "name": "02_Ğ ĞµÑˆĞµĞ½Ğ¸Ñ_BIMAR",
        "filename": "02_Ğ ĞµÑˆĞµĞ½Ğ¸Ñ_BIMAR.xlsx",
        "format": "xlsx",
        "icon": "ğŸ—ºï¸",
        "description": "ĞšĞ°Ñ€Ñ‚Ğ° Ğ¼Ğ¾Ğ´ÑƒĞ»ĞµĞ¹ BimAR Ğ¸ ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸ĞµĞ²"
    },
    "roi": {
        "id": "roi",
        "name": "03_Ğ­ĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸ĞºĞ°_ÑĞ´ĞµĞ»ĞºĞ¸",
        "filename": "03_Ğ­ĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸ĞºĞ°_ÑĞ´ĞµĞ»ĞºĞ¸.xlsx",
        "format": "xlsx",
        "icon": "ğŸ’°",
        "description": "ROI ĞºĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ + ÑÑ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ Ğ¿Ğ¸Ğ»Ğ¾Ñ‚Ğ°"
    },
    "sow": {
        "id": "sow",
        "name": "04_ĞŸĞ¸Ğ»Ğ¾Ñ‚_Ğ¢Ğ—",
        "filename": "04_ĞŸĞ¸Ğ»Ğ¾Ñ‚_Ğ¢Ğ—.pdf",
        "format": "pdf",
        "icon": "ğŸ“",
        "description": "Ğ¢ĞµÑ…Ğ·Ğ°Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ½Ğ° Ğ¿Ğ¸Ğ»Ğ¾Ñ‚ 90 Ğ´Ğ½ĞµĞ¹"
    },
    "stakeholders": {
        "id": "stakeholders",
        "name": "05_Ğ›ĞŸĞ _Ğ¸_ĞºĞ²Ğ°Ğ»Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ",
        "filename": "05_Ğ›ĞŸĞ _Ğ¸_ĞºĞ²Ğ°Ğ»Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ.xlsx",
        "format": "xlsx",
        "icon": "ğŸ¯",
        "description": "ĞšĞ°Ñ€Ñ‚Ğ° Ğ›ĞŸĞ  + MEDDPICC"
    },
    "presentation": {
        "id": "presentation",
        "name": "06_ĞŸĞ¸Ñ‚Ñ‡_Ğ´Ğ»Ñ_ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°",
        "filename": "06_ĞŸĞ¸Ñ‚Ñ‡_Ğ´Ğ»Ñ_ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°.pdf",
        "format": "pdf",
        "icon": "ğŸ“Š",
        "description": "ĞŸÑ€ĞµĞ·ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ 10-12 ÑĞ»Ğ°Ğ¹Ğ´Ğ¾Ğ²"
    },
    "dashboard": {
        "id": "dashboard",
        "name": "08_Ğ”Ğ°ÑˆĞ±Ğ¾Ñ€Ğ´",
        "filename": "08_Ğ”Ğ°ÑˆĞ±Ğ¾Ñ€Ğ´.pdf",
        "format": "pdf",
        "icon": "ğŸ“ˆ",
        "description": "Ğ’Ğ¸Ğ·ÑƒĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ñ€ĞµÑˆĞµĞ½Ğ¸Ğ¹ Ğ¸ ÑĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸ĞºĞ¸"
    },
    "verification": {
        "id": "verification",
        "name": "07_Ğ’ĞµÑ€Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ",
        "filename": "07_Ğ’ĞµÑ€Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ.pdf",
        "format": "pdf",
        "icon": "âœ…",
        "description": "Ğ§ĞµĞº-Ğ»Ğ¸ÑÑ‚ Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ¿Ñ€ĞµÑĞµĞ¹Ğ»Ğ°"
    }
}

# Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ² Ğ´Ğ»Ñ Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğ° (Ğ¸ÑĞºĞ»ÑÑ‡Ğ°Ñ Ğ¾Ğ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ)
SELECTABLE_DOCS = [k for k, v in DOCUMENT_TYPES.items() if not v.get("mandatory", False)]

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ĞšĞĞĞ¤Ğ˜Ğ“Ğ£Ğ ĞĞ¦Ğ˜Ğ¯
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

TELEGRAM_BOT_TOKEN = os.getenv("TELEGRAM_BOT_TOKEN")
MANUS_API_KEY = os.getenv("MANUS_API_KEY")
MANUS_PROJECT_ID = os.getenv("MANUS_PROJECT_ID", "YghG6cpo3udE8p2gcYzQfP")
MANUS_BASE_URL = os.getenv("MANUS_BASE_URL", "https://api.manus.ai")
MANUS_API_URL = MANUS_BASE_URL  # ĞĞ»Ğ¸Ğ°Ñ Ğ´Ğ»Ñ ÑĞ¾Ğ²Ğ¼ĞµÑÑ‚Ğ¸Ğ¼Ğ¾ÑÑ‚Ğ¸
ALLOWED_USER_IDS = os.getenv("ALLOWED_USER_IDS", "")
QUICK_MODE_DEFAULT = os.getenv("QUICK_MODE", "0") == "1"
POLLING_INTERVAL = int(os.getenv("POLLING_INTERVAL", "10"))
TASK_TIMEOUT = int(os.getenv("TASK_TIMEOUT", "1500"))

VERSION = "3.0"
START_TIME = datetime.now()

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ¾Ğ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ñ… Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ñ…
if not TELEGRAM_BOT_TOKEN:
    print("âŒ ERROR: TELEGRAM_BOT_TOKEN not set")
    raise ValueError("TELEGRAM_BOT_TOKEN environment variable is required")

if not MANUS_API_KEY:
    print("âš ï¸ WARNING: MANUS_API_KEY not set - API calls will fail")

# ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Ğ»Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ
logging.basicConfig(
    level=logging.INFO,
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s'
)
logger = logging.getLogger(__name__)

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ğ¥Ğ ĞĞĞ˜Ğ›Ğ˜Ğ©Ğ• Ğ”ĞĞĞĞ«Ğ¥
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

user_tasks: Dict[int, List[Dict]] = {}
user_settings: Dict[int, Dict] = {}
stats = {
    "requests_today": 0,
    "successful": 0,
    "errors": 0,
    "files_sent": 0
}

# ĞšÑÑˆ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ¾Ğ² Ğ¿Ğ¾ URL (Ğ´Ğ¾Ğ¼ĞµĞ½ -> Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸)
url_cache: Dict[str, Dict] = {}
CACHE_TTL_HOURS = int(os.getenv("CACHE_TTL_HOURS", "24"))  # Ğ’Ñ€ĞµĞ¼Ñ Ğ¶Ğ¸Ğ·Ğ½Ğ¸ ĞºÑÑˆĞ° Ğ² Ñ‡Ğ°ÑĞ°Ñ…

# ĞÑ‡ĞµÑ€ĞµĞ´ÑŒ Ğ·Ğ°Ğ´Ğ°Ñ‡ Ğ´Ğ»Ñ Ğ¿Ğ°Ñ€Ğ°Ğ»Ğ»ĞµĞ»ÑŒĞ½Ğ¾Ğ¹ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸
task_queue: asyncio.Queue = None  # Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµÑ‚ÑÑ Ğ¿Ñ€Ğ¸ Ğ·Ğ°Ğ¿ÑƒÑĞºĞµ
active_tasks: Dict[str, Dict] = {}  # task_id -> Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¾ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğµ
MAX_CONCURRENT_TASKS = int(os.getenv("MAX_CONCURRENT_TASKS", "3"))  # ĞœĞ°ĞºÑ Ğ¿Ğ°Ñ€Ğ°Ğ»Ğ»ĞµĞ»ÑŒĞ½Ñ‹Ñ… Ğ·Ğ°Ğ´Ğ°Ñ‡

# Ğ¥Ñ€Ğ°Ğ½Ğ¸Ğ»Ğ¸Ñ‰Ğµ Ğ·Ğ°Ğ²ĞµÑ€ÑˆÑ‘Ğ½Ğ½Ñ‹Ñ… Ğ·Ğ°Ğ´Ğ°Ñ‡ Ñ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ğ¼Ğ¸ (user_id -> [{task_id, domain, files, date}])
completed_tasks: Dict[int, List[Dict]] = {}

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ğ˜ĞĞ˜Ğ¦Ğ˜ĞĞ›Ğ˜Ğ—ĞĞ¦Ğ˜Ğ¯ Ğ‘ĞĞ¢Ğ
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

bot = Bot(token=TELEGRAM_BOT_TOKEN)
storage = MemoryStorage()
dp = Dispatcher(storage=storage)
router = Router()
dp.include_router(router)

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ĞšĞ›ĞĞ’Ğ˜ĞĞ¢Ğ£Ğ Ğ«
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

def get_main_keyboard() -> ReplyKeyboardMarkup:
    return ReplyKeyboardMarkup(
        keyboard=[
            [KeyboardButton(text="ğŸš€ ĞĞ¾Ğ²Ñ‹Ğ¹ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·"), KeyboardButton(text="ğŸ“Š ĞœĞ¾Ğ¸ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸")],
            [KeyboardButton(text="âš™ï¸ ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸"), KeyboardButton(text="ğŸ“ˆ Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ")],
            [KeyboardButton(text="ğŸ“– Ğ¡Ğ¿Ñ€Ğ°Ğ²ĞºĞ°")]
        ],
        resize_keyboard=True,
        is_persistent=True
    )

def get_goals_keyboard() -> InlineKeyboardMarkup:
    return InlineKeyboardMarkup(
        inline_keyboard=[
            [InlineKeyboardButton(text="ğŸ¯ Ğ’Ğ²Ğ¾Ğ´Ğ½Ğ°Ñ/ĞºĞ²Ğ°Ğ»Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ", callback_data="goal_intro")],
            [InlineKeyboardButton(text="ğŸš€ Ğ¡Ğ¾Ğ³Ğ»Ğ°ÑĞ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¿Ğ¸Ğ»Ğ¾Ñ‚Ğ°", callback_data="goal_pilot")],
            [InlineKeyboardButton(text="ğŸ’¼ Ğ¢ĞšĞŸ", callback_data="goal_tkp")],
            [InlineKeyboardButton(text="âŒ ĞÑ‚Ğ¼ĞµĞ½Ğ°", callback_data="cancel")]
        ]
    )

def get_settings_keyboard(user_id: int) -> InlineKeyboardMarkup:
    settings = get_user_settings(user_id)
    quick_mode = "âœ…" if settings.get("quick_mode", False) else "âŒ"
    notifications = "âœ…" if settings.get("notifications", True) else "âŒ"
    return InlineKeyboardMarkup(
        inline_keyboard=[
            [InlineKeyboardButton(text=f"âš¡ Quick Mode {quick_mode}", callback_data="toggle_quick_mode")],
            [InlineKeyboardButton(text=f"ğŸ”” Ğ£Ğ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ {notifications}", callback_data="toggle_notifications")],
            [InlineKeyboardButton(text="ğŸŒ Ğ¯Ğ·Ñ‹Ğº", callback_data="settings_language")],
            [InlineKeyboardButton(text="ğŸ¯ Ğ¦ĞµĞ»ÑŒ Ğ¿Ğ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ", callback_data="settings_default_goal")],
            [InlineKeyboardButton(text="ğŸ”™ ĞĞ°Ğ·Ğ°Ğ´", callback_data="back_to_menu")]
        ]
    )

def get_language_keyboard() -> InlineKeyboardMarkup:
    return InlineKeyboardMarkup(
        inline_keyboard=[
            [InlineKeyboardButton(text="ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹", callback_data="lang_ru"),
             InlineKeyboardButton(text="ğŸ‡¬ğŸ‡§ English", callback_data="lang_en")],
            [InlineKeyboardButton(text="ğŸ”™ ĞĞ°Ğ·Ğ°Ğ´", callback_data="back_to_settings")]
        ]
    )

def get_default_goal_keyboard() -> InlineKeyboardMarkup:
    return InlineKeyboardMarkup(
        inline_keyboard=[
            [InlineKeyboardButton(text="â­• ĞĞµ Ğ·Ğ°Ğ´Ğ°Ğ½Ğ° (ÑĞ¿Ñ€Ğ°ÑˆĞ¸Ğ²Ğ°Ñ‚ÑŒ)", callback_data="default_goal_none")],
            [InlineKeyboardButton(text="ğŸ¯ Ğ’Ğ²Ğ¾Ğ´Ğ½Ğ°Ñ/ĞºĞ²Ğ°Ğ»Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ", callback_data="default_goal_intro")],
            [InlineKeyboardButton(text="ğŸš€ Ğ¡Ğ¾Ğ³Ğ»Ğ°ÑĞ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¿Ğ¸Ğ»Ğ¾Ñ‚Ğ°", callback_data="default_goal_pilot")],
            [InlineKeyboardButton(text="ğŸ’¼ Ğ¢ĞšĞŸ", callback_data="default_goal_tkp")],
            [InlineKeyboardButton(text="ğŸ”™ ĞĞ°Ğ·Ğ°Ğ´", callback_data="back_to_settings")]
        ]
    )

def get_status_keyboard() -> InlineKeyboardMarkup:
    return InlineKeyboardMarkup(
        inline_keyboard=[
            [InlineKeyboardButton(text="ğŸ”„ ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ ÑÑ‚Ğ°Ñ‚ÑƒÑ", callback_data="refresh_status")],
            [InlineKeyboardButton(text="ğŸ”™ ĞĞ°Ğ·Ğ°Ğ´ Ğ² Ğ¼ĞµĞ½Ñ", callback_data="back_to_menu")]
        ]
    )

def get_cancel_keyboard() -> InlineKeyboardMarkup:
    return InlineKeyboardMarkup(
        inline_keyboard=[[InlineKeyboardButton(text="âŒ ĞÑ‚Ğ¼ĞµĞ½Ğ°", callback_data="cancel")]]
    )

def get_tasks_keyboard(user_id: int) -> InlineKeyboardMarkup:
    """ĞšĞ»Ğ°Ğ²Ğ¸Ğ°Ñ‚ÑƒÑ€Ğ° Ğ´Ğ»Ñ Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğ° Ğ·Ğ°Ğ²ĞµÑ€ÑˆÑ‘Ğ½Ğ½Ñ‹Ñ… Ğ·Ğ°Ğ´Ğ°Ñ‡"""
    tasks = get_completed_tasks(user_id)
    buttons = []
    for i, task in enumerate(tasks[:5], 1):
        domain = task.get("domain", "unknown")[:15]
        task_id = task.get("task_id", "")
        buttons.append([InlineKeyboardButton(
            text=f"#{i} ğŸ“ {domain}",
            callback_data=f"download_task_{task_id}"
        )])
    buttons.append([InlineKeyboardButton(text="ğŸ”™ ĞĞ°Ğ·Ğ°Ğ´ Ğ² Ğ¼ĞµĞ½Ñ", callback_data="back_to_menu")])
    return InlineKeyboardMarkup(inline_keyboard=buttons)

def get_cache_keyboard(domain: str) -> InlineKeyboardMarkup:
    """ĞšĞ»Ğ°Ğ²Ğ¸Ğ°Ñ‚ÑƒÑ€Ğ° Ğ´Ğ»Ñ Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğ°: Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ ĞºÑÑˆ Ğ¸Ğ»Ğ¸ Ğ¿ĞµÑ€ĞµĞ³ĞµĞ½ĞµÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ"""
    return InlineKeyboardMarkup(
        inline_keyboard=[
            [InlineKeyboardButton(text="âš¡ Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ñ‹Ğµ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ñ‹", callback_data=f"use_cache_{domain}")],
            [InlineKeyboardButton(text="ğŸ”„ Ğ¡Ğ³ĞµĞ½ĞµÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ·Ğ°Ğ½Ğ¾Ğ²Ğ¾", callback_data="regenerate")],
            [InlineKeyboardButton(text="âŒ ĞÑ‚Ğ¼ĞµĞ½Ğ°", callback_data="cancel")]
        ]
    )

def get_document_selector_keyboard(selected: set) -> InlineKeyboardMarkup:
    """ĞšĞ»Ğ°Ğ²Ğ¸Ğ°Ñ‚ÑƒÑ€Ğ° Ğ´Ğ»Ñ Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğ° Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ² Ñ Ñ‡ĞµĞºĞ±Ğ¾ĞºÑĞ°Ğ¼Ğ¸"""
    buttons = []
    
    for doc_id in SELECTABLE_DOCS:
        doc = DOCUMENT_TYPES.get(doc_id, {})
        icon = doc.get("icon", "ğŸ“„")
        name = doc.get("name", doc_id)
        check = "âœ…" if doc_id in selected else "â¬œ"
        buttons.append([InlineKeyboardButton(
            text=f"{check} {icon} {name}",
            callback_data=f"toggle_doc_{doc_id}"
        )])
    
    # ĞšĞ½Ğ¾Ğ¿ĞºĞ° "Ğ’Ñ‹Ğ±Ñ€Ğ°Ñ‚ÑŒ Ğ²ÑĞµ / Ğ¡Ğ½ÑÑ‚ÑŒ Ğ²ÑĞµ"
    all_selected = len(selected) == len(SELECTABLE_DOCS)
    toggle_text = "âŒ Ğ¡Ğ½ÑÑ‚ÑŒ Ğ²ÑĞµ" if all_selected else "âœ… Ğ’Ñ‹Ğ±Ñ€Ğ°Ñ‚ÑŒ Ğ²ÑĞµ"
    buttons.append([InlineKeyboardButton(text=toggle_text, callback_data="toggle_all_docs")])
    
    # ĞšĞ½Ğ¾Ğ¿ĞºĞ° Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ñ
    buttons.append([InlineKeyboardButton(
        text=f"ğŸš€ Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ²Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ½Ñ‹Ğµ ({len(selected)})",
        callback_data="confirm_docs" if selected else "noop"
    )])
    
    buttons.append([InlineKeyboardButton(text="âŒ ĞÑ‚Ğ¼ĞµĞ½Ğ°", callback_data="cancel")])
    
    return InlineKeyboardMarkup(inline_keyboard=buttons)

def get_selected_docs_summary(selected: set) -> str:
    """Ğ¤Ğ¾Ñ€Ğ¼Ğ¸Ñ€ÑƒĞµÑ‚ Ñ‚ĞµĞºÑÑ‚Ğ¾Ğ²Ğ¾Ğµ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ²Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ²"""
    lines = []
    for doc_id in selected:
        doc = DOCUMENT_TYPES.get(doc_id, {})
        icon = doc.get("icon", "ğŸ“„")
        name = doc.get("name", doc_id)
        lines.append(f"{icon} {name}")
    return "\n".join(lines) if lines else "ĞĞµÑ‚ Ğ²Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ²"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ğ’Ğ¡ĞŸĞĞœĞĞ“ĞĞ¢Ğ•Ğ›Ğ¬ĞĞ«Ğ• Ğ¤Ğ£ĞĞšĞ¦Ğ˜Ğ˜
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

def get_user_settings(user_id: int) -> Dict:
    if user_id not in user_settings:
        user_settings[user_id] = {
            "quick_mode": QUICK_MODE_DEFAULT,
            "notifications": True,
            "language": "ru",
            "default_goal": None
        }
    return user_settings[user_id]

def get_user_tasks(user_id: int) -> List[Dict]:
    if user_id not in user_tasks:
        user_tasks[user_id] = []
    return user_tasks[user_id]

def add_user_task(user_id: int, task: Dict):
    tasks = get_user_tasks(user_id)
    tasks.insert(0, task)
    user_tasks[user_id] = tasks[:10]

def is_user_allowed(user_id: int) -> bool:
    if not ALLOWED_USER_IDS:
        return True
    allowed = [int(x.strip()) for x in ALLOWED_USER_IDS.split(",") if x.strip()]
    return user_id in allowed if allowed else True

def validate_url(url: str) -> bool:
    try:
        result = urlparse(url)
        return all([result.scheme in ['http', 'https'], result.netloc])
    except:
        return False

def get_uptime() -> str:
    delta = datetime.now() - START_TIME
    hours, remainder = divmod(int(delta.total_seconds()), 3600)
    minutes, seconds = divmod(remainder, 60)
    return f"{hours}Ñ‡ {minutes}Ğ¼ {seconds}Ñ"

def get_progress_bar(percent: int, length: int = 10) -> str:
    filled = int(length * percent / 100)
    return "â–ˆ" * filled + "â–‘" * (length - filled)

# Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ ĞºÑÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ
def get_cached_result(domain: str) -> Optional[Dict]:
    """ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ·Ğ°ĞºÑÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚ Ğ¿Ğ¾ Ğ´Ğ¾Ğ¼ĞµĞ½Ñƒ"""
    if domain in url_cache:
        cached = url_cache[domain]
        cache_time = datetime.fromisoformat(cached.get("cached_at", "2000-01-01"))
        if datetime.now() - cache_time < timedelta(hours=CACHE_TTL_HOURS):
            logger.info(f"Cache hit for {domain}")
            return cached
        else:
            # ĞšÑÑˆ ÑƒÑÑ‚Ğ°Ñ€ĞµĞ»
            del url_cache[domain]
            logger.info(f"Cache expired for {domain}")
    return None

def set_cached_result(domain: str, task_id: str, files: List[Dict]):
    """Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚ Ğ² ĞºÑÑˆ"""
    url_cache[domain] = {
        "task_id": task_id,
        "files": files,
        "cached_at": datetime.now().isoformat()
    }
    logger.info(f"Cached result for {domain}")

# Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ Ñ Ğ·Ğ°Ğ²ĞµÑ€ÑˆÑ‘Ğ½Ğ½Ñ‹Ğ¼Ğ¸ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ°Ğ¼Ğ¸
def get_completed_tasks(user_id: int) -> List[Dict]:
    """ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ ÑĞ¿Ğ¸ÑĞ¾Ğº Ğ·Ğ°Ğ²ĞµÑ€ÑˆÑ‘Ğ½Ğ½Ñ‹Ñ… Ğ·Ğ°Ğ´Ğ°Ñ‡ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ"""
    if user_id not in completed_tasks:
        completed_tasks[user_id] = []
    return completed_tasks[user_id]

def add_completed_task(user_id: int, task_data: Dict):
    """Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ·Ğ°Ğ²ĞµÑ€ÑˆÑ‘Ğ½Ğ½ÑƒÑ Ğ·Ğ°Ğ´Ğ°Ñ‡Ñƒ Ñ Ñ„Ğ°Ğ¹Ğ»Ğ°Ğ¼Ğ¸"""
    tasks = get_completed_tasks(user_id)
    tasks.insert(0, task_data)
    completed_tasks[user_id] = tasks[:20]  # Ğ¥Ñ€Ğ°Ğ½Ğ¸Ğ¼ Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğµ 20 Ğ·Ğ°Ğ´Ğ°Ñ‡
    logger.info(f"Added completed task for user {user_id}: {task_data.get('domain')}")

def get_task_by_id(user_id: int, task_id: str) -> Optional[Dict]:
    """ĞĞ°Ğ¹Ñ‚Ğ¸ Ğ·Ğ°Ğ´Ğ°Ñ‡Ñƒ Ğ¿Ğ¾ ID"""
    tasks = get_completed_tasks(user_id)
    for task in tasks:
        if task.get("task_id") == task_id:
            return task
    return None

# Ğ­Ñ‚Ğ°Ğ¿Ñ‹ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ Ñ Ğ¿Ñ€Ğ¾Ñ†ĞµĞ½Ñ‚Ğ°Ğ¼Ğ¸
GENERATION_STAGES = [
    {"name": "ĞĞ½Ğ°Ğ»Ğ¸Ğ· ÑĞ°Ğ¹Ñ‚Ğ°", "icon": "ğŸ”", "start": 0, "end": 20},
    {"name": "Ğ¡Ğ±Ğ¾Ñ€ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…", "icon": "ğŸ“Š", "start": 20, "end": 45},
    {"name": "Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ²", "icon": "ğŸ“„", "start": 45, "end": 85},
    {"name": "Ğ¤Ğ¸Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ", "icon": "âœ…", "start": 85, "end": 100}
]

def get_current_stage(percent: int) -> dict:
    """ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ÑĞµÑ‚ Ñ‚ĞµĞºÑƒÑ‰Ğ¸Ğ¹ ÑÑ‚Ğ°Ğ¿ Ğ¿Ğ¾ Ğ¿Ñ€Ğ¾Ñ†ĞµĞ½Ñ‚Ñƒ"""
    for stage in GENERATION_STAGES:
        if stage["start"] <= percent < stage["end"]:
            return stage
    return GENERATION_STAGES[-1]

def get_stages_visual(percent: int) -> str:
    """Ğ“ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµÑ‚ Ğ²Ğ¸Ğ·ÑƒĞ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¾Ñ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ ÑÑ‚Ğ°Ğ¿Ğ¾Ğ²"""
    lines = []
    for stage in GENERATION_STAGES:
        if percent >= stage["end"]:
            status = "âœ…"
        elif percent >= stage["start"]:
            status = "â³"
        else:
            status = "â¬œ"
        lines.append(f"{status} {stage['icon']} {stage['name']}")
    return "\n".join(lines)

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ğ¡ĞĞĞ‘Ğ©Ğ•ĞĞ˜Ğ¯ JARVIS
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

def msg_welcome() -> str:
    return f"""â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ğŸ¤– J.A.R.V.I.S. - BIMAR SYSTEM     â•‘
â•‘  Just A Rather Very Intelligent      â•‘
â•‘  Sales-assistant                     â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Ğ”Ğ¾Ğ±Ñ€Ğ¾ Ğ¿Ğ¾Ğ¶Ğ°Ğ»Ğ¾Ğ²Ğ°Ñ‚ÑŒ, ÑÑÑ€.

Ğ¯ â€” Ğ²Ğ°Ñˆ Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ˜Ğ˜-Ğ°ÑÑĞ¸ÑÑ‚ĞµĞ½Ñ‚
Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ´Ğ³Ğ¾Ñ‚Ğ¾Ğ²ĞºĞ¸ Ğ¿Ñ€ĞµÑĞµĞ¹Ğ»-Ğ¼Ğ°Ñ‚ĞµÑ€Ğ¸Ğ°Ğ»Ğ¾Ğ².

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ® Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ Ğ¼ĞµĞ½Ñ Ğ½Ğ¸Ğ¶Ğµ Ğ´Ğ»Ñ Ğ½Ğ°Ğ²Ğ¸Ğ³Ğ°Ñ†Ğ¸Ğ¸.

ğŸ’¡ Ğ”Ğ»Ñ Ğ±Ñ‹ÑÑ‚Ñ€Ğ¾Ğ³Ğ¾ ÑÑ‚Ğ°Ñ€Ñ‚Ğ° Ğ½Ğ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ
   Â«ğŸš€ ĞĞ¾Ğ²Ñ‹Ğ¹ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Â»

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ¤– JARVIS v{VERSION} | BIMAR SYSTEM
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"""

def msg_new_analysis() -> str:
    return """â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸš€ Ğ—ĞĞŸĞ£Ğ¡Ğš ĞŸĞ Ğ•Ğ¡Ğ•Ğ™Ğ›-ĞĞĞĞ›Ğ˜Ğ¢Ğ˜ĞšĞ˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ĞÑ‚Ğ¿Ñ€Ğ°Ğ²ÑŒÑ‚Ğµ URL ÑĞ°Ğ¹Ñ‚Ğ° Ñ†ĞµĞ»ĞµĞ²Ğ¾Ğ¹ ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸.

ğŸ“ ĞŸÑ€Ğ¸Ğ¼ĞµÑ€: https://company.com

ğŸ’¡ JARVIS Ğ¿Ñ€Ğ¾Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµÑ‚ ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ñ Ğ¸
   Ğ¿Ğ¾Ğ´Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ¸Ñ‚ Ğ¿Ğ¾Ğ»Ğ½Ñ‹Ğ¹ Ğ¿Ğ°ĞºĞµÑ‚ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ²

â±ï¸ Ğ’Ñ€ĞµĞ¼Ñ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸: 15-30 Ğ¼Ğ¸Ğ½ÑƒÑ‚"""

def msg_url_accepted(domain: str) -> str:
    return f"""â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ… URL ĞŸĞ Ğ˜ĞĞ¯Ğ¢                      â”‚
â”‚  {domain[:35]:<35} â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ¯ Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ñ†ĞµĞ»ÑŒ Ğ²ÑÑ‚Ñ€ĞµÑ‡Ğ¸:"""

def msg_goal_accepted(goal: str) -> str:
    return f"""â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ… Ğ¦Ğ•Ğ›Ğ¬ Ğ£Ğ¡Ğ¢ĞĞĞĞ’Ğ›Ğ•ĞĞ                â”‚
â”‚  {goal[:35]:<35} â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ”’ Ğ£ĞºĞ°Ğ¶Ğ¸Ñ‚Ğµ Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ñ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°:
   (on-prem, Ğ˜Ğ‘, ĞºĞ°Ğ¼ĞµÑ€Ğ°, Ğ±ĞµĞ· Ğ¾Ğ±Ğ»Ğ°ĞºĞ° Ğ¸ Ñ‚.Ğ´.)

Ğ˜Ğ»Ğ¸ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ÑŒÑ‚Ğµ Â«-Â» ĞµÑĞ»Ğ¸ Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ğ¹ Ğ½ĞµÑ‚."""

def msg_processing_start() -> str:
    return """â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ğŸš€ Ğ—ĞĞŸĞ£Ğ¡Ğš ĞĞĞĞ›Ğ˜Ğ—Ğ                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“Š Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ: Ğ˜ĞĞ˜Ğ¦Ğ˜ĞĞ›Ğ˜Ğ—ĞĞ¦Ğ˜Ğ¯            â”‚
â”‚ â±ï¸ Ğ’Ñ€ĞµĞ¼Ñ: 00:00                     â”‚
â”‚ ğŸ”§ Ğ­Ñ‚Ğ°Ğ¿: Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â³ ĞŸĞ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ Ğº Manus AI..."""

def msg_processing_progress(elapsed_min: int, elapsed_sec: int, stage: str, percent: int) -> str:
    progress = get_progress_bar(percent)
    return f"""â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  âš™ï¸ ĞĞĞĞ›Ğ˜Ğ— Ğ’ ĞŸĞ ĞĞ¦Ğ•Ğ¡Ğ¡Ğ•               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â±ï¸ Ğ’Ñ€ĞµĞ¼Ñ: {elapsed_min:02d}:{elapsed_sec:02d}                       â”‚
â”‚ ğŸ“Š ĞŸÑ€Ğ¾Ğ³Ñ€ĞµÑÑ: [{progress}] {percent}%       â”‚
â”‚ ğŸ”§ Ğ­Ñ‚Ğ°Ğ¿: {stage[:25]:<25} â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ’¡ ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, Ğ¿Ğ¾Ğ´Ğ¾Ğ¶Ğ´Ğ¸Ñ‚Ğµ...
   JARVIS Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµÑ‚ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ."""

def msg_processing_complete(elapsed: str, files_count: int) -> str:
    return f"""â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  âœ… ĞœĞ˜Ğ¡Ğ¡Ğ˜Ğ¯ Ğ’Ğ«ĞŸĞĞ›ĞĞ•ĞĞ                â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“Š Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ: Ğ£Ğ¡ĞŸĞ•Ğ¨ĞĞ                  â”‚
â”‚ ğŸ“ Ğ¤Ğ°Ğ¹Ğ»Ğ¾Ğ²: {files_count}                        â”‚
â”‚ â±ï¸ Ğ’Ñ€ĞµĞ¼Ñ: {elapsed:<24} â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“¦ Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ñ‹ Ğ´Ğ¾ÑÑ‚Ğ°Ğ²Ğ»ĞµĞ½Ñ‹ Ğ²Ñ‹ÑˆĞµ â¬†ï¸

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ĞœĞ¸ÑÑĞ¸Ñ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ°, ÑÑÑ€.
Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ Ğ¼ĞµĞ½Ñ Ğ´Ğ»Ñ Ğ½Ğ¾Ğ²Ğ¾Ğ³Ğ¾ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ° ğŸ‘‡
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"""

def msg_help() -> str:
    return f"""â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ğŸ“– Ğ¡ĞŸĞ ĞĞ’ĞšĞ JARVIS                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¤– Ğ Ğ¡Ğ˜Ğ¡Ğ¢Ğ•ĞœĞ•
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
JARVIS (Just A Rather Very Intelligent
Sales-assistant) â€” Ğ²Ğ°Ñˆ Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹
Ğ˜Ğ˜-Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰Ğ½Ğ¸Ğº Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ´Ğ³Ğ¾Ñ‚Ğ¾Ğ²ĞºĞ¸ Ğ¿Ñ€ĞµÑĞµĞ¹Ğ»Ğ¾Ğ².

ğŸ® Ğ“Ğ›ĞĞ’ĞĞĞ• ĞœĞ•ĞĞ®
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸš€ ĞĞ¾Ğ²Ñ‹Ğ¹ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ· â†’ Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ¿Ñ€ĞµÑĞµĞ¹Ğ»Ğ°
ğŸ“Š ĞœĞ¾Ğ¸ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸   â†’ Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²
âš™ï¸ ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸    â†’ ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ Ğ±Ğ¾Ñ‚Ğ°
ğŸ“ˆ Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ       â†’ Ğ¡Ğ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹
ğŸ“– Ğ¡Ğ¿Ñ€Ğ°Ğ²ĞºĞ°      â†’ Ğ­Ñ‚Ğ° ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ°

ğŸ“‹ ĞšĞĞš Ğ˜Ğ¡ĞŸĞĞ›Ğ¬Ğ—ĞĞ’ĞĞ¢Ğ¬
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
1ï¸âƒ£ ĞĞ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ Â«ğŸš€ ĞĞ¾Ğ²Ñ‹Ğ¹ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Â»
2ï¸âƒ£ ĞÑ‚Ğ¿Ñ€Ğ°Ğ²ÑŒÑ‚Ğµ URL ÑĞ°Ğ¹Ñ‚Ğ° ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸
3ï¸âƒ£ Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ñ†ĞµĞ»ÑŒ Ğ²ÑÑ‚Ñ€ĞµÑ‡Ğ¸
4ï¸âƒ£ Ğ”Ğ¾Ğ¶Ğ´Ğ¸Ñ‚ĞµÑÑŒ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ (15-30 Ğ¼Ğ¸Ğ½)
5ï¸âƒ£ ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚Ğµ 7 Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ²

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“¦ ĞŸĞ Ğ•Ğ¡Ğ•Ğ™Ğ›-ĞŸĞĞšĞ•Ğ¢ (7 Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ²)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“‹ 01_Ğ”Ğ¾ÑÑŒĞµ_Ğ½Ğ°_ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°.pdf
   ĞšĞ¾Ğ¼Ğ¿Ğ»ĞµĞºÑĞ½Ñ‹Ğ¹ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ· ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸:
   Ğ¾Ñ‚Ñ€Ğ°ÑĞ»ÑŒ, Ğ±Ğ¾Ğ»Ğ¸, Ğ›ĞŸĞ , Ñ‚Ğ¾Ñ‡ĞºĞ¸ Ğ²Ñ…Ğ¾Ğ´Ğ°

ğŸ—ºï¸ 02_Ğ ĞµÑˆĞµĞ½Ğ¸Ñ_BIMAR.xlsx
   ĞšĞ°Ñ€Ñ‚Ğ° use cases BIMAR Ğ´Ğ»Ñ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°
   Ñ Ğ¿Ñ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸ĞµĞ¹ Ğ¸ Ğ¾Ñ†ĞµĞ½ĞºĞ¾Ğ¹

ğŸ’° 03_Ğ­ĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸ĞºĞ°_ÑĞ´ĞµĞ»ĞºĞ¸.xlsx
   ROI-ĞºĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€: ÑĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸Ñ,
   Ğ¾ĞºÑƒĞ¿Ğ°ĞµĞ¼Ğ¾ÑÑ‚ÑŒ, Ñ„Ğ¸Ğ½Ğ°Ğ½ÑĞ¾Ğ²Ñ‹Ğ¹ ÑÑ„Ñ„ĞµĞºÑ‚

ğŸ“ 04_ĞŸĞ¸Ğ»Ğ¾Ñ‚_Ğ¢Ğ—.docx
   Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ğ¾Ğµ Ğ¢Ğ—: Ñ†ĞµĞ»Ğ¸, scope, KPI,
   ÑÑ‚Ğ°Ğ¿Ñ‹, ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ°, Ñ€Ğ¸ÑĞºĞ¸

ğŸ¯ 05_Ğ›Ğ¸Ñ†Ğ°_Ğ¿Ñ€Ğ¸Ğ½Ğ¸Ğ¼Ğ°ÑÑ‰Ğ¸Ğµ_Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ.xlsx
   Stakeholder map: Ğ›ĞŸĞ , Ğ›Ğ’Ğ ,
   Ğ²Ğ»Ğ¸ÑĞ½Ğ¸Ğµ, ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹

ğŸ“Š 06_ĞŸĞ¸Ñ‚Ñ‡_Ğ´Ğ»Ñ_ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°.pptx
   ĞŸÑ€ĞµĞ·ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ Ğ´Ğ»Ñ Ğ²ÑÑ‚Ñ€ĞµÑ‡Ğ¸:
   Ğ±Ğ¾Ğ»Ğ¸ â†’ Ñ€ĞµÑˆĞµĞ½Ğ¸Ğµ â†’ ROI â†’ Ğ¿Ğ¸Ğ»Ğ¾Ñ‚

ğŸ“š 07_Ğ’ĞµÑ€Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ.md
   Ğ’ÑĞµ Ğ¸ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¸ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ğ¸
   Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ’¡ Ğ¡ĞĞ’Ğ•Ğ¢Ğ«
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
â€¢ Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ Ğ³Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ ÑĞ°Ğ¹Ñ‚ ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸
â€¢ Ğ§ĞµĞ¼ Ñ‚Ğ¾Ñ‡Ğ½ĞµĞµ URL, Ñ‚ĞµĞ¼ Ğ»ÑƒÑ‡ÑˆĞµ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·
â€¢ Ğ£ĞºĞ°Ğ¶Ğ¸Ñ‚Ğµ Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ñ Ğ´Ğ»Ñ Ñ‚Ğ¾Ñ‡Ğ½Ğ¾Ğ³Ğ¾ ROI
â€¢ Quick Mode ÑĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸Ñ‚ Ğ²Ñ€ĞµĞ¼Ñ

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ¤– JARVIS v{VERSION} | BIMAR SYSTEM
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"""

def msg_status(user_id: int) -> str:
    settings = get_user_settings(user_id)
    uptime = get_uptime()
    quick_mode = "âœ… Ğ’ĞšĞ›" if settings.get("quick_mode") else "âŒ Ğ’Ğ«ĞšĞ›"
    notifications = "âœ… Ğ’ĞšĞ›" if settings.get("notifications", True) else "âŒ Ğ’Ğ«ĞšĞ›"
    now = datetime.now().strftime("%d.%m.%Y %H:%M:%S")
    
    return f"""â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ğŸ“ˆ Ğ¡Ğ¢ĞĞ¢Ğ£Ğ¡ Ğ¡Ğ˜Ğ¡Ğ¢Ğ•ĞœĞ« JARVIS           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ• Ğ’Ñ€ĞµĞ¼Ñ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°: {now}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ¤– Ğ¯Ğ”Ğ Ğ JARVIS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ:      ğŸŸ¢ ĞĞĞ›ĞĞ™Ğ              â”‚
â”‚ Ğ’ĞµÑ€ÑĞ¸Ñ:      v{VERSION}                   â”‚
â”‚ ĞĞ¿Ñ‚Ğ°Ğ¹Ğ¼:      {uptime:<20} â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ”Œ MANUS API
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ:      ğŸŸ¢ ĞŸĞĞ”ĞšĞ›Ğ®Ğ§Ğ•ĞĞ          â”‚
â”‚ Endpoint:    api.manus.ai           â”‚
â”‚ Project ID:  {MANUS_PROJECT_ID[:20]:<20} â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“¡ TELEGRAM API
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ:      ğŸŸ¢ ĞĞšĞ¢Ğ˜Ğ’Ğ•Ğ             â”‚
â”‚ Username:    @bimar_presale_bot     â”‚
â”‚ Polling:     âœ… Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“Š Ğ¡Ğ¢ĞĞ¢Ğ˜Ğ¡Ğ¢Ğ˜ĞšĞ Ğ¡Ğ•Ğ¡Ğ¡Ğ˜Ğ˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“¥ Ğ—Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² ÑĞµĞ³Ğ¾Ğ´Ğ½Ñ:     {stats['requests_today']:<10} â”‚
â”‚ âœ… Ğ£ÑĞ¿ĞµÑˆĞ½Ñ‹Ñ… Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ¾Ğ²:    {stats['successful']:<10} â”‚
â”‚ âŒ ĞÑˆĞ¸Ğ±Ğ¾Ğº:               {stats['errors']:<10} â”‚
â”‚ ğŸ“ Ğ¤Ğ°Ğ¹Ğ»Ğ¾Ğ² Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¾:    {stats['files_sent']:<10} â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âš™ï¸ Ğ’ĞĞ¨Ğ ĞšĞĞĞ¤Ğ˜Ğ“Ğ£Ğ ĞĞ¦Ğ˜Ğ¯
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš¡ Quick Mode:      {quick_mode:<15} â”‚
â”‚ ğŸ”” Ğ£Ğ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ:    {notifications:<15} â”‚
â”‚ ğŸŒ Ğ¯Ğ·Ñ‹Ğº:           ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸŸ¢ Ğ’ÑĞµ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ÑÑ‚ ÑˆÑ‚Ğ°Ñ‚Ğ½Ğ¾     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ¤– JARVIS v{VERSION} | BIMAR SYSTEM
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"""

def msg_my_tasks(user_id: int) -> str:
    tasks = get_completed_tasks(user_id)
    
    if not tasks:
        return f"""â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ğŸ“Š ĞœĞĞ˜ Ğ—ĞĞ”ĞĞ§Ğ˜                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                     â”‚
â”‚         ğŸ“­ Ğ˜Ğ¡Ğ¢ĞĞ Ğ˜Ğ¯ ĞŸĞ£Ğ¡Ğ¢Ğ            â”‚
â”‚                                     â”‚
â”‚   Ğ£ Ğ²Ğ°Ñ Ğ¿Ğ¾ĞºĞ° Ğ½ĞµÑ‚ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ½Ñ‹Ñ…        â”‚
â”‚   Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ¾Ğ².                         â”‚
â”‚                                     â”‚
â”‚   ĞĞ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ Â«ğŸš€ ĞĞ¾Ğ²Ñ‹Ğ¹ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Â»         â”‚
â”‚   Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ½Ğ°Ñ‡Ğ°Ñ‚ÑŒ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñƒ Ñ JARVIS      â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ’¡ ĞŸĞĞ”Ğ¡ĞšĞĞ—ĞšĞ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Ğ”Ğ»Ñ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ° Ğ¿ĞµÑ€Ğ²Ğ¾Ğ³Ğ¾ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°:
1. ĞĞ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ Â«ğŸš€ ĞĞ¾Ğ²Ñ‹Ğ¹ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Â»
2. ĞÑ‚Ğ¿Ñ€Ğ°Ğ²ÑŒÑ‚Ğµ URL ÑĞ°Ğ¹Ñ‚Ğ° ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸
3. Ğ¡Ğ»ĞµĞ´ÑƒĞ¹Ñ‚Ğµ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸ÑĞ¼ JARVIS

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ¤– JARVIS v{VERSION} | BIMAR SYSTEM
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"""
    
    task_lines = []
    for i, task in enumerate(tasks[:5], 1):
        domain = task.get("domain", "unknown")[:20]
        goal = task.get("goal", "")[:15]
        date = task.get("date", "")
        files_count = len(task.get("files", []))
        task_lines.append(f"""â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ #{i} âœ… Ğ—ĞĞ’Ğ•Ğ Ğ¨Ğ•ĞĞ                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ¢ {domain:<32} â”‚
â”‚ ğŸ¯ {goal:<32} â”‚
â”‚ ğŸ“… {date:<32} â”‚
â”‚ ğŸ“ Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ²: {files_count:<20} â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜""")
    
    tasks_text = "\n\n".join(task_lines)
    
    return f"""â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ğŸ“Š ĞœĞĞ˜ Ğ—ĞĞ”ĞĞ§Ğ˜                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ—‚ï¸ Ğ—Ğ°Ğ²ĞµÑ€ÑˆÑ‘Ğ½Ğ½Ñ‹Ğµ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ñ‹ (Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğµ 5):
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

{tasks_text}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ’¡ Ğ”Ğ»Ñ Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€Ğ½Ğ¾Ğ¹ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ²
   Ğ½Ğ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ ĞºĞ½Ğ¾Ğ¿ĞºÑƒ Ñ Ğ½Ğ¾Ğ¼ĞµÑ€Ğ¾Ğ¼ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸.

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ¤– JARVIS v{VERSION} | BIMAR SYSTEM
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"""

def msg_settings(user_id: int) -> str:
    settings = get_user_settings(user_id)
    quick_mode = "âœ… Ğ’ĞšĞ›" if settings.get("quick_mode") else "âŒ Ğ’Ğ«ĞšĞ›"
    notifications = "âœ… Ğ’ĞšĞ›" if settings.get("notifications", True) else "âŒ Ğ’Ğ«ĞšĞ›"
    default_goal = settings.get("default_goal") or "ĞĞµ Ğ·Ğ°Ğ´Ğ°Ğ½Ğ°"
    
    return f"""â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  âš™ï¸ ĞĞĞ¡Ğ¢Ğ ĞĞ™ĞšĞ˜ JARVIS                â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ĞŸĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ°Ñ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹.
Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€ Ğ´Ğ»Ñ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ.

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš¡ QUICK MODE                       â”‚
â”‚ Ğ¢ĞµĞºÑƒÑ‰Ğ¸Ğ¹ ÑÑ‚Ğ°Ñ‚ÑƒÑ: {quick_mode:<18} â”‚
â”‚                                     â”‚
â”‚ ĞŸÑ€Ğ¾Ğ¿ÑƒÑĞº Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² Ğ¾ Ñ†ĞµĞ»Ğ¸ Ğ²ÑÑ‚Ñ€ĞµÑ‡Ğ¸     â”‚
â”‚ Ğ¸ Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸ÑÑ… ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”” Ğ£Ğ’Ğ•Ğ”ĞĞœĞ›Ğ•ĞĞ˜Ğ¯                      â”‚
â”‚ Ğ¢ĞµĞºÑƒÑ‰Ğ¸Ğ¹ ÑÑ‚Ğ°Ñ‚ÑƒÑ: {notifications:<18} â”‚
â”‚                                     â”‚
â”‚ ĞĞ¿Ğ¾Ğ²ĞµÑ‰ĞµĞ½Ğ¸Ñ Ğ¾ ÑÑ‚Ğ°Ñ‚ÑƒÑĞµ Ğ·Ğ°Ğ´Ğ°Ñ‡          â”‚
â”‚ Ğ¸ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¸Ğ¸ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸŒ Ğ¯Ğ—Ğ«Ğš Ğ˜ĞĞ¢Ğ•Ğ Ğ¤Ğ•Ğ™Ğ¡Ğ                  â”‚
â”‚ Ğ¢ĞµĞºÑƒÑ‰Ğ¸Ğ¹: ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¯ Ğ¦Ğ•Ğ›Ğ¬ ĞŸĞ Ğ£ĞœĞĞ›Ğ§ĞĞĞ˜Ğ®                â”‚
â”‚ Ğ¢ĞµĞºÑƒÑ‰Ğ°Ñ: {default_goal:<26} â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ¤– JARVIS v{VERSION} | BIMAR SYSTEM
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"""

# ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ñ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ² Ğ´Ğ»Ñ Ğ³Ğ¸Ğ±Ñ€Ğ¸Ğ´Ğ½Ğ¾Ğ¹ Ğ²Ñ‹Ğ´Ğ°Ñ‡Ğ¸
DOCUMENT_INFO = {
    "01_Ğ”Ğ¾ÑÑŒĞµ_Ğ½Ğ°_ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°": {
        "icon": "ğŸ“‹",
        "title": "Ğ”Ğ¾ÑÑŒĞµ Ğ½Ğ° ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°",
        "hint": "ğŸ’¡ Ğ˜Ğ·ÑƒÑ‡Ğ¸Ñ‚Ğµ Ğ¿ĞµÑ€ĞµĞ´ Ğ²ÑÑ‚Ñ€ĞµÑ‡ĞµĞ¹",
        "metrics": ["ğŸ¢ ĞŸÑ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸", "ğŸ¯ Ğ¢Ğ¾Ñ‡ĞºĞ¸ Ğ²Ñ…Ğ¾Ğ´Ğ°", "ğŸ‘¤ Ğ›ĞŸĞ  Ğ²Ñ‹ÑĞ²Ğ»ĞµĞ½Ñ‹", "âš ï¸ ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ğ±Ğ¾Ğ»Ğ¸"]
    },
    "02_Ğ ĞµÑˆĞµĞ½Ğ¸Ñ_BIMAR": {
        "icon": "ğŸ—ºï¸",
        "title": "Ğ ĞµÑˆĞµĞ½Ğ¸Ñ BIMAR",
        "hint": "ğŸ’¡ Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ Ğ½Ğ° Ğ²ÑÑ‚Ñ€ĞµÑ‡Ğµ",
        "metrics": ["ğŸ“Š Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¸ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ", "â­ ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚Ğ½Ñ‹Ğµ", "ğŸš€ Quick wins"]
    },
    "03_Ğ­ĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸ĞºĞ°_ÑĞ´ĞµĞ»ĞºĞ¸": {
        "icon": "ğŸ’°",
        "title": "Ğ­ĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸ĞºĞ° ÑĞ´ĞµĞ»ĞºĞ¸",
        "hint": "ğŸ’¡ ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ñ†Ğ¸Ñ„Ñ€Ñ‹ Ğ´Ğ»Ñ Ğ¿ĞµÑ€ĞµĞ³Ğ¾Ğ²Ğ¾Ñ€Ğ¾Ğ²",
        "metrics": ["ğŸ’µ Ğ­ĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸Ñ", "â±ï¸ ĞĞºÑƒĞ¿Ğ°ĞµĞ¼Ğ¾ÑÑ‚ÑŒ", "ğŸ“ˆ ROI"]
    },
    "04_ĞŸĞ¸Ğ»Ğ¾Ñ‚_Ğ¢Ğ—": {
        "icon": "ğŸ“",
        "title": "ĞŸĞ¸Ğ»Ğ¾Ñ‚ Ğ¢Ğ—",
        "hint": "ğŸ’¡ Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ğ¾ Ğº ÑĞ¾Ğ³Ğ»Ğ°ÑĞ¾Ğ²Ğ°Ğ½Ğ¸Ñ",
        "metrics": ["ğŸ¯ Ğ¦ĞµĞ»Ğ¸ Ğ¿Ğ¸Ğ»Ğ¾Ñ‚Ğ°", "ğŸ“… Ğ”Ğ»Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ", "âœ… KPI"]
    },
    "05_Ğ›Ğ¸Ñ†Ğ°_Ğ¿Ñ€Ğ¸Ğ½Ğ¸Ğ¼Ğ°ÑÑ‰Ğ¸Ğµ_Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ": {
        "icon": "ğŸ¯",
        "title": "Ğ›Ğ¸Ñ†Ğ° Ğ¿Ñ€Ğ¸Ğ½Ğ¸Ğ¼Ğ°ÑÑ‰Ğ¸Ğµ Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ",
        "hint": "ğŸ’¡ Ğ¡Ñ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸",
        "metrics": ["ğŸ‘¤ Ğ¡Ñ‚ĞµĞ¹ĞºÑ…Ğ¾Ğ»Ğ´ĞµÑ€Ñ‹", "âœ… Ğ›ĞŸĞ ", "âš ï¸ Ğ‘Ğ»Ğ¾ĞºĞµÑ€Ñ‹"]
    },
    "06_ĞŸĞ¸Ñ‚Ñ‡_Ğ´Ğ»Ñ_ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°": {
        "icon": "ğŸ“Š",
        "title": "ĞŸĞ¸Ñ‚Ñ‡ Ğ´Ğ»Ñ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°",
        "hint": "ğŸ’¡ ĞŸÑ€ĞµĞ·ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ Ğ´Ğ»Ñ Ğ²ÑÑ‚Ñ€ĞµÑ‡Ğ¸",
        "metrics": ["ğŸ“‘ Ğ¡Ğ»Ğ°Ğ¹Ğ´Ğ¾Ğ²: 10", "â±ï¸ Ğ’Ñ€ĞµĞ¼Ñ: ~10 Ğ¼Ğ¸Ğ½", "ğŸ¯ Ğ­ĞºÑĞ¿Ñ€ĞµÑÑ-Ğ¿Ğ¸Ñ‚Ñ‡"]
    },
    "07_Ğ’ĞµÑ€Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ": {
        "icon": "ğŸ“š",
        "title": "Ğ’ĞµÑ€Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ",
        "hint": "ğŸ’¡ Ğ”Ğ»Ñ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…",
        "metrics": ["ğŸ”— Ğ˜ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¸", "ğŸ“… Ğ”Ğ°Ñ‚Ğ° ÑĞ±Ğ¾Ñ€Ğ°", "âœ… ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞµĞ½Ğ¾"]
    }
}

def get_document_key(filename: str) -> str:
    """Ğ˜Ğ·Ğ²Ğ»ĞµĞºĞ°ĞµÑ‚ ĞºĞ»ÑÑ‡ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ° Ğ¸Ğ· Ğ¸Ğ¼ĞµĞ½Ğ¸ Ñ„Ğ°Ğ¹Ğ»Ğ°"""
    for key in DOCUMENT_INFO.keys():
        if key in filename:
            return key
    return None

def msg_file_caption(filename: str) -> str:
    """Ğ“ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµÑ‚ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ´Ğ»Ñ Ñ„Ğ°Ğ¹Ğ»Ğ° Ğ² ÑÑ‚Ğ¸Ğ»Ğµ JARVIS"""
    key = get_document_key(filename)
    if not key:
        return f"ğŸ“ {filename}"
    
    info = DOCUMENT_INFO[key]
    metrics_text = "\n".join([f"â”‚ {m:<33} â”‚" for m in info["metrics"]])
    
    return f"""{info['icon']} {info['title']}

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
{metrics_text}
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

{info['hint']}"""

def msg_delivery_summary(domain: str, files_count: int, elapsed: str) -> str:
    """Ğ“ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµÑ‚ ĞºĞ¾Ğ¼Ğ¿Ğ°ĞºÑ‚Ğ½Ğ¾Ğµ ÑĞ°Ğ¼Ğ¼Ğ°Ñ€Ğ¸ Ğ¿ĞµÑ€ĞµĞ´ Ğ²Ñ‹Ğ´Ğ°Ñ‡ĞµĞ¹ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²"""
    return f"""â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ğŸ“¦ ĞŸĞ Ğ•Ğ¡Ğ•Ğ™Ğ›-ĞŸĞĞšĞ•Ğ¢ Ğ“ĞĞ¢ĞĞ’             â•‘
â•‘  {domain[:35]:<35} â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Ğ¡ÑÑ€, Ğ¼Ğ¸ÑÑĞ¸Ñ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ°.
Ğ”Ğ¾ÑÑ‚Ğ°Ğ²Ğ»ÑÑ {files_count} Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ²...

â”Œâ”€ ĞšĞ›Ğ®Ğ§Ğ•Ğ’Ğ«Ğ• ĞœĞ•Ğ¢Ğ Ğ˜ĞšĞ˜ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                     â”‚
â”‚  ğŸ“ Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ²:    {files_count:<16} â”‚
â”‚  â±ï¸ Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ:     {elapsed:<16} â”‚
â”‚  ğŸ¯ ĞšĞ»Ğ¸ĞµĞ½Ñ‚:        ĞŸÑ€Ğ¾Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½  â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"""

def msg_delivery_complete(domain: str, files_count: int, elapsed: str) -> str:
    """Ğ“ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµÑ‚ Ñ„Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾ÑĞ»Ğµ Ğ²Ñ‹Ğ´Ğ°Ñ‡Ğ¸ Ğ²ÑĞµÑ… Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²"""
    return f"""â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  âœ… Ğ”ĞĞ¡Ğ¢ĞĞ’ĞšĞ Ğ—ĞĞ’Ğ•Ğ Ğ¨Ğ•ĞĞ              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ²: {files_count:<20} â”‚
â”‚ â±ï¸ Ğ’Ñ€ĞµĞ¼Ñ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸: {elapsed:<14} â”‚
â”‚ ğŸ¯ ĞšĞ»Ğ¸ĞµĞ½Ñ‚: {domain[:24]:<24} â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Ğ£Ğ´Ğ°Ñ‡Ğ¸ Ğ½Ğ° Ğ²ÑÑ‚Ñ€ĞµÑ‡Ğµ, ÑÑÑ€.
ğŸ¤– JARVIS v{VERSION} | BIMAR SYSTEM
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"""

def msg_error(error_text: str) -> str:
    return f"""â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  âŒ ĞĞ¨Ğ˜Ğ‘ĞšĞ                          â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ {error_text[:35]:<35} â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ĞŸĞ¾Ğ¿Ñ€Ğ¾Ğ±ÑƒĞ¹Ñ‚Ğµ ÑĞ½Ğ¾Ğ²Ğ° Ğ¸Ğ»Ğ¸ Ğ¾Ğ±Ñ€Ğ°Ñ‚Ğ¸Ñ‚ĞµÑÑŒ
Ğ² Ñ‚ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºÑƒÑ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºÑƒ BIMAR.

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"""

def msg_access_denied() -> str:
    return """â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ğŸ”’ Ğ”ĞĞ¡Ğ¢Ğ£ĞŸ Ğ—ĞĞŸĞ Ğ•Ğ©Ğ•Ğ                 â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ğ£ Ğ²Ğ°Ñ Ğ½ĞµÑ‚ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ° Ğº ÑÑ‚Ğ¾Ğ¹ ÑĞ¸ÑÑ‚ĞµĞ¼Ğµ.   â”‚
â”‚                                     â”‚
â”‚ ĞĞ±Ñ€Ğ°Ñ‚Ğ¸Ñ‚ĞµÑÑŒ Ğº Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€Ñƒ BIMAR   â”‚
â”‚ Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ñ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ°.              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"""

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# MANUS API
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ĞŸĞ ĞĞœĞŸĞ¢ 1: Ğ­Ğ¢ĞĞŸ 1 â€” ĞĞĞĞ›Ğ˜Ğ— Ğ˜ Ğ”ĞĞ¡Ğ¬Ğ• (Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ 1 Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

async def create_manus_task_stage1(url: str, goal: str, constraints: str) -> Optional[str]:
    """Ğ­Ñ‚Ğ°Ğ¿ 1: Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‘Ñ‚ Ğ·Ğ°Ğ´Ğ°Ñ‡Ñƒ Ğ´Ğ»Ñ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ° ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸ Ğ¸ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ Ğ¢ĞĞ›Ğ¬ĞšĞ Ğ´Ğ¾ÑÑŒĞµ"""
    
    prompt = get_document_prompt("dossier", url, goal, constraints)
    if not prompt:
        prompt = f"""â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
JARVIS v3.0 â€” Ğ­Ğ¢ĞĞŸ 1: ĞĞĞĞ›Ğ˜Ğ— ĞšĞĞœĞŸĞĞĞ˜Ğ˜ Ğ˜ Ğ¡ĞĞ—Ğ”ĞĞĞ˜Ğ• Ğ”ĞĞ¡Ğ¬Ğ•
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Ğ ĞĞ›Ğ¬ Ğ˜ Ğ¦Ğ•Ğ›Ğ¬
Ğ¢Ñ‹ â€” Ğ¸ÑÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ-Ğ°Ğ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸Ğº Ğ´Ğ»Ñ ĞšĞ¾Ğ¼Ğ¼ĞµÑ€Ñ‡ĞµÑĞºĞ¾Ğ³Ğ¾ Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ° BimAR System.
Ğ¢Ğ²Ğ¾Ñ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ°: Ğ¿Ñ€Ğ¾Ğ²ĞµÑÑ‚Ğ¸ Ğ³Ğ»ÑƒĞ±Ğ¾ĞºĞ¸Ğ¹ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ· ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸-ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ° Ğ¸ ÑĞ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ "deal-ready" Ğ´Ğ¾ÑÑŒĞµ,
Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ¿Ğ¾Ğ½ÑÑ‚ÑŒ Ğ±Ğ¸Ğ·Ğ½ĞµÑ, Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑÑ‹ Ğ¸ Ğ¿Ğ¾Ñ‚ĞµĞ½Ñ†Ğ¸Ğ°Ğ» Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ Ñ€ĞµÑˆĞµĞ½Ğ¸Ğ¹ BimAR.

Ğ’Ğ¥ĞĞ”ĞĞ«Ğ• Ğ”ĞĞĞĞ«Ğ•
- URL ÑĞ°Ğ¹Ñ‚Ğ°: {url}
- Ğ¦ĞµĞ»ÑŒ Ğ²ÑÑ‚Ñ€ĞµÑ‡Ğ¸: {goal}
- ĞĞ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ñ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°: {constraints}

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Ğ‘ĞĞ—Ğ Ğ—ĞĞĞĞ˜Ğ™ BIMAR (Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹ Ğ´Ğ»Ñ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ° Ğ¿Ğ¾Ñ‚ĞµĞ½Ñ†Ğ¸Ğ°Ğ»Ğ°)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Ğ’ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğµ BIMAR SYSTEM Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶ĞµĞ½Ñ‹ Ñ„Ğ°Ğ¹Ğ»Ñ‹ Ñ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸ĞµĞ¹ Ğ¾ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ°Ñ… Ğ¸ Ñ€ĞµÑˆĞµĞ½Ğ¸ÑÑ…:
- BIMAR_SYSTEM_Ğ•Ğ´Ğ¸Ğ½Ğ°Ñ_Ğ±Ğ°Ğ·Ğ°_Ğ·Ğ½Ğ°Ğ½Ğ¸Ğ¹ â€” Ğ¿Ğ¾Ğ»Ğ½Ğ¾Ğµ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ¼Ğ¾Ğ´ÑƒĞ»ĞµĞ¹ Ğ¸ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚ĞµĞ¹
- BIMAR_ĞœĞ¾Ğ´ÑƒĞ»ÑŒĞ½Ğ°Ñ_ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°_Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ¶ â€” ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ¾Ğ² Ğ´Ğ»Ñ Ñ€Ğ°Ğ·Ğ½Ñ‹Ñ… Ğ¾Ñ‚Ñ€Ğ°ÑĞ»ĞµĞ¹
- BIMAR-Ğ›Ğ¾Ğ³Ğ¸ÑÑ‚Ğ¸ĞºĞ°_Ğ¡ĞºĞ»Ğ°Ğ´_ĞŸĞ¾Ñ€Ñ‚_Ğ¡Ğ˜Ğ— â€” Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ Ğ´Ğ»Ñ Ğ»Ğ¾Ğ³Ğ¸ÑÑ‚Ğ¸ĞºĞ¸ Ğ¸ ÑĞºĞ»Ğ°Ğ´Ğ¾Ğ²
- BIMAR-Ğ Ğ¤ â€” Ğ¾Ğ±Ñ‰Ğ°Ñ Ğ¿Ñ€ĞµĞ·ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸
- Ğ ÑƒĞºĞ¾Ğ²Ğ¾Ğ´ÑÑ‚Ğ²Ğ° Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ â€” Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ» Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğ¹

Ğ˜Ğ¡ĞŸĞĞ›Ğ¬Ğ—Ğ£Ğ™ ÑÑ‚Ğ¸ Ñ„Ğ°Ğ¹Ğ»Ñ‹ Ğ´Ğ»Ñ:
- ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ñ Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´ÑÑ‰Ğ¸Ñ… Ğ¼Ğ¾Ğ´ÑƒĞ»ĞµĞ¹ BimAR Ğ´Ğ»Ñ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°
- Ğ¤Ğ¾Ñ€Ğ¼Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ³Ğ¸Ğ¿Ğ¾Ñ‚ĞµĞ· Ğ¾ Ğ¿Ñ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¸
- ĞÑ†ĞµĞ½ĞºĞ¸ Ğ¿Ğ¾Ñ‚ĞµĞ½Ñ†Ğ¸Ğ°Ğ»Ğ° ÑĞ´ĞµĞ»ĞºĞ¸

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ĞĞ¡ĞĞĞ’ĞĞĞ™ ĞŸĞ Ğ˜ĞĞ¦Ğ˜ĞŸ
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Ğ¤Ğ¾ĞºÑƒÑ Ğ½Ğ° Ñ‚Ğ¾Ğ¼, Ñ‡Ñ‚Ğ¾ Ğ¿Ğ¾Ğ¼Ğ¾Ğ³Ğ°ĞµÑ‚ Ğ·Ğ°ĞºÑ€Ñ‹Ñ‚ÑŒ ÑĞ´ĞµĞ»ĞºÑƒ: Ğ±Ğ¾Ğ»Ğ¸, Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑÑ‹, Ğ›ĞŸĞ , Ğ¿Ğ¾Ñ‚ĞµĞ½Ñ†Ğ¸Ğ°Ğ» Ğ´Ğ»Ñ Ğ¿Ğ¸Ğ»Ğ¾Ñ‚Ğ°.
ĞĞµ Ğ¿Ğ¸ÑˆĞ¸ Â«ÑĞ½Ñ†Ğ¸ĞºĞ»Ğ¾Ğ¿ĞµĞ´Ğ¸ÑÂ» â€” Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ñ„Ğ°ĞºÑ‚Ñ‹, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ Ğ¿Ñ€Ğ¸Ğ±Ğ»Ğ¸Ğ¶Ğ°ÑÑ‚ Ğº Ğ¿Ğ¸Ğ»Ğ¾Ñ‚Ñƒ Ğ¸ Ğ¢ĞšĞŸ.

Ğ˜Ğ¡Ğ¢ĞĞ§ĞĞ˜ĞšĞ˜ (Ğ¾Ğ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ Ñ†Ğ¸Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ñ Ğ´Ğ°Ñ‚Ğ¾Ğ¹ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ°)
1) ĞÑ„Ğ¸Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ÑĞ°Ğ¹Ñ‚ ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸ (Ğ¾ ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸, ĞºĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ñ‹, Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ñ‹, ÑƒÑĞ»ÑƒĞ³Ğ¸, Ğ½Ğ¾Ğ²Ğ¾ÑÑ‚Ğ¸, Ğ²Ğ°ĞºĞ°Ğ½ÑĞ¸Ğ¸)
2) Ğ—Ğ°ĞºÑƒĞ¿ĞºĞ¸/Ñ‚ĞµĞ½Ğ´ĞµÑ€Ñ‹: zakupki.gov.ru, ĞºĞ¾Ğ¼Ğ¼ĞµÑ€Ñ‡ĞµÑĞºĞ¸Ğµ Ğ¿Ğ»Ğ¾Ñ‰Ğ°Ğ´ĞºĞ¸
3) ĞÑ‚Ñ‡Ñ‘Ñ‚Ğ½Ğ¾ÑÑ‚ÑŒ/Ñ€ĞµĞµÑÑ‚Ñ€Ñ‹: Ğ¦Ğ‘/Ğ¤ĞĞ¡/Ğ•Ğ“Ğ Ğ®Ğ›, Ğ³Ğ¾Ğ´Ğ¾Ğ²Ñ‹Ğµ Ğ¾Ñ‚Ñ‡Ñ‘Ñ‚Ñ‹
4) ĞšĞ¾ÑĞ²ĞµĞ½Ğ½Ñ‹Ğµ Ğ¸ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¸: Ğ²Ğ°ĞºĞ°Ğ½ÑĞ¸Ğ¸ (Ğ´Ğ»Ñ Ğ˜Ğ¢-Ğ»Ğ°Ğ½Ğ´ÑˆĞ°Ñ„Ñ‚Ğ°), Ñ‚ĞµÑ…ÑÑ‚Ğ°Ñ‚ÑŒĞ¸, Ğ¿Ñ€ĞµĞ·ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ğ¸

Ğ›ÑĞ±Ğ¾Ğµ Ñ„Ğ°ĞºÑ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ ÑƒÑ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ â€” ÑĞ¾ ÑÑÑ‹Ğ»ĞºĞ¾Ğ¹.
Ğ•ÑĞ»Ğ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ½ĞµÑ‚ â€” ÑĞ²Ğ½Ğ¾ Ğ¿Ğ¾Ğ¼ĞµÑ‚ÑŒ ĞºĞ°Ğº "Ğ“Ğ˜ĞŸĞĞ¢Ğ•Ğ—Ğ".

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Ğ¡Ğ¢Ğ Ğ£ĞšĞ¢Ğ£Ğ Ğ Ğ”ĞĞ¡Ğ¬Ğ• (01_Ğ”Ğ¾ÑÑŒĞµ_Ğ½Ğ°_ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°.docx)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1) EXECUTIVE SUMMARY (0.5 ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹)
   - ĞšÑ‚Ğ¾ ĞºĞ»Ğ¸ĞµĞ½Ñ‚: Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ, Ğ¾Ñ‚Ñ€Ğ°ÑĞ»ÑŒ, Ğ³ĞµĞ¾Ğ³Ñ€Ğ°Ñ„Ğ¸Ñ, Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ± (ÑĞ¾Ñ‚Ñ€ÑƒĞ´Ğ½Ğ¸ĞºĞ¸/Ğ¾Ğ±Ğ¾Ñ€Ğ¾Ñ‚Ñ‹)
   - Ğ§Ñ‚Ğ¾ Ğ´ĞµĞ»Ğ°ĞµÑ‚: Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹ Ğ±Ğ¸Ğ·Ğ½ĞµÑ, Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ñ‹/ÑƒÑĞ»ÑƒĞ³Ğ¸
   - ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ Ğ¸Ğ½Ñ‚ĞµÑ€ĞµÑĞµĞ½ Ğ´Ğ»Ñ BimAR: 2-3 ĞºĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ğ±Ğ¾Ğ»Ğ¸ (Ñ Ğ¸ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ°Ğ¼Ğ¸)
   - ĞŸĞ¾Ñ‚ĞµĞ½Ñ†Ğ¸Ğ°Ğ» ÑĞ´ĞµĞ»ĞºĞ¸: Ğ¾Ñ†ĞµĞ½ĞºĞ° (High/Med/Low) + ĞºÑ€Ğ°Ñ‚ĞºĞ¾Ğµ Ğ¾Ğ±Ğ¾ÑĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

2) ĞŸĞĞ Ğ¢Ğ Ğ•Ğ¢ ĞšĞĞœĞŸĞĞĞ˜Ğ˜ (0.5 ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹)
   - ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ğ¿Ğ»Ğ¾Ñ‰Ğ°Ğ´ĞºĞ¸/Ñ„Ğ¸Ğ»Ğ¸Ğ°Ğ»Ñ‹
   - ĞšĞ°Ñ€Ñ‚Ğ° Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑĞ¾Ğ²: Ğ³Ğ´Ğµ Ñ„Ğ¸Ğ·Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ°ĞºÑ‚Ğ¸Ğ²Ñ‹ (ÑĞºĞ»Ğ°Ğ´/Ñ†ĞµÑ…/ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ°/ÑĞºÑĞ¿Ğ»ÑƒĞ°Ñ‚Ğ°Ñ†Ğ¸Ñ)
   - Ğ˜Ğ¢-Ğ»Ğ°Ğ½Ğ´ÑˆĞ°Ñ„Ñ‚ (Ğ³Ğ¸Ğ¿Ğ¾Ñ‚ĞµĞ·Ñ‹): ERP/1C, WMS, CMMS/EAM, MES, GIS/BIM

3) Ğ˜ĞĞ’Ğ•ĞĞ¢ĞĞ Ğ¬ ĞĞšĞ¢Ğ˜Ğ’ĞĞ’ Ğ˜ Ğ‘ĞĞ›Ğ•Ğ™ (0.5 ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹)
   Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ°ĞºÑ‚Ğ¸Ğ²Ğ¾Ğ² Ğ¿Ğ¾ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸ÑĞ¼ (3-5 Ñ€ĞµĞ»ĞµĞ²Ğ°Ğ½Ñ‚Ğ½Ñ‹Ñ…):
   - Ğ¡ĞºĞ»Ğ°Ğ´Ñ‹/Ğ—Ğ˜ĞŸ/Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚
   - ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´ÑÑ‚Ğ²Ğ¾/Ñ€ĞµĞ¼Ğ¾Ğ½Ñ‚/Ñ†ĞµÑ…Ğ°
   - Ğ¡Ñ‚Ñ€Ğ¾Ğ¹ĞºĞ°/ĞºĞ°Ğ¿ÑÑ‚Ñ€Ğ¾Ğ¹
   - ĞŸĞ¾Ğ»ĞµĞ²Ğ°Ñ ÑĞºÑĞ¿Ğ»ÑƒĞ°Ñ‚Ğ°Ñ†Ğ¸Ñ/Ğ±Ñ€Ğ¸Ğ³Ğ°Ğ´Ñ‹
   
   Ğ”Ğ»Ñ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ¹ Ğ±Ğ¾Ğ»Ğ¸: "ĞºĞ°Ğº ÑĞµĞ¹Ñ‡Ğ°Ñ", "Ğ¿Ğ¾Ñ‡ĞµĞ¼Ñƒ Ğ¿Ğ»Ğ¾Ñ…Ğ¾", "ĞºĞ°Ğº Ğ¸Ğ·Ğ¼ĞµÑ€Ğ¸Ñ‚ÑŒ"

4) ĞŸĞĞ¢Ğ•ĞĞ¦Ğ˜ĞĞ› Ğ”Ğ›Ğ¯ BimAR (0.5 ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹)
   - Ğ¢Ğ¾Ğ¿-3 ĞºĞµĞ¹ÑĞ° Ğ¿Ñ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ BimAR (Ğ½Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ğµ Ğ±Ğ°Ğ·Ñ‹ Ğ·Ğ½Ğ°Ğ½Ğ¸Ğ¹ BIMAR)
   - ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ ÑÑ‚Ğ¾ Ğ´ĞµĞ½ÑŒĞ³Ğ¸: ĞºĞ°ĞºĞ°Ñ Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ° ÑÑ‚Ñ€Ğ°Ğ´Ğ°ĞµÑ‚
   - Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµĞ¼Ğ°Ñ Ğ·Ğ¾Ğ½Ğ° Ğ´Ğ»Ñ Ğ¿Ğ¸Ğ»Ğ¾Ñ‚Ğ° â„–1 (90 Ğ´Ğ½ĞµĞ¹)

5) NEXT STEPS (0.25 ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹)
   - ĞšĞ°ĞºĞ¸Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¸Ñ‚ÑŒ Ñƒ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°
   - ĞšĞ¾Ğ³Ğ¾ Ğ²ÑÑ‚Ñ€ĞµÑ‚Ğ¸Ñ‚ÑŒ (Ğ³Ğ¸Ğ¿Ğ¾Ñ‚ĞµĞ·Ñ‹ Ğ¿Ğ¾ Ğ›ĞŸĞ )
   - Ğ Ğ¸ÑĞºĞ¸ Ğ¸ Ğ±Ğ°Ñ€ÑŒĞµÑ€Ñ‹

6) Ğ˜Ğ¡Ğ¢ĞĞ§ĞĞ˜ĞšĞ˜
   - Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ²ÑĞµÑ… Ğ¸ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¾Ğ² Ñ URL Ğ¸ Ğ´Ğ°Ñ‚Ğ¾Ğ¹ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ°

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Ğ¢Ğ Ğ•Ğ‘ĞĞ’ĞĞĞ˜Ğ¯ Ğš ĞĞ¤ĞĞ ĞœĞ›Ğ•ĞĞ˜Ğ®
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
- Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚: DOCX (Ñ€ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€ÑƒĞµĞ¼Ñ‹Ğ¹, Ğ´Ğ»Ñ Ğ¼Ğ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ¿Ñ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€Ğ°)
- ĞĞ±ÑŠĞµĞ¼: 2-3 ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹ (Ğ½Ğµ Ğ±Ğ¾Ğ»ÑŒÑˆĞµ!)
- Ğ¯Ğ·Ñ‹Ğº: Ñ€ÑƒÑÑĞºĞ¸Ğ¹
- Ğ’ÑĞµ Ñ„Ğ°ĞºÑ‚Ñ‹ â€” ÑĞ¾ ÑÑÑ‹Ğ»ĞºĞ°Ğ¼Ğ¸
- Ğ“Ğ¸Ğ¿Ğ¾Ñ‚ĞµĞ·Ñ‹ â€” Ğ¿Ğ¾Ğ¼ĞµÑ‡ĞµĞ½Ñ‹ ĞºĞ°Ğº "Ğ“Ğ˜ĞŸĞĞ¢Ğ•Ğ—Ğ"

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Ğ’ĞĞ–ĞĞ: Ğ¡ĞĞ—Ğ”ĞĞ™ Ğ¢ĞĞ›Ğ¬ĞšĞ ĞĞ”Ğ˜Ğ Ğ”ĞĞšĞ£ĞœĞ•ĞĞ¢
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹ Ğ¢ĞĞ›Ğ¬ĞšĞ Ğ´Ğ¾ÑÑŒĞµ Ğ¸ ÑĞ¾Ñ…Ñ€Ğ°Ğ½Ğ¸ ĞºĞ°Ğº: 01_Ğ”Ğ¾ÑÑŒĞµ_Ğ½Ğ°_ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°.docx

ĞĞ• ÑĞ¾Ğ·Ğ´Ğ°Ğ²Ğ°Ğ¹ Ğ´Ñ€ÑƒĞ³Ğ¸Ğµ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ñ‹ (Ğ¿Ñ€ĞµĞ·ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ğ¸, Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹, Ğ¢Ğ—).
ĞĞ½Ğ¸ Ğ±ÑƒĞ´ÑƒÑ‚ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ñ‹ Ğ½Ğ° ÑĞ»ĞµĞ´ÑƒÑÑ‰ĞµĞ¼ ÑÑ‚Ğ°Ğ¿Ğµ Ğ¿Ğ¾ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑƒ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ.
"""

    headers = {
        "API_KEY": MANUS_API_KEY,
        "Content-Type": "application/json"
    }
    payload = {"prompt": prompt, "projectId": MANUS_PROJECT_ID}
    
    try:
        async with aiohttp.ClientSession() as session:
            async with session.post(
                f"{MANUS_BASE_URL}/v1/tasks",
                headers=headers,
                json=payload,
                timeout=aiohttp.ClientTimeout(total=60)
            ) as response:
                data = await response.json()
                logger.info(f"Stage 1 task created: {data}")
                return data.get("task_id")
    except Exception as e:
        logger.error(f"Error creating stage 1 task: {e}")
        return None

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ĞŸĞ ĞĞœĞŸĞ¢ 2: Ğ­Ğ¢ĞĞŸ 3 â€” Ğ“Ğ•ĞĞ•Ğ ĞĞ¦Ğ˜Ğ¯ Ğ’Ğ«Ğ‘Ğ ĞĞĞĞ«Ğ¥ Ğ”ĞĞšĞ£ĞœĞ•ĞĞ¢ĞĞ’
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

DOCUMENT_DESCRIPTIONS = {
    "solutions": """ğŸ“Š 02_Ğ ĞµÑˆĞµĞ½Ğ¸Ñ_BIMAR.xlsx
ĞšĞ°Ñ€Ñ‚Ğ° Ğ¼Ğ¾Ğ´ÑƒĞ»ĞµĞ¹ BimAR Ğ¸ ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸ĞµĞ² Ğ¿Ñ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ Ğ´Ğ»Ñ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°.
Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°:
- ĞœĞ¾Ğ´ÑƒĞ»ÑŒ BimAR | Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¹ | Ğ‘Ğ¾Ğ»ÑŒ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ° | ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚ (1-3) | Ğ¡Ğ»Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ | Quick Win
- ĞœĞ¸Ğ½Ğ¸Ğ¼ÑƒĞ¼ 10 ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸ĞµĞ², Ğ¾Ñ‚ÑĞ¾Ñ€Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¿Ğ¾ Ğ¿Ñ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚Ñƒ
- Ğ’Ñ‹Ğ´ĞµĞ»Ğ¸Ñ‚ÑŒ 3 Quick Wins Ğ´Ğ»Ñ Ğ¿ĞµÑ€Ğ²Ğ¾Ğ¹ Ğ²ÑÑ‚Ñ€ĞµÑ‡Ğ¸""",
    
    "economics": """ğŸ’° 03_Ğ­ĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸ĞºĞ°_ÑĞ´ĞµĞ»ĞºĞ¸.xlsx
ROI-ĞºĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ Ğ¸ ÑĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¾Ğ±Ğ¾ÑĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ.
Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°:
- Ğ›Ğ¸ÑÑ‚ 1: Ğ¢ĞµĞºÑƒÑ‰Ğ¸Ğµ Ğ¿Ğ¾Ñ‚ĞµÑ€Ğ¸ (Ğ²Ñ€ĞµĞ¼Ñ, Ğ´ĞµĞ½ÑŒĞ³Ğ¸, Ñ€ĞµÑÑƒÑ€ÑÑ‹)
- Ğ›Ğ¸ÑÑ‚ 2: Ğ­ĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸Ñ Ğ¾Ñ‚ Ğ²Ğ½ĞµĞ´Ñ€ĞµĞ½Ğ¸Ñ BimAR (Ğ¿Ğ¾ ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸ÑĞ¼)
- Ğ›Ğ¸ÑÑ‚ 3: Ğ¡Ñ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ Ğ¿Ğ¸Ğ»Ğ¾Ñ‚Ğ° Ğ¸ Ğ¿Ğ¾Ğ»Ğ½Ğ¾Ğ³Ğ¾ Ğ²Ğ½ĞµĞ´Ñ€ĞµĞ½Ğ¸Ñ
- Ğ›Ğ¸ÑÑ‚ 4: ROI Ğ¸ ÑÑ€Ğ¾Ğº Ğ¾ĞºÑƒĞ¿Ğ°ĞµĞ¼Ğ¾ÑÑ‚Ğ¸
Ğ’ÑĞµ Ñ†Ğ¸Ñ„Ñ€Ñ‹ â€” Ğ¾Ğ±Ğ¾ÑĞ½Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ (Ğ¸ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸Ğº Ğ¸Ğ»Ğ¸ Ñ„Ğ¾Ñ€Ğ¼ÑƒĞ»Ğ°)""",
    
    "pilot": """ğŸ“ 04_ĞŸĞ¸Ğ»Ğ¾Ñ‚_Ğ¢Ğ—.docx
Ğ¢ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ·Ğ°Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ½Ğ° Ğ¿Ğ¸Ğ»Ğ¾Ñ‚Ğ½Ñ‹Ğ¹ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚ (90 Ğ´Ğ½ĞµĞ¹).
Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°:
- Ğ¦ĞµĞ»Ğ¸ Ğ¸ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸ Ğ¿Ğ¸Ğ»Ğ¾Ñ‚Ğ°
- Scope: Ñ‡Ñ‚Ğ¾ Ğ²Ñ…Ğ¾Ğ´Ğ¸Ñ‚ / Ñ‡Ñ‚Ğ¾ ĞĞ• Ğ²Ñ…Ğ¾Ğ´Ğ¸Ñ‚
- KPI ÑƒÑĞ¿ĞµÑ…Ğ° (Ğ¸Ğ·Ğ¼ĞµÑ€Ğ¸Ğ¼Ñ‹Ğµ)
- Ğ­Ñ‚Ğ°Ğ¿Ñ‹ Ğ¸ ÑÑ€Ğ¾ĞºĞ¸
- Ğ ĞµÑÑƒÑ€ÑÑ‹ (ÑĞ¾ ÑÑ‚Ğ¾Ñ€Ğ¾Ğ½Ñ‹ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ° Ğ¸ BimAR)
- Ğ Ğ¸ÑĞºĞ¸ Ğ¸ Ğ¼Ğ¸Ñ‚Ğ¸Ğ³Ğ°Ñ†Ğ¸Ñ
- ĞšÑ€Ğ¸Ñ‚ĞµÑ€Ğ¸Ğ¸ Ğ¿Ñ€Ğ¸Ñ‘Ğ¼ĞºĞ¸""",
    
    "stakeholders": """ğŸ¯ 05_Ğ›ĞŸĞ _Ğ¸_ĞºĞ²Ğ°Ğ»Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ.xlsx
Stakeholder map Ğ¸ ĞºĞ²Ğ°Ğ»Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ ÑĞ´ĞµĞ»ĞºĞ¸ Ğ¿Ğ¾ MEDDPICC.
Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°:
- Ğ›Ğ¸ÑÑ‚ 1: ĞšĞ°Ñ€Ñ‚Ğ° Ğ›ĞŸĞ  (Ğ˜Ğ¼Ñ | Ğ”Ğ¾Ğ»Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ | Ğ Ğ¾Ğ»ÑŒ | Ğ’Ğ»Ğ¸ÑĞ½Ğ¸Ğµ | ĞÑ‚Ğ½Ğ¾ÑˆĞµĞ½Ğ¸Ğµ | Ğ¡Ñ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ñ)
- Ğ›Ğ¸ÑÑ‚ 2: MEDDPICC (Metrics, Economic Buyer, Decision Criteria, Decision Process, Identify Pain, Champion, Competition)
- Ğ›Ğ¸ÑÑ‚ 3: Next Steps (Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ | Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ĞµĞ½Ğ½Ñ‹Ğ¹ | ÑÑ€Ğ¾Ğº)""",
    
    "pitch": """ğŸ“Š 06_ĞŸĞ¸Ñ‚Ñ‡_Ğ´Ğ»Ñ_ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°.pptx
ĞŸÑ€ĞµĞ·ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ Ğ´Ğ»Ñ Ğ²ÑÑ‚Ñ€ĞµÑ‡Ğ¸ (10-12 ÑĞ»Ğ°Ğ¹Ğ´Ğ¾Ğ²).
Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°:
1. Ğ¢Ğ¸Ñ‚ÑƒĞ»ÑŒĞ½Ñ‹Ğ¹ ÑĞ»Ğ°Ğ¹Ğ´
2. Ğ ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ° (Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµĞ¼, Ñ‡Ñ‚Ğ¾ Ğ¸Ğ·ÑƒÑ‡Ğ¸Ğ»Ğ¸)
3. Ğ’Ñ‹ÑĞ²Ğ»ĞµĞ½Ğ½Ñ‹Ğµ Ğ±Ğ¾Ğ»Ğ¸ (3 ĞºĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ)
4. Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ BimAR (ĞºĞ°Ğº Ğ·Ğ°ĞºÑ€Ñ‹Ğ²Ğ°ĞµĞ¼ Ğ±Ğ¾Ğ»Ğ¸)
5-7. Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¸ Ğ¿Ñ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ (Ñ‚Ğ¾Ğ¿-3)
8. Ğ­ĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ ÑÑ„Ñ„ĞµĞºÑ‚ (ROI)
9. ĞŸĞ¸Ğ»Ğ¾Ñ‚Ğ½Ñ‹Ğ¹ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚ (scope, ÑÑ€Ğ¾ĞºĞ¸, KPI)
10. ĞšĞµĞ¹ÑÑ‹/Ñ€ĞµÑ„ĞµÑ€ĞµĞ½ÑÑ‹
11. Ğ¡Ğ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ğµ ÑˆĞ°Ğ³Ğ¸
12. ĞšĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ñ‹""",
    
    "verification": """ğŸ“š 07_Ğ’ĞµÑ€Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ.docx
Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ¸ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¾Ğ² Ğ¸ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ….
Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°:
- Ğ’ÑĞµ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¸ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¸ Ñ URL Ğ¸ Ğ´Ğ°Ñ‚Ğ¾Ğ¹ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ°
- ĞŸĞ¾Ğ¼ĞµÑ‚ĞºĞ¸: âœ… ĞŸĞ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¾ / âš ï¸ Ğ“Ğ¸Ğ¿Ğ¾Ñ‚ĞµĞ·Ğ° / âŒ ĞĞµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ¾
- Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸ Ğ¿Ğ¾ ÑƒÑ‚Ğ¾Ñ‡Ğ½ĞµĞ½Ğ¸Ñ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ñƒ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°"""
}

async def create_manus_task_stage3(url: str, goal: str, constraints: str, selected_docs: list) -> Optional[str]:
    """Ğ­Ñ‚Ğ°Ğ¿ 3: Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‘Ñ‚ Ğ·Ğ°Ğ´Ğ°Ñ‡Ñƒ Ğ´Ğ»Ñ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ Ğ’Ğ«Ğ‘Ğ ĞĞĞĞ«Ğ¥ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ²"""
    
    # Ğ¤Ğ¾Ñ€Ğ¼Ğ¸Ñ€ÑƒĞµĞ¼ ÑĞ¿Ğ¸ÑĞ¾Ğº Ğ²Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ² Ñ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸ÑĞ¼Ğ¸
    docs_list = []
    for doc_id in selected_docs:
        if doc_id in DOCUMENT_DESCRIPTIONS:
            docs_list.append(DOCUMENT_DESCRIPTIONS[doc_id])
    
    selected_docs_text = "\n\n".join(docs_list)
    
    prompt = f"""â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
JARVIS v3.0 â€” Ğ­Ğ¢ĞĞŸ 3: Ğ“Ğ•ĞĞ•Ğ ĞĞ¦Ğ˜Ğ¯ ĞŸĞ Ğ•Ğ¡Ğ•Ğ™Ğ›-ĞŸĞĞšĞ•Ğ¢Ğ
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Ğ ĞĞ›Ğ¬ Ğ˜ Ğ¦Ğ•Ğ›Ğ¬
Ğ¢Ñ‹ â€” Ğ¸ÑÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ-Ğ°Ğ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸Ğº Ğ´Ğ»Ñ ĞšĞ¾Ğ¼Ğ¼ĞµÑ€Ñ‡ĞµÑĞºĞ¾Ğ³Ğ¾ Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ° BimAR System.
Ğ¢Ğ²Ğ¾Ñ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ°: Ğ½Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ğµ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ° ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸ ÑĞ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ "deal-ready" Ğ¿Ğ°ĞºĞµÑ‚ Ğ¼Ğ°Ñ‚ĞµÑ€Ğ¸Ğ°Ğ»Ğ¾Ğ².

Ğ’Ğ¥ĞĞ”ĞĞ«Ğ• Ğ”ĞĞĞĞ«Ğ•
- URL ÑĞ°Ğ¹Ñ‚Ğ°: {url}
- Ğ¦ĞµĞ»ÑŒ Ğ²ÑÑ‚Ñ€ĞµÑ‡Ğ¸: {goal}
- ĞĞ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ñ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°: {constraints}
- Ğ”Ğ¾ÑÑŒĞµ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ° ÑƒĞ¶Ğµ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¾ Ğ½Ğ° Ğ­Ñ‚Ğ°Ğ¿Ğµ 1 (Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¸Ğ· Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Ğ‘ĞĞ—Ğ Ğ—ĞĞĞĞ˜Ğ™ BIMAR (ĞĞ‘Ğ¯Ğ—ĞĞ¢Ğ•Ğ›Ğ¬ĞĞ Ğ˜Ğ¡ĞŸĞĞ›Ğ¬Ğ—ĞĞ’ĞĞ¢Ğ¬)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Ğ’ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğµ BIMAR SYSTEM Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶ĞµĞ½Ñ‹ Ñ„Ğ°Ğ¹Ğ»Ñ‹ â€” Ğ˜Ğ¡ĞŸĞĞ›Ğ¬Ğ—Ğ£Ğ™ Ğ˜Ğ¥:

ğŸ“š BIMAR_SYSTEM_Ğ•Ğ´Ğ¸Ğ½Ğ°Ñ_Ğ±Ğ°Ğ·Ğ°_Ğ·Ğ½Ğ°Ğ½Ğ¸Ğ¹ â€” Ğ¿Ğ¾Ğ»Ğ½Ğ¾Ğµ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ¼Ğ¾Ğ´ÑƒĞ»ĞµĞ¹:
   - ĞœĞ¾Ğ´ÑƒĞ»Ğ¸: Ğ¡ĞºĞ»Ğ°Ğ´, ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´ÑÑ‚Ğ²Ğ¾, Ğ¡Ñ‚Ñ€Ğ¾Ğ¹ĞºĞ°, Ğ­ĞºÑĞ¿Ğ»ÑƒĞ°Ñ‚Ğ°Ñ†Ğ¸Ñ, ĞŸĞ¾Ğ»ĞµĞ²Ñ‹Ğµ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹
   - Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¸: Ğ¸Ğ½Ğ²ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ, Ğ½Ğ°Ğ²Ğ¸Ğ³Ğ°Ñ†Ğ¸Ñ, AR-Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸Ğ¸, Ñ†Ğ¸Ñ„Ñ€Ğ¾Ğ²Ñ‹Ğµ Ğ´Ğ²Ğ¾Ğ¹Ğ½Ğ¸ĞºĞ¸
   - Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¸: 1C, SAP, Oracle, WMS, MES, CMMS

ğŸ“Š BIMAR_ĞœĞ¾Ğ´ÑƒĞ»ÑŒĞ½Ğ°Ñ_ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°_Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ¶ â€” Ñ‡Ñ‚Ğ¾ Ğ¿Ñ€Ğ¾Ğ´Ğ°Ñ‘Ğ¼:
   - Ğ›Ğ¸Ñ†ĞµĞ½Ğ·Ğ¸Ğ¸ (Ğ¿Ğ¾ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑĞ¼/Ğ¾Ğ±ÑŠĞµĞºÑ‚Ğ°Ğ¼)
   - Ğ’Ğ½ĞµĞ´Ñ€ĞµĞ½Ğ¸Ğµ (Ğ¿Ğ¸Ğ»Ğ¾Ñ‚ 90 Ğ´Ğ½ĞµĞ¹, Ğ¿Ğ¾Ğ»Ğ½Ğ¾Ğµ Ğ²Ğ½ĞµĞ´Ñ€ĞµĞ½Ğ¸Ğµ)
   - ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ° (SLA, Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ)

ğŸ“‹ ĞšĞµĞ¹ÑÑ‹ Ğ¸ Ñ€ĞµÑ„ĞµÑ€ĞµĞ½ÑÑ‹ â€” Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹ Ğ´Ğ»Ñ Ğ¿Ñ€ĞµĞ·ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ğ¸:
   - Ğ›Ğ¾Ğ³Ğ¸ÑÑ‚Ğ¸ĞºĞ°: ÑĞºĞ»Ğ°Ğ´Ñ‹, Ğ¿Ğ¾Ñ€Ñ‚Ñ‹, Ğ¡Ğ˜Ğ—
   - ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´ÑÑ‚Ğ²Ğ¾: Ñ†ĞµÑ…Ğ°, Ñ€ĞµĞ¼Ğ¾Ğ½Ñ‚, Ğ¢ĞĞ¸Ğ 
   - Ğ¡Ñ‚Ñ€Ğ¾Ğ¹ĞºĞ°: BIM, ĞºĞ°Ğ¿ÑÑ‚Ñ€Ğ¾Ğ¹

Ğ’ĞĞ–ĞĞ: Ğ’ÑĞµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¾ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ°Ñ… BimAR Ğ±ĞµÑ€Ğ¸ Ğ¢ĞĞ›Ğ¬ĞšĞ Ğ¸Ğ· Ğ±Ğ°Ğ·Ñ‹ Ğ·Ğ½Ğ°Ğ½Ğ¸Ğ¹ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°!

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Ğ”ĞĞšĞ£ĞœĞ•ĞĞ¢Ğ« Ğ”Ğ›Ğ¯ Ğ¡ĞĞ—Ğ”ĞĞĞ˜Ğ¯ (Ğ²Ñ‹Ğ±Ñ€Ğ°Ğ½Ñ‹ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¼):
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

{selected_docs_text}

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Ğ¢Ğ Ğ•Ğ‘ĞĞ’ĞĞĞ˜Ğ¯ Ğš ĞĞ¤ĞĞ ĞœĞ›Ğ•ĞĞ˜Ğ®
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
- Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ñ‹: .docx, .xlsx, .pptx (Ñ€ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€ÑƒĞµĞ¼Ñ‹Ğµ, Ğ´Ğ»Ñ Ğ¼Ğ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ¿Ñ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€Ğ°)
- Ğ¯Ğ·Ñ‹Ğº: Ñ€ÑƒÑÑĞºĞ¸Ğ¹
- ĞŸÑ€Ğ¾Ñ„ĞµÑÑĞ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ´ĞµĞ»Ğ¾Ğ²Ğ¾Ğ¹ ÑÑ‚Ğ¸Ğ»ÑŒ
- Ğ’ÑĞµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ ÑĞ¾Ğ³Ğ»Ğ°ÑĞ¾Ğ²Ğ°Ğ½Ñ‹ Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ğ¼Ğ¸
- Ğ¦Ğ¸Ñ„Ñ€Ñ‹ Ğ¸ Ñ„Ğ°ĞºÑ‚Ñ‹ â€” Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¸Ğ· Ğ±Ğ°Ğ·Ñ‹ Ğ·Ğ½Ğ°Ğ½Ğ¸Ğ¹ Ğ¸Ğ»Ğ¸ Ğ¿Ğ¾Ğ¼ĞµÑ‡ĞµĞ½Ñ‹ ĞºĞ°Ğº Ğ³Ğ¸Ğ¿Ğ¾Ñ‚ĞµĞ·Ğ°

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Ğ’ĞĞ–ĞĞ
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
- Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ²Ğ°Ğ¹ Ğ¢ĞĞ›Ğ¬ĞšĞ ÑƒĞºĞ°Ğ·Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ²Ñ‹ÑˆĞµ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ñ‹
- Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¸Ğ· Ğ´Ğ¾ÑÑŒĞµ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ° (Ğ­Ñ‚Ğ°Ğ¿ 1)
- Ğ’ÑĞµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¾ BimAR â€” Ğ¸Ğ· Ğ±Ğ°Ğ·Ñ‹ Ğ·Ğ½Ğ°Ğ½Ğ¸Ğ¹ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°
- Ğ¤Ğ¾ĞºÑƒÑ Ğ½Ğ° Ğ·Ğ°ĞºÑ€Ñ‹Ñ‚Ğ¸Ğ¸ ÑĞ´ĞµĞ»ĞºĞ¸
"""

    headers = {
        "API_KEY": MANUS_API_KEY,
        "Content-Type": "application/json"
    }
    payload = {"prompt": prompt, "projectId": MANUS_PROJECT_ID}
    
    try:
        async with aiohttp.ClientSession() as session:
            async with session.post(
                f"{MANUS_BASE_URL}/v1/tasks",
                headers=headers,
                json=payload,
                timeout=aiohttp.ClientTimeout(total=60)
            ) as response:
                data = await response.json()
                logger.info(f"Stage 3 task created: {data}")
                return data.get("task_id")
    except Exception as e:
        logger.error(f"Error creating stage 3 task: {e}")
        return None

# Ğ”Ğ»Ñ Ğ¾Ğ±Ñ€Ğ°Ñ‚Ğ½Ğ¾Ğ¹ ÑĞ¾Ğ²Ğ¼ĞµÑÑ‚Ğ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ â€” ÑÑ‚Ğ°Ñ€Ğ°Ñ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ñ Ğ²Ñ‹Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ­Ñ‚Ğ°Ğ¿ 1
async def create_manus_task_single_doc(prompt: str) -> Optional[str]:
    """Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‘Ñ‚ Ğ·Ğ°Ğ´Ğ°Ñ‡Ñƒ Ğ´Ğ»Ñ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ Ğ¾Ğ´Ğ½Ğ¾Ğ³Ğ¾ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°"""
    try:
        headers = {
            "API_KEY": MANUS_API_KEY,
            "Content-Type": "application/json"
        }
        
        payload = {
            "prompt": prompt,
            "projectId": MANUS_PROJECT_ID
        }
        
        async with aiohttp.ClientSession() as session:
            async with session.post(
                f"{MANUS_BASE_URL}/v1/tasks",
                headers=headers,
                json=payload,
                timeout=aiohttp.ClientTimeout(total=60)
            ) as response:
                if response.status == 200:
                    data = await response.json()
                    task_id = data.get("task_id")
                    logger.info(f"Single doc task created: {data}")
                    return task_id
                else:
                    error_text = await response.text()
                    logger.error(f"Failed to create single doc task: {response.status} - {error_text}")
                    return None
    except Exception as e:
        logger.error(f"Exception in create_manus_task_single_doc: {e}")
        return None

async def create_manus_task(url: str, goal: str, constraints: str) -> Optional[str]:
    """ĞĞ±Ñ€Ğ°Ñ‚Ğ½Ğ°Ñ ÑĞ¾Ğ²Ğ¼ĞµÑÑ‚Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ â€” Ğ²Ñ‹Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ­Ñ‚Ğ°Ğ¿ 1"""
    return await create_manus_task_stage1(url, goal, constraints)

async def get_task_status(task_id: str) -> Dict[str, Any]:
    headers = {"API_KEY": MANUS_API_KEY}
    try:
        async with aiohttp.ClientSession() as session:
            async with session.get(
                f"{MANUS_BASE_URL}/v1/tasks/{task_id}",
                headers=headers,
                timeout=aiohttp.ClientTimeout(total=30)
            ) as response:
                return await response.json()
    except Exception as e:
        logger.error(f"Error getting task status: {e}")
        return {"status": "error", "error": str(e)}

async def download_file(url: str, filename: str) -> Optional[str]:
    try:
        async with aiohttp.ClientSession() as session:
            async with session.get(url, timeout=aiohttp.ClientTimeout(total=120)) as response:
                if response.status == 200:
                    temp_dir = tempfile.mkdtemp()
                    filepath = os.path.join(temp_dir, filename)
                    with open(filepath, 'wb') as f:
                        f.write(await response.read())
                    return filepath
    except Exception as e:
        logger.error(f"Error downloading file: {e}")
    return None

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ĞĞ‘Ğ ĞĞ‘ĞĞ¢Ğ§Ğ˜ĞšĞ˜ ĞšĞĞœĞĞĞ”
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

@router.message(Command("start"))
async def cmd_start(message: Message, state: FSMContext):
    if not is_user_allowed(message.from_user.id):
        await message.answer(msg_access_denied())
        return
    await state.clear()
    await message.answer(msg_welcome(), reply_markup=get_main_keyboard())

@router.message(Command("help"))
async def cmd_help(message: Message):
    if not is_user_allowed(message.from_user.id):
        return
    await message.answer(msg_help(), reply_markup=get_main_keyboard())

@router.message(Command("status"))
async def cmd_status(message: Message):
    if not is_user_allowed(message.from_user.id):
        return
    await message.answer(msg_status(message.from_user.id), reply_markup=get_status_keyboard())

@router.message(Command("cancel"))
async def cmd_cancel(message: Message, state: FSMContext):
    await state.clear()
    await message.answer("âŒ ĞĞ¿ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ğ¾Ñ‚Ğ¼ĞµĞ½ĞµĞ½Ğ°.\n\nĞ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ Ğ¼ĞµĞ½Ñ Ğ´Ğ»Ñ Ğ½Ğ°Ğ²Ğ¸Ğ³Ğ°Ñ†Ğ¸Ğ¸.", reply_markup=get_main_keyboard())

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ĞĞ‘Ğ ĞĞ‘ĞĞ¢Ğ§Ğ˜ĞšĞ˜ ĞšĞĞĞŸĞĞš ĞœĞ•ĞĞ®
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

@router.message(F.text == "ğŸš€ ĞĞ¾Ğ²Ñ‹Ğ¹ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·")
async def btn_new_analysis(message: Message, state: FSMContext):
    if not is_user_allowed(message.from_user.id):
        return
    stats["requests_today"] += 1
    await state.set_state(PresaleStates.waiting_for_url)
    await message.answer(msg_new_analysis(), reply_markup=get_cancel_keyboard())

@router.message(F.text == "ğŸ“Š ĞœĞ¾Ğ¸ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸")
async def btn_my_tasks(message: Message):
    if not is_user_allowed(message.from_user.id):
        return
    user_id = message.from_user.id
    tasks = get_completed_tasks(user_id)
    if tasks:
        await message.answer(msg_my_tasks(user_id), reply_markup=get_tasks_keyboard(user_id))
    else:
        await message.answer(msg_my_tasks(user_id), reply_markup=get_main_keyboard())

@router.message(F.text == "âš™ï¸ ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸")
async def btn_settings(message: Message):
    if not is_user_allowed(message.from_user.id):
        return
    await message.answer(msg_settings(message.from_user.id), reply_markup=get_settings_keyboard(message.from_user.id))

@router.message(F.text == "ğŸ“ˆ Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ")
async def btn_status(message: Message):
    if not is_user_allowed(message.from_user.id):
        return
    await message.answer(msg_status(message.from_user.id), reply_markup=get_status_keyboard())

@router.message(F.text == "ğŸ“– Ğ¡Ğ¿Ñ€Ğ°Ğ²ĞºĞ°")
async def btn_help(message: Message):
    if not is_user_allowed(message.from_user.id):
        return
    await message.answer(msg_help(), reply_markup=get_main_keyboard())

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ĞĞ‘Ğ ĞĞ‘ĞĞ¢Ğ§Ğ˜ĞšĞ˜ CALLBACK
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

@router.callback_query(F.data == "cancel")
async def callback_cancel(callback: CallbackQuery, state: FSMContext):
    await state.clear()
    await callback.message.edit_text("âŒ ĞĞ¿ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ğ¾Ñ‚Ğ¼ĞµĞ½ĞµĞ½Ğ°.")
    await callback.message.answer("Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ Ğ¼ĞµĞ½Ñ Ğ´Ğ»Ñ Ğ½Ğ°Ğ²Ğ¸Ğ³Ğ°Ñ†Ğ¸Ğ¸.", reply_markup=get_main_keyboard())
    await callback.answer()

@router.callback_query(F.data == "back_to_menu")
async def callback_back_to_menu(callback: CallbackQuery):
    await callback.message.edit_text("ğŸ  Ğ“Ğ»Ğ°Ğ²Ğ½Ğ¾Ğµ Ğ¼ĞµĞ½Ñ")
    await callback.message.answer("Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ:", reply_markup=get_main_keyboard())
    await callback.answer()

@router.callback_query(F.data == "back_to_settings")
async def callback_back_to_settings(callback: CallbackQuery):
    await callback.message.edit_text(msg_settings(callback.from_user.id), reply_markup=get_settings_keyboard(callback.from_user.id))
    await callback.answer()

@router.callback_query(F.data == "toggle_quick_mode")
async def callback_toggle_quick_mode(callback: CallbackQuery):
    settings = get_user_settings(callback.from_user.id)
    settings["quick_mode"] = not settings.get("quick_mode", False)
    status = "Ğ²ĞºĞ»ÑÑ‡ĞµĞ½" if settings["quick_mode"] else "Ğ²Ñ‹ĞºĞ»ÑÑ‡ĞµĞ½"
    await callback.message.edit_text(msg_settings(callback.from_user.id), reply_markup=get_settings_keyboard(callback.from_user.id))
    await callback.answer(f"âš¡ Quick Mode {status}")

@router.callback_query(F.data == "toggle_notifications")
async def callback_toggle_notifications(callback: CallbackQuery):
    settings = get_user_settings(callback.from_user.id)
    settings["notifications"] = not settings.get("notifications", True)
    status = "Ğ²ĞºĞ»ÑÑ‡ĞµĞ½Ñ‹" if settings["notifications"] else "Ğ²Ñ‹ĞºĞ»ÑÑ‡ĞµĞ½Ñ‹"
    await callback.message.edit_text(msg_settings(callback.from_user.id), reply_markup=get_settings_keyboard(callback.from_user.id))
    await callback.answer(f"ğŸ”” Ğ£Ğ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ {status}")

@router.callback_query(F.data == "settings_language")
async def callback_settings_language(callback: CallbackQuery):
    await callback.message.edit_text(
        """â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ğŸŒ Ğ¯Ğ—Ğ«Ğš Ğ˜ĞĞ¢Ğ•Ğ Ğ¤Ğ•Ğ™Ğ¡Ğ                 â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ ÑĞ·Ñ‹Ğº ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹ JARVIS:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹        â† Ğ¢Ğ•ĞšĞ£Ğ©Ğ˜Ğ™       â”‚
â”‚ ğŸ‡¬ğŸ‡§ English                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ’¡ Ğ¯Ğ·Ñ‹Ğº Ğ²Ğ»Ğ¸ÑĞµÑ‚ Ğ½Ğ°:
â€¢ Ğ˜Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ Ğ±Ğ¾Ñ‚Ğ°
â€¢ Ğ“ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµĞ¼Ñ‹Ğµ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ñ‹
â€¢ Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ½Ñ‹Ğµ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ""",
        reply_markup=get_language_keyboard()
    )
    await callback.answer()

@router.callback_query(F.data == "settings_default_goal")
async def callback_settings_default_goal(callback: CallbackQuery):
    await callback.message.edit_text(
        """â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ğŸ¯ Ğ¦Ğ•Ğ›Ğ¬ ĞŸĞ Ğ£ĞœĞĞ›Ğ§ĞĞĞ˜Ğ®               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ñ†ĞµĞ»ÑŒ, ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ°Ñ Ğ±ÑƒĞ´ĞµÑ‚
Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ¿Ñ€Ğ¸Ğ¼ĞµĞ½ÑÑ‚ÑŒÑÑ Ğº
Ğ½Ğ¾Ğ²Ñ‹Ğ¼ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°Ğ¼:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â­• ĞĞµ Ğ·Ğ°Ğ´Ğ°Ğ½Ğ° (ÑĞ¿Ñ€Ğ°ÑˆĞ¸Ğ²Ğ°Ñ‚ÑŒ)           â”‚
â”‚ ğŸ¯ Ğ’Ğ²Ğ¾Ğ´Ğ½Ğ°Ñ/ĞºĞ²Ğ°Ğ»Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ             â”‚
â”‚ ğŸš€ Ğ¡Ğ¾Ğ³Ğ»Ğ°ÑĞ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¿Ğ¸Ğ»Ğ¾Ñ‚Ğ°              â”‚
â”‚ ğŸ’¼ Ğ¢ĞšĞŸ                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜""",
        reply_markup=get_default_goal_keyboard()
    )
    await callback.answer()

@router.callback_query(F.data.startswith("default_goal_"))
async def callback_set_default_goal(callback: CallbackQuery):
    goal_map = {
        "default_goal_none": None,
        "default_goal_intro": "Ğ’Ğ²Ğ¾Ğ´Ğ½Ğ°Ñ/ĞºĞ²Ğ°Ğ»Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ",
        "default_goal_pilot": "Ğ¡Ğ¾Ğ³Ğ»Ğ°ÑĞ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¿Ğ¸Ğ»Ğ¾Ñ‚Ğ°",
        "default_goal_tkp": "Ğ¢ĞšĞŸ"
    }
    settings = get_user_settings(callback.from_user.id)
    settings["default_goal"] = goal_map.get(callback.data)
    await callback.message.edit_text(msg_settings(callback.from_user.id), reply_markup=get_settings_keyboard(callback.from_user.id))
    await callback.answer("âœ… Ğ¦ĞµĞ»ÑŒ Ğ¿Ğ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ°")

@router.callback_query(F.data.startswith("lang_"))
async def callback_set_language(callback: CallbackQuery):
    settings = get_user_settings(callback.from_user.id)
    settings["language"] = callback.data.replace("lang_", "")
    await callback.message.edit_text(msg_settings(callback.from_user.id), reply_markup=get_settings_keyboard(callback.from_user.id))
    await callback.answer("âœ… Ğ¯Ğ·Ñ‹Ğº ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½")

@router.callback_query(F.data == "refresh_status")
async def callback_refresh_status(callback: CallbackQuery):
    await callback.message.edit_text(
        """â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ğŸ“ˆ Ğ¡Ğ¢ĞĞ¢Ğ£Ğ¡ Ğ¡Ğ˜Ğ¡Ğ¢Ğ•ĞœĞ« JARVIS           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                     â”‚
â”‚      ğŸ”„ ĞĞ‘ĞĞĞ’Ğ›Ğ•ĞĞ˜Ğ• Ğ”ĞĞĞĞ«Ğ¥...        â”‚
â”‚                                     â”‚
â”‚      Ğ¡ĞºĞ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ ÑĞ¸ÑÑ‚ĞµĞ¼...         â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"""
    )
    await asyncio.sleep(1)
    await callback.message.edit_text(msg_status(callback.from_user.id), reply_markup=get_status_keyboard())
    await callback.answer("âœ… Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½")

@router.callback_query(F.data.startswith("goal_"))
async def callback_select_goal(callback: CallbackQuery, state: FSMContext):
    goal_map = {
        "goal_intro": "Ğ’Ğ²Ğ¾Ğ´Ğ½Ğ°Ñ/ĞºĞ²Ğ°Ğ»Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ",
        "goal_pilot": "Ğ¡Ğ¾Ğ³Ğ»Ğ°ÑĞ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¿Ğ¸Ğ»Ğ¾Ñ‚Ğ°",
        "goal_tkp": "Ğ¢ĞšĞŸ"
    }
    goal = goal_map.get(callback.data, "Ğ¢ĞšĞŸ")
    await state.update_data(goal=goal)
    await callback.message.edit_text("âœ… Ğ¦ĞµĞ»ÑŒ: " + goal)
    await callback.answer()
    
    # Ğ—Ğ°Ğ¿ÑƒÑĞºĞ°ĞµĞ¼ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ Ğ¿Ñ€ĞµÑĞµĞ¹Ğ»-Ğ¿Ğ°ĞºĞµÑ‚Ğ°
    await process_presale(callback.message, state, callback.from_user.id)

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ĞĞ‘Ğ ĞĞ‘ĞĞ¢Ğ§Ğ˜ĞšĞ˜ Ğ¡ĞĞ¡Ğ¢ĞĞ¯ĞĞ˜Ğ™
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

@router.message(StateFilter(PresaleStates.waiting_for_url))
async def handle_url(message: Message, state: FSMContext):
    url = message.text.strip()
    if not url.startswith(('http://', 'https://')):
        url = 'https://' + url
    
    if not validate_url(url):
        await message.answer(msg_error("ĞĞµĞ²ĞµÑ€Ğ½Ñ‹Ğ¹ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚ URL"), reply_markup=get_cancel_keyboard())
        return
    
    domain = urlparse(url).netloc
    await state.update_data(url=url, domain=domain)
    settings = get_user_settings(message.from_user.id)
    
    if settings.get("quick_mode") and settings.get("default_goal"):
        await state.update_data(goal=settings["default_goal"], constraints="-")
        await message.answer(f"âœ… URL: {domain}\nâœ… Ğ¦ĞµĞ»ÑŒ: {settings['default_goal']}")
        await process_presale(message, state, message.from_user.id)
    else:
        await state.set_state(PresaleStates.waiting_for_goal)
        await message.answer(msg_url_accepted(domain), reply_markup=get_goals_keyboard())

@router.message(StateFilter(PresaleStates.waiting_for_constraints))
async def handle_constraints(message: Message, state: FSMContext):
    constraints = message.text.strip()
    await state.update_data(constraints=constraints)
    await process_presale(message, state, message.from_user.id)

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ĞĞ¡ĞĞĞ’ĞĞĞ¯ Ğ›ĞĞ“Ğ˜ĞšĞ ĞŸĞ Ğ•Ğ¡Ğ•Ğ™Ğ›Ğ
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

async def process_presale(message: Message, state: FSMContext, user_id: int):
    data = await state.get_data()
    url = data.get("url")
    domain = data.get("domain")
    goal = data.get("goal")
    constraints = data.get("constraints", "-")
    
    await state.set_state(PresaleStates.processing)
    status_msg = await message.answer(msg_processing_start())
    start_time = datetime.now()
    
    task_id = await create_manus_task(url, goal, constraints)
    
    if not task_id:
        stats["errors"] += 1
        add_user_task(user_id, {"domain": domain, "goal": goal, "status": "error", "date": datetime.now().strftime("%d.%m.%Y %H:%M")})
        await status_msg.edit_text(msg_error("ĞĞµ ÑƒĞ´Ğ°Ğ»Ğ¾ÑÑŒ ÑĞ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ·Ğ°Ğ´Ğ°Ñ‡Ñƒ Ğ² Manus"))
        await state.clear()
        await message.answer("Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ Ğ¼ĞµĞ½Ñ Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€Ğ½Ğ¾Ğ¹ Ğ¿Ğ¾Ğ¿Ñ‹Ñ‚ĞºĞ¸.", reply_markup=get_main_keyboard())
        return
    
    task_info = {"task_id": task_id, "domain": domain, "goal": goal, "status": "running", "date": datetime.now().strftime("%d.%m.%Y %H:%M")}
    add_user_task(user_id, task_info)
    
    iteration = 0
    stages = ["ĞĞ½Ğ°Ğ»Ğ¸Ğ· ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸", "Ğ¡Ğ±Ğ¾Ñ€ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…", "Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ²", "Ğ¤Ğ¸Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ"]
    
    while True:
        elapsed = datetime.now() - start_time
        elapsed_sec = int(elapsed.total_seconds())
        elapsed_min = elapsed_sec // 60
        elapsed_sec_display = elapsed_sec % 60
        
        if elapsed_sec > TASK_TIMEOUT:
            stats["errors"] += 1
            task_info["status"] = "error"
            await status_msg.edit_text(msg_error("ĞŸÑ€ĞµĞ²Ñ‹ÑˆĞµĞ½Ğ¾ Ğ²Ñ€ĞµĞ¼Ñ Ğ¾Ğ¶Ğ¸Ğ´Ğ°Ğ½Ğ¸Ñ"))
            await state.clear()
            await message.answer("Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ Ğ¼ĞµĞ½Ñ Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€Ğ½Ğ¾Ğ¹ Ğ¿Ğ¾Ğ¿Ñ‹Ñ‚ĞºĞ¸.", reply_markup=get_main_keyboard())
            return
        
        task_status = await get_task_status(task_id)
        status = task_status.get("status", "running")
        
        if status == "completed":
            break
        elif status == "failed":
            stats["errors"] += 1
            task_info["status"] = "error"
            await status_msg.edit_text(msg_error("Ğ—Ğ°Ğ´Ğ°Ñ‡Ğ° Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞ¸Ğ»Ğ°ÑÑŒ Ñ Ğ¾ÑˆĞ¸Ğ±ĞºĞ¾Ğ¹"))
            await state.clear()
            await message.answer("Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ Ğ¼ĞµĞ½Ñ Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€Ğ½Ğ¾Ğ¹ Ğ¿Ğ¾Ğ¿Ñ‹Ñ‚ĞºĞ¸.", reply_markup=get_main_keyboard())
            return
        
        iteration += 1
        stage_idx = min(iteration // 10, len(stages) - 1)
        percent = min(iteration * 3, 95)
        
        try:
            await status_msg.edit_text(msg_processing_progress(elapsed_min, elapsed_sec_display, stages[stage_idx], percent))
        except:
            pass
        
        await asyncio.sleep(POLLING_INTERVAL)
    
    task_info["status"] = "completed"
    stats["successful"] += 1
    
    # Ğ˜Ğ·Ğ²Ğ»ĞµĞºĞ°ĞµĞ¼ Ñ„Ğ°Ğ¹Ğ»Ñ‹ (Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½ Ğ±Ñ‹Ñ‚ÑŒ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ 1 Ñ„Ğ°Ğ¹Ğ» â€” Ğ´Ğ¾ÑÑŒĞµ)
    artifacts = []
    for output_item in task_status.get("output", []):
        content = output_item.get("content", [])
        if isinstance(content, list):
            for item in content:
                if item.get("type") == "output_file" and item.get("fileUrl"):
                    artifacts.append({
                        "url": item.get("fileUrl"),
                        "name": item.get("fileName", "file")
                    })
    
    logger.info(f"Stage 1 completed: {len(artifacts)} files")
    
    # Ğ’Ñ‹Ñ‡Ğ¸ÑĞ»ÑĞµĞ¼ Ğ²Ñ€ĞµĞ¼Ñ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸
    elapsed = datetime.now() - start_time
    elapsed_str = f"{int(elapsed.total_seconds()) // 60:02d}:{int(elapsed.total_seconds()) % 60:02d}"
    
    await status_msg.edit_text(f"âœ… ĞĞ½Ğ°Ğ»Ğ¸Ğ· Ğ·Ğ°Ğ²ĞµÑ€ÑˆÑ‘Ğ½ ({elapsed_str})")
    
    # ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµĞ¼ Ğ´Ğ¾ÑÑŒĞµ
    for artifact in artifacts:
        file_url = artifact.get("url")
        file_name = artifact.get("name", "file")
        
        if file_url:
            filepath = await download_file(file_url, file_name)
            if filepath:
                try:
                    caption = msg_file_caption(file_name)
                    await message.answer_document(FSInputFile(filepath, filename=file_name), caption=caption)
                    stats["files_sent"] += 1
                except Exception as e:
                    logger.error(f"Error sending file: {e}")
                finally:
                    try:
                        os.remove(filepath)
                    except:
                        pass
    
    # ĞŸĞ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµĞ¼ Ğ¼ĞµĞ½Ñ Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğ° Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ² (Ğ­Ğ¢ĞĞŸ 2)
    await state.set_state(PresaleStates.selecting_docs)
    await message.answer(
        f"""âœ… Ğ”Ğ¾ÑÑŒĞµ Ğ½Ğ° {domain} Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ¾!

ğŸ“Š Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ñ‹ Ğ´Ğ»Ñ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸:

ĞÑ‚Ğ¼ĞµÑ‚ÑŒÑ‚Ğµ Ğ½ÑƒĞ¶Ğ½Ñ‹Ğµ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ñ‹ Ğ¸ Ğ½Ğ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ "Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ²Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ½Ñ‹Ğµ".""",
        reply_markup=get_document_selector_keyboard(set())
    )

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ĞĞ‘Ğ ĞĞ‘ĞĞ¢Ğ§Ğ˜ĞšĞ˜ Ğ’Ğ«Ğ‘ĞĞ Ğ Ğ”ĞĞšĞ£ĞœĞ•ĞĞ¢ĞĞ’
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

@router.callback_query(F.data.startswith("toggle_doc_"))
async def callback_toggle_doc(callback: CallbackQuery, state: FSMContext):
    """ĞŸĞµÑ€ĞµĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğ° Ğ¾Ğ´Ğ½Ğ¾Ğ³Ğ¾ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°"""
    doc_id = callback.data.replace("toggle_doc_", "")
    data = await state.get_data()
    selected = set(data.get("selected_docs", []))
    
    if doc_id in selected:
        selected.remove(doc_id)
    else:
        selected.add(doc_id)
    
    await state.update_data(selected_docs=list(selected))
    await callback.message.edit_reply_markup(reply_markup=get_document_selector_keyboard(selected))
    await callback.answer()

@router.callback_query(F.data == "toggle_all_docs")
async def callback_toggle_all(callback: CallbackQuery, state: FSMContext):
    """Ğ’Ñ‹Ğ±Ñ€Ğ°Ñ‚ÑŒ/ÑĞ½ÑÑ‚ÑŒ Ğ²ÑĞµ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ñ‹"""
    data = await state.get_data()
    selected = set(data.get("selected_docs", []))
    
    if len(selected) == len(SELECTABLE_DOCS):
        selected = set()  # Ğ¡Ğ½ÑÑ‚ÑŒ Ğ²ÑĞµ
    else:
        selected = set(SELECTABLE_DOCS)  # Ğ’Ñ‹Ğ±Ñ€Ğ°Ñ‚ÑŒ Ğ²ÑĞµ
    
    await state.update_data(selected_docs=list(selected))
    await callback.message.edit_reply_markup(reply_markup=get_document_selector_keyboard(selected))
    await callback.answer()

@router.callback_query(F.data == "confirm_docs")
async def callback_confirm_docs(callback: CallbackQuery, state: FSMContext):
    """ĞŸĞ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğ° Ğ¸ Ğ·Ğ°Ğ¿ÑƒÑĞº Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸"""
    data = await state.get_data()
    selected = data.get("selected_docs", [])
    
    if not selected:
        await callback.answer("âš ï¸ Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ñ…Ğ¾Ñ‚Ñ Ğ±Ñ‹ 1 Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚", show_alert=True)
        return
    
    summary = get_selected_docs_summary(set(selected))
    await callback.message.edit_text(f"""âœ… Ğ’Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ¾ {len(selected)} Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ²:

{summary}

â³ Ğ—Ğ°Ğ¿ÑƒÑĞºĞ°Ñ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ...""")
    await callback.answer()
    
    # Ğ—Ğ°Ğ¿ÑƒÑĞºĞ°ĞµĞ¼ Ğ­Ğ¢ĞĞŸ 3: Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ğ²Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ²
    await state.set_state(PresaleStates.generating_docs)
    await process_selected_documents(callback.message, state, callback.from_user.id)

async def process_selected_documents(message: Message, state: FSMContext, user_id: int):
    """Ğ­Ğ¢ĞĞŸ 3: Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ğ²Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ² (Ğ¿Ğ¾ Ğ¾Ğ´Ğ½Ğ¾Ğ¼Ñƒ)"""
    
    data = await state.get_data()
    url = data.get("url")
    domain = data.get("domain")
    goal = data.get("goal")
    constraints = data.get("constraints", "-")
    selected_docs = data.get("selected_docs", [])
    
    status_msg = await message.answer(f"ğŸš€ Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ {len(selected_docs)} Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ²...")
    start_time = datetime.now()
    
    all_artifacts = []
    
    # Ğ“ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµĞ¼ ĞºĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚ Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ğ¾
    for idx, doc_id in enumerate(selected_docs, 1):
        doc_info = DOCUMENT_TYPES.get(doc_id, {})
        doc_name = doc_info.get("name", doc_id)
        
        await status_msg.edit_text(f"ğŸ“ Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ {idx}/{len(selected_docs)}: {doc_name}...")
        
        # ĞŸĞ¾Ğ»ÑƒÑ‡Ğ°ĞµĞ¼ Ğ¿Ñ€Ğ¾Ğ¼Ğ¿Ñ‚ Ğ´Ğ»Ñ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ğ¾Ğ³Ğ¾ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°
        prompt = get_document_prompt(doc_id, url, goal, constraints)
        if not prompt:
            logger.error(f"No prompt for document {doc_id}")
            continue
        
        # Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‘Ğ¼ Ğ·Ğ°Ğ´Ğ°Ñ‡Ñƒ Ğ´Ğ»Ñ ÑÑ‚Ğ¾Ğ³Ğ¾ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°
        task_id = await create_manus_task_single_doc(prompt)
        
        if not task_id:
            logger.error(f"Failed to create task for {doc_id}")
            continue
        
        # ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¸Ñ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸
        doc_start = datetime.now()
        while True:
            if (datetime.now() - doc_start).total_seconds() > TASK_TIMEOUT:
                logger.error(f"Timeout for {doc_id}")
                break
            
            task_status = await get_task_status(task_id)
            status = task_status.get("status", "running")
            
            if status == "completed":
                # Ğ˜Ğ·Ğ²Ğ»ĞµĞºĞ°ĞµĞ¼ Ñ„Ğ°Ğ¹Ğ»Ñ‹ Ğ¸Ğ· ÑÑ‚Ğ¾Ğ¹ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸
                for output_item in task_status.get("output", []):
                    content = output_item.get("content", [])
                    if isinstance(content, list):
                        for item in content:
                            if item.get("type") == "output_file" and item.get("fileUrl"):
                                all_artifacts.append({
                                    "url": item.get("fileUrl"),
                                    "name": item.get("fileName", "file")
                                })
                break
            elif status == "failed":
                logger.error(f"Task failed for {doc_id}")
                break
            
            await asyncio.sleep(POLLING_INTERVAL)
    
    # Ğ’ÑĞµ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ñ‹ ÑĞ³ĞµĞ½ĞµÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ñ‹
    stats["successful"] += 1
    artifacts = all_artifacts
    
    logger.info(f"Found {len(artifacts)} files to send")
    files_sent = 0
    
    elapsed = datetime.now() - start_time
    elapsed_str = f"{int(elapsed.total_seconds()) // 60:02d}:{int(elapsed.total_seconds()) % 60:02d}"
    
    await status_msg.edit_text(msg_delivery_summary(domain, len(artifacts), elapsed_str))
    
    # ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµĞ¼ Ñ„Ğ°Ğ¹Ğ»Ñ‹
    for artifact in artifacts:
        file_url = artifact.get("url")
        file_name = artifact.get("name", "file")
        
        if file_url:
            filepath = await download_file(file_url, file_name)
            if filepath:
                try:
                    caption = msg_file_caption(file_name)
                    await message.answer_document(FSInputFile(filepath, filename=file_name), caption=caption)
                    files_sent += 1
                    stats["files_sent"] += 1
                    await asyncio.sleep(0.5)
                except Exception as e:
                    logger.error(f"Error sending file: {e}")
                finally:
                    try:
                        os.remove(filepath)
                    except:
                        pass
    
    await message.answer(msg_delivery_complete(domain, files_sent, elapsed_str), reply_markup=get_main_keyboard())
    await state.clear()

@router.callback_query(F.data == "noop")
async def callback_noop(callback: CallbackQuery):
    """ĞŸÑƒÑÑ‚Ğ¾Ğ¹ callback Ğ´Ğ»Ñ Ğ½ĞµĞ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ñ… ĞºĞ½Ğ¾Ğ¿Ğ¾Ğº"""
    await callback.answer()

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ğ—ĞĞŸĞ£Ğ¡Ğš Ğ‘ĞĞ¢Ğ
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

async def main():
    print(f"""
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ğŸ¤– JARVIS v{VERSION} - BIMAR Presale Intelligence System       â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    """)
    print(f"Manus API URL: {MANUS_BASE_URL}")
    print(f"Project ID: {MANUS_PROJECT_ID}")
    print(f"Quick Mode (default): {QUICK_MODE_DEFAULT}")
    print(f"Allowed users: {'All' if not ALLOWED_USER_IDS else ALLOWED_USER_IDS}")
    print("=" * 60)
    
    await dp.start_polling(bot)

if __name__ == "__main__":
    asyncio.run(main())
